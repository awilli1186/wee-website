{"version":3,"sources":["../../../../source/js/lib/vendor/less.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","less","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","addDataAttr","browser","options","currentScript","undefined","isFileProtocol","test","location","protocol","async","fileAsync","poll","env","hostname","port","dumpLineNumbers","exec","hash","useFileCache","onReady","./browser","./utils","2","resolveOrReject","data","filename","console","warn","head","removeChild","style","css","watch","document","getElementsByTagName","createElement","type","styleSheet","cssText","appendChild","createTextNode","registerStylesheetsImmediately","pageLoadFinished","refresh","then","./add-default-options","./index","promise/polyfill.js","3","utils","createCSS","styles","sheet","href","id","title","extractId","oldStyleNode","getElementById","keepOldStyleNode","styleNode","setAttribute","media","childNodes","firstChild","nodeValue","nextEl","nextSibling","parentNode","insertBefore","scripts","4","logger","cache","localStorage","_","setCSS","path","lastModified","modifyVars","info","setItem","JSON","stringify","error","getCSS","webInfo","getItem","timestamp","vars","Date","valueOf","5","errorHTML","rootHref","timer","content","template","elem","errors","filenameNoPath","match","className","message","errorline","classname","extract","push","replace","parseInt","line","column","join","stack","logLevel","split","slice","innerHTML","setInterval","body","replaceChild","clearInterval","removeErrorHTML","node","removeErrorConsole","removeError","errorReporting","errorConsole","add","remove","6","getXMLHttpRequest","XMLHttpRequest","ActiveXObject","AbstractFileManager","fileCache","FileManager","prototype","alwaysMakePathsAbsolute","basePath","laterPath","extractUrlParts","doXHR","url","callback","errback","handleResponse","xhr","status","responseText","getResponseHeader","overrideMimeType","debug","open","setRequestHeader","send","onreadystatechange","readyState","supports","currentDirectory","environment","clearFileCache","loadFile","isPathAbsolute","hrefParts","lessText","contents","mime","../less/environment/abstract-file-manager.js","7","imageSize","functionRegistry","imageFunctions","image-size","filePathNode","image-width","image-height","addMultiple","./../less/functions/function-registry","8","postProcessCSS","postProcessor","clone","obj","cloned","prop","hasOwnProperty","bind","func","thisArg","curryArgs","Array","arguments","args","concat","apply","loadStyles","typePattern","instanceOptions","render","result","loadStyleSheet","reload","remaining","loadInitialFileCallback","loadedFile","newFileInfo","fileManager","getPath","rootFilename","relativeUrls","entryPath","rootpath","local","rootFileInfo","loadStyleSheets","sheets","initRunningMode","watchTimer","watchMode","addFileManager","functions","unwatch","links","rel","registerStylesheets","Promise","resolve","reject","record","startTime","endTime","totalMilliseconds","remainingSheets","refreshStyles","../less","./cache","./error-reporting","./file-manager","./image-size","./log-listener","9","logLevel_debug","logLevel_info","logLevel_warn","logLevel_error","loggers","msg","log","addListener","10","tag","opt","dataset","parse","11","contexts","copyFromOriginal","original","destination","propertiesToCopy","parseCopyProperties","Parse","paths","evalCopyProperties","Eval","frames","importantScope","inParenthesis","parensStack","outOfParenthesis","pop","isMathOn","strictMath","isPathRelative","normalizePath","segment","segments","reverse","12","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","13","colors","unitConversions","./colors","./unit-conversions","14","m","cm","mm","in","px","pt","pc","duration","ms","angle","rad","Math","PI","deg","grad","turn","15","abstractFileManager","j","lastIndexOf","tryAppendExtension","ext","tryAppendLessExtension","supportsSync","pathDiff","baseUrl","max","urlDirectories","baseUrlDirectories","urlParts","baseUrlParts","diff","hostPart","directories","urlPartsRegex","returner","splice","fileUrl","16","externalEnvironment","fileManagers","optionalFunctions","requiredFunctions","propName","environmentFunc","getFileManager","isSync","pluginManager","getFileManagers","clearFileManagers","../logger","17","colorBlend","mode","color1","color2","cb","cs","ar","cr","ab","alpha","as","rgb","Color","colorBlendModeFunctions","multiply","screen","overlay","softlight","d","sqrt","hardlight","difference","abs","exclusion","average","negation","../tree/color","./function-registry","18","clamp","val","min","hsla","color","colorFunctions","h","number","Dimension","parseFloat","unit","is","value","scaled","size","Quoted","Anonymous","b","rgba","map","c","hsl","hue","m1","m2","hsv","v","hsva","floor","vs","perm","toHSL","saturation","lightness","hsvhue","toHSV","hsvsaturation","hsvvalue","luma","luminance","saturate","amount","method","desaturate","lighten","darken","fadein","fadeout","fade","spin","mix","weight","dir","p","w","w1","w2","greyscale","contrast","threshold","contrast1","contrast2","luma1","luma2","argb","toARGB","fromKeyword","tint","shade","../tree/anonymous","../tree/dimension","../tree/quoted","19","URL","fallback","functionThis","index","currentFileInfo","eval","context","mimetypeNode","mimetype","filePath","fragmentStart","indexOf","fragment","useBase64","mimeLookup","charset","charsetLookup","fileSync","loadFileSync","buf","encodeBase64","encodeURIComponent","uri","DATA_URI_MAX","ieCompat","../tree/url","20","Keyword","defaultFunc","value_","error_","True","False","reset","../tree/keyword","21","Expression","functionCaller","name","toLowerCase","get","isValid","Boolean","isArray","filter","item","subNodes","../tree/expression","22","makeRegistry","base","_data","Object","keys","forEach","inherit","23","./color","./color-blending","./data-uri","./default","./function-caller","./math","./number","./string","./svg","./types","24","MathHelper","_math","fn","unify","25","mathHelper","mathFunctions","ceil","sin","cos","atan","asin","acos","round","fraction","num","toFixed","./math-helper.js","26","minMax","isMin","current","currentUnified","referenceUnified","unitStatic","unitClone","order","values","toString","toCSS","compress","convert","convertTo","pi","mod","pow","x","y","percentage","27","JavaScript","str","evaluated","escape","encodeURI","string","pattern","replacement","flags","RegExp","quote","escaped","%","token","../tree/javascript","28","direction","throwArgumentDescriptor","stops","gradientDirectionSvg","position","positionValue","gradientType","rectangleDimension","renderEnv","directionValue","toRGB","29","DetachedRuleset","Operation","isa","Type","isunit","getItemsFromNode","items","isruleset","iscolor","isnumber","isstring","iskeyword","isurl","ispixel","ispercentage","isem","get-unit","../tree/detached-ruleset","../tree/operation","30","Parser","FunctionImporter","ImportManager","contentsIgnoredChars","queue","files","importOptions","importManager","fileParsedFunc","root","fullPath","importedEqualsRoot","optional","rules","plugin","loadFileCallback","resolvedFilename","newEnv","processImports","reference","inline","promise","err","./contexts","./parser/parser","./plugins/function-importer","31","SourceMapOutput","SourceMapBuilder","ParseTree","Environment","version","tree","visitors","LessError","transformTree","PluginManager","./data","./environment/abstract-file-manager","./environment/environment","./functions","./import-manager","./less-error","./logger","./parse","./parse-tree","./plugin-manager","./render","./source-map-builder","./source-map-output","./transform-tree","./tree","./visitors","32","currentFilename","input","loc","getLocation","col","callLine","lines","callExtract","create","F","constructor","33","_fireEvent","listener","_listeners","removeListener","logFunction","34","imports","evaldRoot","sourceMapBuilder","toCSSOptions","strictUnits","numPrecision","sourceMap","postProcessors","getPostProcessors","process","getExternalSourceMap","file","35","PromiseConstructor","output","addPlugins","plugins","36","fail","emitChunk","force","len","chunkerCurrentIndex","emitFrom","chunks","lastOpening","lastOpeningParen","lastMultiComment","lastMultiCommentEndBrace","currentChunkStartIndex","cc","cc2","matched","level","parenLevel","charCodeAt","String","fromCharCode","37","chunker","skipWhitespace","nextChar","comment","oldi","parserInput","oldj","curr","currentPos","endIndex","mem","inp","autoCommentAbsorb","CHARCODE_FORWARD_SLASH","charAt","isLineComment","nextNewLine","text","substr","commentStore","nextStarSlash","CHARCODE_SPACE","CHARCODE_LF","CHARCODE_TAB","CHARCODE_CR","finished","furthest","furthestPossibleErrorMessage","saveStack","CHARCODE_PLUS","CHARCODE_COMMA","CHARCODE_9","save","restore","possibleErrorMessage","state","forget","isWhitespace","offset","pos","$re","tok","$char","$str","tokLength","$quoted","startChar","currentPosition","peek","peekChar","currentChar","getInput","peekNotNumeric","start","chunkInput","failFunction","end","isFinished","furthestReachedEnd","furthestChar","./chunker","38","getParserInput","fileInfo","expect","arg","Function","parsers","expectChar","getDebugInfo","lineNumber","fileName","additionalData","globalVars","ignored","preText","serializeVars","preProcessors","getPreProcessors","banner","primary","firstRoot","endInfo","finish","ImportVisitor","run","mixin","extendRule","definition","rule","ruleset","rulesetCall","entities","directive","foundSemiColon","shift","quoted","isEscaped","keyword","k","nameLC","isSemiColonSeparated","argsSemiColon","argsComma","expressions","detachedRuleset","assignment","expression","literal","dimension","unicodeDescriptor","key","entity","variable","Variable","variableCurly","curly","colorCandidateString","colorKeyword","ud","javascript","js","jsQuote","RulesetCall","extend","isRule","elements","option","extendList","element","elemIndex","important","isCall","expressionContainsNamed","nameLoop","expand","variadic","throwAwayComments","cond","params","argInfo","conditions","block","combinator","attribute","selector","slashedCombinator","lessSelector","isLess","allExtends","when","condition","op","blockRuleset","Ruleset","selectors","debugInfo","strictImports","tryAnonymous","merge","isVariable","startOfRule","ruleProperty","tryValueFirst","anonymousValue","import","features","mediaFeatures","optionName","importOption","mediaFeature","nodes","property","nonVendorSpecificName","hasIdentifier","hasExpression","hasUnknown","hasBlock","isRooted","trim","sub","addition","parens","multiplication","operation","isSpaced","operand","parensInOp","or","logical","next","conditionAnd","insideCondition","me","negatedCondition","parenthesisCondition","and","negate","tryConditionFollowedByParenthesis","atomicCondition","delim","re","chunk","simpleProperty","../less-error","../tree","../utils","../visitors","./parser-input","39","installedPlugins","addPlugin","install","addVisitor","visitor","addPreProcessor","preProcessor","priority","indexToInsertAt","addPostProcessor","manager","getVisitors","40","loader","registry","loaded","41","parseTree","42","rootNode","sourceMapOutput","contentsIgnoredCharsMap","contentsMap","sourceMapFilename","sourceMapURL","outputFilename","sourceMapOutputFilename","sourceMapBasepath","sourceMapRootpath","outputSourceFiles","sourceMapGenerator","sourceMapFileInline","sourceMapInputFilename","normalizeFilename","getCSSAppendage","setExternalSourceMap","isInline","getSourceMapURL","getOutputFilename","getInputFilename","43","_css","_rootNode","_contentsMap","_contentsIgnoredCharsMap","_sourceMapFilename","_outputFilename","_sourceMapBasepath","_sourceMapRootpath","_outputSourceFiles","_sourceMapGeneratorConstructor","getSourceMapGenerator","_lineNumber","_column","substring","mapLines","sourceLines","columns","sourceColumns","inputSource","_sourceMapGenerator","addMapping","generated","source","isEmpty","sourceRoot","setSourceContent","genCSS","sourceMapContent","toJSON","44","variables","evalEnv","Value","Rule","preEvalVisitors","JoinSelectorVisitor","MarkVisibleSelectorsVisitor","ExtendVisitor","ToCSSVisitor","pluginVisitors","pluginVisitor","isPreEvalVisitor","isPreVisitor","45","Node","Alpha","accept","visit","./node","46","rulesetLike","visibilityInfo","allowRoot","copyVisibilityInfo","compare","other","isRulesetLike","47","Assignment","48","Attribute","49","FunctionCaller","Call","visitArray","funcCaller","../functions/function-caller","50","toHex","originalForm","doNotCompress","fround","splitcolor","operate","_operate","../data/colors","51","Combinator","emptyOrWhitespace","_noSpaceCombinators",""," ","|","spaceOrEmpty","52","Comment","isSilent","isCompressed","./debug-info","53","Condition","lvalue","rvalue","54","ctx","lineSeparator","asComment","asMediaQuery","filenameWithProtocol","55","evalFirst","callEval","../contexts","56","Unit","toColor","isSingular","strValue","isLength","numerator","denominator","backupUnit","usedUnits","sort","cancel","numericCompare","conversions","groupName","group","targetUnit","applyUnit","derivedConversions","atomicUnit","../data/unit-conversions","./unit","57","Selector","Directive","createEmptySelectors","allowImports","isCharset","outputRuleset","mediaPathBackup","mediaBlocksBackup","mediaPath","mediaBlocks","find","rulesets","ruleCnt","tabLevel","tabSetStr","tabRuleStr","./ruleset","./selector","58","Paren","Element","firstSelector","./combinator","./paren","59","returnValue","doubleParen","./comment","60","Extend","object_id","next_id","parent_ids","allowBefore","allowAfter","findSelfSelectors","selectorElements","selfElements","selfSelectors","61","Media","Import","pathValue","isVariableImport","containsVariables","evalForImport","evalPath","doEval","blocksVisibility","addVisibilityBlock","skip","importedFilename","newImport","evalImports","./anonymous","./media","./quoted","./url","62","Definition","UnicodeDescriptor","Negative","./alpha","./assignment","./attribute","./call","./condition","./detached-ruleset","./dimension","./directive","./element","./expression","./extend","./import","./javascript","./keyword","./mixin-call","./mixin-definition","./negative","./operation","./rule","./ruleset-call","./unicode-descriptor","./value","./variable","63","JsEvalNode","evaluateJavaScript","./js-eval-node","64","that","evalContext","javascriptEnabled","jsify","toJS","65","66","strictMathBypass","unshift","evalTop","evalNested","multiMedia","permute","arr","rest","bubbleSelectors","67","MixinDefinition","MixinCall","calcDefGroup","mixinPath","namespace","conditionResult","matchCondition","defTrue","defFalse","defNone","defFalseEitherCase","mixins","argValue","isRecursive","isOneFound","candidate","defaultResult","count","originalRuleset","noArgumentsFilter","candidates","matchArgs","format","newRules","evalCall","_setVisibilityToReplacement","../functions/default","68","arity","_lookups","optionalParameters","required","reduce","evalParams","mixinEnv","evaldArguments","varargs","isNamedFound","argIndex","frame","argsLength","prependRule","resetCache","makeImportant","_arguments","mixinFrames","allArgsCnt","requiredArgsCnt","69","70","strs","precision","Number","visibilityBlocks","removeVisibilityBlock","ensureVisibility","nodeVisible","ensureInvisibility","isVisible","71","operands","72","73","iterativeReplace","regexp","replacementFnc","evaluatedValue","javascriptReplacement","exp","interpolationReplacement","74","evalName","lastRule","evaldValue","importantResult","75","76","globalFunctionRegistry","isRuleset","selCnt","thisSelectors","hasOnePassingSelector","evaldCondition","subRule","found","ctxFrames","ctxSelectors","rsRules","rsRuleCnt","mediaBlockCount","isJustParentSelector","importRules","lastSelector","_rulesets","_variables","filtRules","cnt","foundMixins","isRulesetLikeNode","charsetRuleNodes","ruleNodes","sep","charsetNodeIndex","importNodeIndex","pathSubCnt","pathCnt","currentLastRule","joinSelectors","joinSelector","createParenthesis","elementsToPak","originalElement","replacementParen","insideParent","createSelector","containedElement","addReplacementIntoPath","beginningPath","addPath","replacedElement","originalSelector","newSelectorPath","newJoinedSelector","createDerived","parentEl","restOfPath","addAllReplacementsIntoPath","addPaths","mergeElementsOnToSelectors","sel","replaceParentSelector","inSelector","findNestedSelector","maybeSelector","currentElements","newSelectors","selectorsMultiplied","el","hadParentSelector","nestedSelector","replaced","nestedPaths","replacedNewSelectors","replacementSelector","deriveSelector","deriveFrom","newSelector","newPaths","concatenated","../functions/function-registry","77","mediaEmpty","sels","olen","CacheElements","_elements","getIsOutput","78","79","returnStr","unitString","toUpperCase","mapUnit","counter","80","isEvald","urlArgs","delimiter","81","82","evaluating","fun","83","inputStream","84","Visitor","ExtendFinderVisitor","_visitor","allExtendsStack","visitRule","ruleNode","visitArgs","visitDeeper","visitMixinDefinition","mixinDefinitionNode","visitRuleset","rulesetNode","allSelectorsExtendList","extendOnEveryPath","selectorPath","selExtendList","allSelectorsExtend","foundExtends","firstExtendOnThisSelectorPath","visitRulesetOut","visitMedia","mediaNode","visitMediaOut","visitDirective","directiveNode","visitDirectiveOut","ProcessExtendsVisitor","extendFinder","extendIndices","doExtendChaining","newRoot","checkExtendsForNonMatched","indices","hasFoundMatches","extendsList","extendsListTarget","iterationCount","extendIndex","targetExtendIndex","matches","targetExtend","newExtend","extendsToAdd","extendVisitor","findMatch","selfSelector","extendSelector","extendChainCount","selectorOne","selectorTwo","visitSelector","selectorNode","pathIndex","selectorsToAdd","extendedSelectors","haystackSelectorPath","haystackSelectorIndex","hackstackSelector","hackstackElementIndex","haystackElement","targetCombinator","potentialMatch","needleElements","potentialMatches","initialCombinator","isElementValuesEqual","endPathIndex","endPathElementIndex","elementValue1","elementValue2","matchIndex","firstElement","newElements","currentSelectorPathIndex","currentSelectorPathElementIndex","currentValue","derived","newAllExtends","lastIndex","./visitor","85","ImportSequencer","onSequencerEmpty","variableImports","_onSequencerEmpty","_currentDepth","addImport","importSequencer","importItem","isReady","tryRun","addVariableImport","variableImport","86","importer","_importer","_finish","importCount","onceFileDetectionMap","recursionDetector","_sequencer","isReplacing","visitImport","importNode","inlineCSS","importParent","processImportNode","evaldImportNode","multiple","importMultiple","onImported","sequencedOnImported","importedAtRoot","importVisitor","isPlugin","isOptional","duplicateImport","oldContext","visitRuleOut","visitMixinDefinitionOut","./import-sequencer","87","./extend-visitor","./import-visitor","./join-selector-visitor","./set-tree-visibility-visitor","./to-css-visitor","88","89","SetTreeVisibilityVisitor","visible","90","CSSVisitorUtils","_context","containsSilentNonBlockedChild","bodyRules","keepOnlyVisibleChilds","owner","thing","hasVisibleSelector","resolveVisibility","originalRules","compiledRulesBody","isVisibleRuleset","mixinNode","visitExtend","extendNode","visitComment","commentNode","visitDirectiveWithBody","visitDirectiveWithoutBody","hasFakeRuleset","getBodyRules","nodeRules","_mergeRules","checkValidNodes","isRoot","_compileRulesetPaths","nodeRuleCnt","_removeDuplicateRules","ruleList","ruleCache","ruleCSS","parts","groups","toExpression","toValue","spacedGroups","lastSpacedGroup","visitAnonymous","anonymousNode","91","_noop","indexNodeTypes","parent","ticker","child","typeIndex","_visitArgs","_hasIndexed","implementation","_implementation","_visitFnCache","nodeTypeIndex","fnName","visitFnCache","impl","aryIndx","outAryIndex","funcOut","newNode","nonReplacing","out","evald","flatten","nestedCnt","nestedItem","92","throwFirstError","pendingErrors","asap","task","rawTask","freeTasks","RawTask","rawAsap","requestErrorThrow","makeRequestCallFromTimer","onerror","./raw","93","requestFlush","flushing","flush","currentIndex","capacity","scan","newLength","makeRequestCallFromMutationObserver","toggle","observer","BrowserMutationObserver","observe","characterData","handleTimer","clearTimeout","timeoutHandle","intervalHandle","setTimeout","MutationObserver","WebKitMutationObserver","94","noop","getThen","ex","LAST_ERROR","IS_ERROR","tryCallOne","tryCallTwo","TypeError","_45","_81","_65","_54","doResolve","safeThen","onFulfilled","onRejected","res","handle","Handler","deferred","_10","handleResolved","ret","newValue","finale","_97","done","reason","_61","asap/raw","95","valuePromise","TRUE","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","all","race","./core.js","96","97","./lib/core.js","./lib/es6-extensions.js","./polyfill-done.js"],"mappings":"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","file":"less.min.js","sourcesContent":["/*!\n * Less - Leaner CSS v2.7.1\n * http://lesscss.org\n *\n * Copyright (c) 2009-2016, Alexis Sellier <self@cloudhead.net>\n * Licensed under the Apache-2.0 License.\n *\n */\n\n /** * @license Apache-2.0\n */\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.less = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar addDataAttr = require(\"./utils\").addDataAttr,\n    browser = require(\"./browser\");\n\nmodule.exports = function(window, options) {\n\n    // use options from the current script tag data attribues\n    addDataAttr(options, browser.currentScript(window));\n\n    if (options.isFileProtocol === undefined) {\n        options.isFileProtocol = /^(file|(chrome|safari)(-extension)?|resource|qrc|app):/.test(window.location.protocol);\n    }\n\n    // Load styles asynchronously (default: false)\n    //\n    // This is set to `false` by default, so that the body\n    // doesn't start loading before the stylesheets are parsed.\n    // Setting this to `true` can result in flickering.\n    //\n    options.async = options.async || false;\n    options.fileAsync = options.fileAsync || false;\n\n    // Interval between watch polls\n    options.poll = options.poll || (options.isFileProtocol ? 1000 : 1500);\n\n    options.env = options.env || (window.location.hostname == '127.0.0.1' ||\n        window.location.hostname == '0.0.0.0'   ||\n        window.location.hostname == 'localhost' ||\n        (window.location.port &&\n            window.location.port.length > 0)      ||\n        options.isFileProtocol                   ? 'development'\n        : 'production');\n\n    var dumpLineNumbers = /!dumpLineNumbers:(comments|mediaquery|all)/.exec(window.location.hash);\n    if (dumpLineNumbers) {\n        options.dumpLineNumbers = dumpLineNumbers[1];\n    }\n\n    if (options.useFileCache === undefined) {\n        options.useFileCache = true;\n    }\n\n    if (options.onReady === undefined) {\n        options.onReady = true;\n    }\n\n};\n\n},{\"./browser\":3,\"./utils\":10}],2:[function(require,module,exports){\n/**\n * Kicks off less and compiles any stylesheets\n * used in the browser distributed version of less\n * to kick-start less using the browser api\n */\n/*global window, document */\n\n// shim Promise if required\nrequire('promise/polyfill.js');\n\nvar options = window.less || {};\nrequire(\"./add-default-options\")(window, options);\n\nvar less = module.exports = require(\"./index\")(window, options);\n\nwindow.less = less;\n\nvar css, head, style;\n\n// Always restore page visibility\nfunction resolveOrReject(data) {\n    if (data.filename) {\n        console.warn(data);\n    }\n    if (!options.async) {\n        head.removeChild(style);\n    }\n}\n\nif (options.onReady) {\n    if (/!watch/.test(window.location.hash)) {\n        less.watch();\n    }\n    // Simulate synchronous stylesheet loading by blocking page rendering\n    if (!options.async) {\n        css = 'body { display: none !important }';\n        head = document.head || document.getElementsByTagName('head')[0];\n        style = document.createElement('style');\n\n        style.type = 'text/css';\n        if (style.styleSheet) {\n            style.styleSheet.cssText = css;\n        } else {\n            style.appendChild(document.createTextNode(css));\n        }\n\n        head.appendChild(style);\n    }\n    less.registerStylesheetsImmediately();\n    less.pageLoadFinished = less.refresh(less.env === 'development').then(resolveOrReject, resolveOrReject);\n}\n\n},{\"./add-default-options\":1,\"./index\":8,\"promise/polyfill.js\":97}],3:[function(require,module,exports){\nvar utils = require(\"./utils\");\nmodule.exports = {\n    createCSS: function (document, styles, sheet) {\n        // Strip the query-string\n        var href = sheet.href || '';\n\n        // If there is no title set, use the filename, minus the extension\n        var id = 'less:' + (sheet.title || utils.extractId(href));\n\n        // If this has already been inserted into the DOM, we may need to replace it\n        var oldStyleNode = document.getElementById(id);\n        var keepOldStyleNode = false;\n\n        // Create a new stylesheet node for insertion or (if necessary) replacement\n        var styleNode = document.createElement('style');\n        styleNode.setAttribute('type', 'text/css');\n        if (sheet.media) {\n            styleNode.setAttribute('media', sheet.media);\n        }\n        styleNode.id = id;\n\n        if (!styleNode.styleSheet) {\n            styleNode.appendChild(document.createTextNode(styles));\n\n            // If new contents match contents of oldStyleNode, don't replace oldStyleNode\n            keepOldStyleNode = (oldStyleNode !== null && oldStyleNode.childNodes.length > 0 && styleNode.childNodes.length > 0 &&\n                oldStyleNode.firstChild.nodeValue === styleNode.firstChild.nodeValue);\n        }\n\n        var head = document.getElementsByTagName('head')[0];\n\n        // If there is no oldStyleNode, just append; otherwise, only append if we need\n        // to replace oldStyleNode with an updated stylesheet\n        if (oldStyleNode === null || keepOldStyleNode === false) {\n            var nextEl = sheet && sheet.nextSibling || null;\n            if (nextEl) {\n                nextEl.parentNode.insertBefore(styleNode, nextEl);\n            } else {\n                head.appendChild(styleNode);\n            }\n        }\n        if (oldStyleNode && keepOldStyleNode === false) {\n            oldStyleNode.parentNode.removeChild(oldStyleNode);\n        }\n\n        // For IE.\n        // This needs to happen *after* the style element is added to the DOM, otherwise IE 7 and 8 may crash.\n        // See http://social.msdn.microsoft.com/Forums/en-US/7e081b65-878a-4c22-8e68-c10d39c2ed32/internet-explorer-crashes-appending-style-element-to-head\n        if (styleNode.styleSheet) {\n            try {\n                styleNode.styleSheet.cssText = styles;\n            } catch (e) {\n                throw new Error(\"Couldn't reassign styleSheet.cssText.\");\n            }\n        }\n    },\n    currentScript: function(window) {\n        var document = window.document;\n        return document.currentScript || (function() {\n            var scripts = document.getElementsByTagName(\"script\");\n            return scripts[scripts.length - 1];\n        })();\n    }\n};\n\n},{\"./utils\":10}],4:[function(require,module,exports){\n// Cache system is a bit outdated and could do with work\n\nmodule.exports = function(window, options, logger) {\n    var cache = null;\n    if (options.env !== 'development') {\n        try {\n            cache = (typeof window.localStorage === 'undefined') ? null : window.localStorage;\n        } catch (_) {}\n    }\n    return {\n        setCSS: function(path, lastModified, modifyVars, styles) {\n            if (cache) {\n                logger.info('saving ' + path + ' to cache.');\n                try {\n                    cache.setItem(path, styles);\n                    cache.setItem(path + ':timestamp', lastModified);\n                    if (modifyVars) {\n                        cache.setItem(path + ':vars', JSON.stringify(modifyVars));\n                    }\n                } catch(e) {\n                    //TODO - could do with adding more robust error handling\n                    logger.error('failed to save \"' + path + '\" to local storage for caching.');\n                }\n            }\n        },\n        getCSS: function(path, webInfo, modifyVars) {\n            var css       = cache && cache.getItem(path),\n                timestamp = cache && cache.getItem(path + ':timestamp'),\n                vars      = cache && cache.getItem(path + ':vars');\n\n            modifyVars = modifyVars || {};\n\n            if (timestamp && webInfo.lastModified &&\n                (new Date(webInfo.lastModified).valueOf() ===\n                    new Date(timestamp).valueOf()) &&\n                (!modifyVars && !vars || JSON.stringify(modifyVars) === vars)) {\n                // Use local copy\n                return css;\n            }\n        }\n    };\n};\n\n},{}],5:[function(require,module,exports){\nvar utils = require(\"./utils\"),\n    browser = require(\"./browser\");\n\nmodule.exports = function(window, less, options) {\n\n    function errorHTML(e, rootHref) {\n        var id = 'less-error-message:' + utils.extractId(rootHref || \"\");\n        var template = '<li><label>{line}</label><pre class=\"{class}\">{content}</pre></li>';\n        var elem = window.document.createElement('div'), timer, content, errors = [];\n        var filename = e.filename || rootHref;\n        var filenameNoPath = filename.match(/([^\\/]+(\\?.*)?)$/)[1];\n\n        elem.id        = id;\n        elem.className = \"less-error-message\";\n\n        content = '<h3>'  + (e.type || \"Syntax\") + \"Error: \" + (e.message || 'There is an error in your .less file') +\n            '</h3>' + '<p>in <a href=\"' + filename   + '\">' + filenameNoPath + \"</a> \";\n\n        var errorline = function (e, i, classname) {\n            if (e.extract[i] !== undefined) {\n                errors.push(template.replace(/\\{line\\}/, (parseInt(e.line, 10) || 0) + (i - 1))\n                    .replace(/\\{class\\}/, classname)\n                    .replace(/\\{content\\}/, e.extract[i]));\n            }\n        };\n\n        if (e.extract) {\n            errorline(e, 0, '');\n            errorline(e, 1, 'line');\n            errorline(e, 2, '');\n            content += 'on line ' + e.line + ', column ' + (e.column + 1) + ':</p>' +\n                '<ul>' + errors.join('') + '</ul>';\n        }\n        if (e.stack && (e.extract || options.logLevel >= 4)) {\n            content += '<br/>Stack Trace</br />' + e.stack.split('\\n').slice(1).join('<br/>');\n        }\n        elem.innerHTML = content;\n\n        // CSS for error messages\n        browser.createCSS(window.document, [\n            '.less-error-message ul, .less-error-message li {',\n            'list-style-type: none;',\n            'margin-right: 15px;',\n            'padding: 4px 0;',\n            'margin: 0;',\n            '}',\n            '.less-error-message label {',\n            'font-size: 12px;',\n            'margin-right: 15px;',\n            'padding: 4px 0;',\n            'color: #cc7777;',\n            '}',\n            '.less-error-message pre {',\n            'color: #dd6666;',\n            'padding: 4px 0;',\n            'margin: 0;',\n            'display: inline-block;',\n            '}',\n            '.less-error-message pre.line {',\n            'color: #ff0000;',\n            '}',\n            '.less-error-message h3 {',\n            'font-size: 20px;',\n            'font-weight: bold;',\n            'padding: 15px 0 5px 0;',\n            'margin: 0;',\n            '}',\n            '.less-error-message a {',\n            'color: #10a',\n            '}',\n            '.less-error-message .error {',\n            'color: red;',\n            'font-weight: bold;',\n            'padding-bottom: 2px;',\n            'border-bottom: 1px dashed red;',\n            '}'\n        ].join('\\n'), { title: 'error-message' });\n\n        elem.style.cssText = [\n            \"font-family: Arial, sans-serif\",\n            \"border: 1px solid #e00\",\n            \"background-color: #eee\",\n            \"border-radius: 5px\",\n            \"-webkit-border-radius: 5px\",\n            \"-moz-border-radius: 5px\",\n            \"color: #e00\",\n            \"padding: 15px\",\n            \"margin-bottom: 15px\"\n        ].join(';');\n\n        if (options.env === 'development') {\n            timer = setInterval(function () {\n                var document = window.document,\n                    body = document.body;\n                if (body) {\n                    if (document.getElementById(id)) {\n                        body.replaceChild(elem, document.getElementById(id));\n                    } else {\n                        body.insertBefore(elem, body.firstChild);\n                    }\n                    clearInterval(timer);\n                }\n            }, 10);\n        }\n    }\n\n    function removeErrorHTML(path) {\n        var node = window.document.getElementById('less-error-message:' + utils.extractId(path));\n        if (node) {\n            node.parentNode.removeChild(node);\n        }\n    }\n\n    function removeErrorConsole(path) {\n        //no action\n    }\n\n    function removeError(path) {\n        if (!options.errorReporting || options.errorReporting === \"html\") {\n            removeErrorHTML(path);\n        } else if (options.errorReporting === \"console\") {\n            removeErrorConsole(path);\n        } else if (typeof options.errorReporting === 'function') {\n            options.errorReporting(\"remove\", path);\n        }\n    }\n\n    function errorConsole(e, rootHref) {\n        var template = '{line} {content}';\n        var filename = e.filename || rootHref;\n        var errors = [];\n        var content = (e.type || \"Syntax\") + \"Error: \" + (e.message || 'There is an error in your .less file') +\n            \" in \" + filename + \" \";\n\n        var errorline = function (e, i, classname) {\n            if (e.extract[i] !== undefined) {\n                errors.push(template.replace(/\\{line\\}/, (parseInt(e.line, 10) || 0) + (i - 1))\n                    .replace(/\\{class\\}/, classname)\n                    .replace(/\\{content\\}/, e.extract[i]));\n            }\n        };\n\n        if (e.extract) {\n            errorline(e, 0, '');\n            errorline(e, 1, 'line');\n            errorline(e, 2, '');\n            content += 'on line ' + e.line + ', column ' + (e.column + 1) + ':\\n' +\n                errors.join('\\n');\n        }\n        if (e.stack && (e.extract || options.logLevel >= 4)) {\n            content += '\\nStack Trace\\n' + e.stack;\n        }\n        less.logger.error(content);\n    }\n\n    function error(e, rootHref) {\n        if (!options.errorReporting || options.errorReporting === \"html\") {\n            errorHTML(e, rootHref);\n        } else if (options.errorReporting === \"console\") {\n            errorConsole(e, rootHref);\n        } else if (typeof options.errorReporting === 'function') {\n            options.errorReporting(\"add\", e, rootHref);\n        }\n    }\n\n    return {\n        add: error,\n        remove: removeError\n    };\n};\n\n},{\"./browser\":3,\"./utils\":10}],6:[function(require,module,exports){\n/*global window, XMLHttpRequest */\n\nmodule.exports = function(options, logger) {\n\n    var AbstractFileManager = require(\"../less/environment/abstract-file-manager.js\");\n\n    var fileCache = {};\n\n    //TODOS - move log somewhere. pathDiff and doing something similar in node. use pathDiff in the other browser file for the initial load\n\n    function getXMLHttpRequest() {\n        if (window.XMLHttpRequest && (window.location.protocol !== \"file:\" || !(\"ActiveXObject\" in window))) {\n            return new XMLHttpRequest();\n        } else {\n            try {\n                /*global ActiveXObject */\n                return new ActiveXObject(\"Microsoft.XMLHTTP\");\n            } catch (e) {\n                logger.error(\"browser doesn't support AJAX.\");\n                return null;\n            }\n        }\n    }\n\n    var FileManager = function() {\n    };\n\n    FileManager.prototype = new AbstractFileManager();\n\n    FileManager.prototype.alwaysMakePathsAbsolute = function alwaysMakePathsAbsolute() {\n        return true;\n    };\n    FileManager.prototype.join = function join(basePath, laterPath) {\n        if (!basePath) {\n            return laterPath;\n        }\n        return this.extractUrlParts(laterPath, basePath).path;\n    };\n    FileManager.prototype.doXHR = function doXHR(url, type, callback, errback) {\n\n        var xhr = getXMLHttpRequest();\n        var async = options.isFileProtocol ? options.fileAsync : true;\n\n        if (typeof xhr.overrideMimeType === 'function') {\n            xhr.overrideMimeType('text/css');\n        }\n        logger.debug(\"XHR: Getting '\" + url + \"'\");\n        xhr.open('GET', url, async);\n        xhr.setRequestHeader('Accept', type || 'text/x-less, text/css; q=0.9, */*; q=0.5');\n        xhr.send(null);\n\n        function handleResponse(xhr, callback, errback) {\n            if (xhr.status >= 200 && xhr.status < 300) {\n                callback(xhr.responseText,\n                    xhr.getResponseHeader(\"Last-Modified\"));\n            } else if (typeof errback === 'function') {\n                errback(xhr.status, url);\n            }\n        }\n\n        if (options.isFileProtocol && !options.fileAsync) {\n            if (xhr.status === 0 || (xhr.status >= 200 && xhr.status < 300)) {\n                callback(xhr.responseText);\n            } else {\n                errback(xhr.status, url);\n            }\n        } else if (async) {\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState == 4) {\n                    handleResponse(xhr, callback, errback);\n                }\n            };\n        } else {\n            handleResponse(xhr, callback, errback);\n        }\n    };\n    FileManager.prototype.supports = function(filename, currentDirectory, options, environment) {\n        return true;\n    };\n\n    FileManager.prototype.clearFileCache = function() {\n        fileCache = {};\n    };\n\n    FileManager.prototype.loadFile = function loadFile(filename, currentDirectory, options, environment, callback) {\n        if (currentDirectory && !this.isPathAbsolute(filename)) {\n            filename = currentDirectory + filename;\n        }\n\n        options = options || {};\n\n        // sheet may be set to the stylesheet for the initial load or a collection of properties including\n        // some context variables for imports\n        var hrefParts = this.extractUrlParts(filename, window.location.href);\n        var href      = hrefParts.url;\n\n        if (options.useFileCache && fileCache[href]) {\n            try {\n                var lessText = fileCache[href];\n                callback(null, { contents: lessText, filename: href, webInfo: { lastModified: new Date() }});\n            } catch (e) {\n                callback({filename: href, message: \"Error loading file \" + href + \" error was \" + e.message});\n            }\n            return;\n        }\n\n        this.doXHR(href, options.mime, function doXHRCallback(data, lastModified) {\n            // per file cache\n            fileCache[href] = data;\n\n            // Use remote copy (re-parse)\n            callback(null, { contents: data, filename: href, webInfo: { lastModified: lastModified }});\n        }, function doXHRError(status, url) {\n            callback({ type: 'File', message: \"'\" + url + \"' wasn't found (\" + status + \")\", href: href });\n        });\n    };\n\n    return FileManager;\n};\n\n},{\"../less/environment/abstract-file-manager.js\":15}],7:[function(require,module,exports){\nmodule.exports = function() {\n\n    var functionRegistry = require(\"./../less/functions/function-registry\");\n\n    function imageSize() {\n        throw {\n            type: \"Runtime\",\n            message: \"Image size functions are not supported in browser version of less\"\n        };\n    }\n\n    var imageFunctions = {\n        \"image-size\": function(filePathNode) {\n            imageSize(this, filePathNode);\n            return -1;\n        },\n        \"image-width\": function(filePathNode) {\n            imageSize(this, filePathNode);\n            return -1;\n        },\n        \"image-height\": function(filePathNode) {\n            imageSize(this, filePathNode);\n            return -1;\n        }\n    };\n\n    functionRegistry.addMultiple(imageFunctions);\n};\n\n},{\"./../less/functions/function-registry\":22}],8:[function(require,module,exports){\n//\n// index.js\n// Should expose the additional browser functions on to the less object\n//\nvar addDataAttr = require(\"./utils\").addDataAttr,\n    browser = require(\"./browser\");\n\nmodule.exports = function(window, options) {\n    var document = window.document;\n    var less = require('../less')();\n\n    //module.exports = less;\n    less.options = options;\n    var environment = less.environment,\n        FileManager = require(\"./file-manager\")(options, less.logger),\n        fileManager = new FileManager();\n    environment.addFileManager(fileManager);\n    less.FileManager = FileManager;\n\n    require(\"./log-listener\")(less, options);\n    var errors = require(\"./error-reporting\")(window, less, options);\n    var cache = less.cache = options.cache || require(\"./cache\")(window, options, less.logger);\n    require('./image-size')(less.environment);\n\n    //Setup user functions\n    if (options.functions) {\n        less.functions.functionRegistry.addMultiple(options.functions);\n    }\n\n    var typePattern = /^text\\/(x-)?less$/;\n\n    function postProcessCSS(styles) { // deprecated, use a plugin for postprocesstasks\n        if (options.postProcessor && typeof options.postProcessor === 'function') {\n            styles = options.postProcessor.call(styles, styles) || styles;\n        }\n        return styles;\n    }\n\n    function clone(obj) {\n        var cloned = {};\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                cloned[prop] = obj[prop];\n            }\n        }\n        return cloned;\n    }\n\n    // only really needed for phantom\n    function bind(func, thisArg) {\n        var curryArgs = Array.prototype.slice.call(arguments, 2);\n        return function() {\n            var args = curryArgs.concat(Array.prototype.slice.call(arguments, 0));\n            return func.apply(thisArg, args);\n        };\n    }\n\n    function loadStyles(modifyVars) {\n        var styles = document.getElementsByTagName('style'),\n            style;\n\n        for (var i = 0; i < styles.length; i++) {\n            style = styles[i];\n            if (style.type.match(typePattern)) {\n                var instanceOptions = clone(options);\n                instanceOptions.modifyVars = modifyVars;\n                var lessText = style.innerHTML || '';\n                instanceOptions.filename = document.location.href.replace(/#.*$/, '');\n\n                /*jshint loopfunc:true */\n                // use closure to store current style\n                less.render(lessText, instanceOptions,\n                        bind(function(style, e, result) {\n                            if (e) {\n                                errors.add(e, \"inline\");\n                            } else {\n                                style.type = 'text/css';\n                                if (style.styleSheet) {\n                                    style.styleSheet.cssText = result.css;\n                                } else {\n                                    style.innerHTML = result.css;\n                                }\n                            }\n                        }, null, style));\n            }\n        }\n    }\n\n    function loadStyleSheet(sheet, callback, reload, remaining, modifyVars) {\n\n        var instanceOptions = clone(options);\n        addDataAttr(instanceOptions, sheet);\n        instanceOptions.mime = sheet.type;\n\n        if (modifyVars) {\n            instanceOptions.modifyVars = modifyVars;\n        }\n\n        function loadInitialFileCallback(loadedFile) {\n\n            var data = loadedFile.contents,\n                path = loadedFile.filename,\n                webInfo = loadedFile.webInfo;\n\n            var newFileInfo = {\n                currentDirectory: fileManager.getPath(path),\n                filename: path,\n                rootFilename: path,\n                relativeUrls: instanceOptions.relativeUrls};\n\n            newFileInfo.entryPath = newFileInfo.currentDirectory;\n            newFileInfo.rootpath = instanceOptions.rootpath || newFileInfo.currentDirectory;\n\n            if (webInfo) {\n                webInfo.remaining = remaining;\n\n                var css = cache.getCSS(path, webInfo, instanceOptions.modifyVars);\n                if (!reload && css) {\n                    webInfo.local = true;\n                    callback(null, css, data, sheet, webInfo, path);\n                    return;\n                }\n\n            }\n\n            //TODO add tests around how this behaves when reloading\n            errors.remove(path);\n\n            instanceOptions.rootFileInfo = newFileInfo;\n            less.render(data, instanceOptions, function(e, result) {\n                if (e) {\n                    e.href = path;\n                    callback(e);\n                } else {\n                    result.css = postProcessCSS(result.css);\n                    cache.setCSS(sheet.href, webInfo.lastModified, instanceOptions.modifyVars, result.css);\n                    callback(null, result.css, data, sheet, webInfo, path);\n                }\n            });\n        }\n\n        fileManager.loadFile(sheet.href, null, instanceOptions, environment, function(e, loadedFile) {\n            if (e) {\n                callback(e);\n                return;\n            }\n            loadInitialFileCallback(loadedFile);\n        });\n    }\n\n    function loadStyleSheets(callback, reload, modifyVars) {\n        for (var i = 0; i < less.sheets.length; i++) {\n            loadStyleSheet(less.sheets[i], callback, reload, less.sheets.length - (i + 1), modifyVars);\n        }\n    }\n\n    function initRunningMode() {\n        if (less.env === 'development') {\n            less.watchTimer = setInterval(function () {\n                if (less.watchMode) {\n                    fileManager.clearFileCache();\n                    loadStyleSheets(function (e, css, _, sheet, webInfo) {\n                        if (e) {\n                            errors.add(e, e.href || sheet.href);\n                        } else if (css) {\n                            browser.createCSS(window.document, css, sheet);\n                        }\n                    });\n                }\n            }, options.poll);\n        }\n    }\n\n    //\n    // Watch mode\n    //\n    less.watch   = function () {\n        if (!less.watchMode ) {\n            less.env = 'development';\n            initRunningMode();\n        }\n        this.watchMode = true;\n        return true;\n    };\n\n    less.unwatch = function () {clearInterval(less.watchTimer); this.watchMode = false; return false; };\n\n    //\n    // Synchronously get all <link> tags with the 'rel' attribute set to\n    // \"stylesheet/less\".\n    //\n    less.registerStylesheetsImmediately = function() {\n        var links = document.getElementsByTagName('link');\n        less.sheets = [];\n\n        for (var i = 0; i < links.length; i++) {\n            if (links[i].rel === 'stylesheet/less' || (links[i].rel.match(/stylesheet/) &&\n                (links[i].type.match(typePattern)))) {\n                less.sheets.push(links[i]);\n            }\n        }\n    };\n\n    //\n    // Asynchronously get all <link> tags with the 'rel' attribute set to\n    // \"stylesheet/less\", returning a Promise.\n    //\n    less.registerStylesheets = function() {\n        return new Promise(function(resolve, reject) {\n            less.registerStylesheetsImmediately();\n            resolve();\n        });\n    };\n\n    //\n    // With this function, it's possible to alter variables and re-render\n    // CSS without reloading less-files\n    //\n    less.modifyVars = function(record) {\n        return less.refresh(true, record, false);\n    };\n\n    less.refresh = function (reload, modifyVars, clearFileCache) {\n        if ((reload || clearFileCache) && clearFileCache !== false) {\n            fileManager.clearFileCache();\n        }\n        return new Promise(function (resolve, reject) {\n            var startTime, endTime, totalMilliseconds, remainingSheets;\n            startTime = endTime = new Date();\n\n            // Set counter for remaining unprocessed sheets\n            remainingSheets = less.sheets.length;\n\n            if (remainingSheets === 0) {\n\n                endTime = new Date();\n                totalMilliseconds = endTime - startTime;\n                less.logger.info(\"Less has finished and no sheets were loaded.\");\n                resolve({\n                    startTime: startTime,\n                    endTime: endTime,\n                    totalMilliseconds: totalMilliseconds,\n                    sheets: less.sheets.length\n                });\n\n            } else {\n                // Relies on less.sheets array, callback seems to be guaranteed to be called for every element of the array\n                loadStyleSheets(function (e, css, _, sheet, webInfo) {\n                    if (e) {\n                        errors.add(e, e.href || sheet.href);\n                        reject(e);\n                        return;\n                    }\n                    if (webInfo.local) {\n                        less.logger.info(\"Loading \" + sheet.href + \" from cache.\");\n                    } else {\n                        less.logger.info(\"Rendered \" + sheet.href + \" successfully.\");\n                    }\n                    browser.createCSS(window.document, css, sheet);\n                    less.logger.info(\"CSS for \" + sheet.href + \" generated in \" + (new Date() - endTime) + 'ms');\n\n                    // Count completed sheet\n                    remainingSheets--;\n\n                    // Check if the last remaining sheet was processed and then call the promise\n                    if (remainingSheets === 0) {\n                        totalMilliseconds = new Date() - startTime;\n                        less.logger.info(\"Less has finished. CSS generated in \" + totalMilliseconds + 'ms');\n                        resolve({\n                            startTime: startTime,\n                            endTime: endTime,\n                            totalMilliseconds: totalMilliseconds,\n                            sheets: less.sheets.length\n                        });\n                    }\n                    endTime = new Date();\n                }, reload, modifyVars);\n            }\n\n            loadStyles(modifyVars);\n        });\n    };\n\n    less.refreshStyles = loadStyles;\n    return less;\n};\n\n},{\"../less\":31,\"./browser\":3,\"./cache\":4,\"./error-reporting\":5,\"./file-manager\":6,\"./image-size\":7,\"./log-listener\":9,\"./utils\":10}],9:[function(require,module,exports){\nmodule.exports = function(less, options) {\n\n    var logLevel_debug = 4,\n        logLevel_info = 3,\n        logLevel_warn = 2,\n        logLevel_error = 1;\n\n    // The amount of logging in the javascript console.\n    // 3 - Debug, information and errors\n    // 2 - Information and errors\n    // 1 - Errors\n    // 0 - None\n    // Defaults to 2\n    options.logLevel = typeof options.logLevel !== 'undefined' ? options.logLevel : (options.env === 'development' ?  logLevel_info : logLevel_error);\n\n    if (!options.loggers) {\n        options.loggers = [{\n            debug: function(msg) {\n                if (options.logLevel >= logLevel_debug) {\n                    console.log(msg);\n                }\n            },\n            info: function(msg) {\n                if (options.logLevel >= logLevel_info) {\n                    console.log(msg);\n                }\n            },\n            warn: function(msg) {\n                if (options.logLevel >= logLevel_warn) {\n                    console.warn(msg);\n                }\n            },\n            error: function(msg) {\n                if (options.logLevel >= logLevel_error) {\n                    console.error(msg);\n                }\n            }\n        }];\n    }\n    for (var i = 0; i < options.loggers.length; i++) {\n        less.logger.addListener(options.loggers[i]);\n    }\n};\n\n},{}],10:[function(require,module,exports){\nmodule.exports = {\n    extractId: function(href) {\n        return href.replace(/^[a-z-]+:\\/+?[^\\/]+/, '')  // Remove protocol & domain\n            .replace(/[\\?\\&]livereload=\\w+/, '')        // Remove LiveReload cachebuster\n            .replace(/^\\//, '')                         // Remove root /\n            .replace(/\\.[a-zA-Z]+$/, '')                // Remove simple extension\n            .replace(/[^\\.\\w-]+/g, '-')                 // Replace illegal characters\n            .replace(/\\./g, ':');                       // Replace dots with colons(for valid id)\n    },\n    addDataAttr: function(options, tag) {\n        for (var opt in tag.dataset) {\n            if (tag.dataset.hasOwnProperty(opt)) {\n                if (opt === \"env\" || opt === \"dumpLineNumbers\" || opt === \"rootpath\" || opt === \"errorReporting\") {\n                    options[opt] = tag.dataset[opt];\n                } else {\n                    try {\n                        options[opt] = JSON.parse(tag.dataset[opt]);\n                    }\n                    catch(_) {}\n                }\n            }\n        }\n    }\n};\n\n},{}],11:[function(require,module,exports){\nvar contexts = {};\nmodule.exports = contexts;\n\nvar copyFromOriginal = function copyFromOriginal(original, destination, propertiesToCopy) {\n    if (!original) { return; }\n\n    for (var i = 0; i < propertiesToCopy.length; i++) {\n        if (original.hasOwnProperty(propertiesToCopy[i])) {\n            destination[propertiesToCopy[i]] = original[propertiesToCopy[i]];\n        }\n    }\n};\n\n/*\n parse is used whilst parsing\n */\nvar parseCopyProperties = [\n    // options\n    'paths',            // option - unmodified - paths to search for imports on\n    'relativeUrls',     // option - whether to adjust URL's to be relative\n    'rootpath',         // option - rootpath to append to URL's\n    'strictImports',    // option -\n    'insecure',         // option - whether to allow imports from insecure ssl hosts\n    'dumpLineNumbers',  // option - whether to dump line numbers\n    'compress',         // option - whether to compress\n    'syncImport',       // option - whether to import synchronously\n    'chunkInput',       // option - whether to chunk input. more performant but causes parse issues.\n    'mime',             // browser only - mime type for sheet import\n    'useFileCache',     // browser only - whether to use the per file session cache\n    // context\n    'processImports',   // option & context - whether to process imports. if false then imports will not be imported.\n                        // Used by the import manager to stop multiple import visitors being created.\n    'pluginManager'     // Used as the plugin manager for the session\n];\n\ncontexts.Parse = function(options) {\n    copyFromOriginal(options, this, parseCopyProperties);\n\n    if (typeof this.paths === \"string\") { this.paths = [this.paths]; }\n};\n\nvar evalCopyProperties = [\n    'paths',          // additional include paths\n    'compress',       // whether to compress\n    'ieCompat',       // whether to enforce IE compatibility (IE8 data-uri)\n    'strictMath',     // whether math has to be within parenthesis\n    'strictUnits',    // whether units need to evaluate correctly\n    'sourceMap',      // whether to output a source map\n    'importMultiple', // whether we are currently importing multiple copies\n    'urlArgs',        // whether to add args into url tokens\n    'javascriptEnabled',// option - whether JavaScript is enabled. if undefined, defaults to true\n    'pluginManager',  // Used as the plugin manager for the session\n    'importantScope'  // used to bubble up !important statements\n    ];\n\ncontexts.Eval = function(options, frames) {\n    copyFromOriginal(options, this, evalCopyProperties);\n\n    if (typeof this.paths === \"string\") { this.paths = [this.paths]; }\n\n    this.frames = frames || [];\n    this.importantScope = this.importantScope || [];\n};\n\ncontexts.Eval.prototype.inParenthesis = function () {\n    if (!this.parensStack) {\n        this.parensStack = [];\n    }\n    this.parensStack.push(true);\n};\n\ncontexts.Eval.prototype.outOfParenthesis = function () {\n    this.parensStack.pop();\n};\n\ncontexts.Eval.prototype.isMathOn = function () {\n    return this.strictMath ? (this.parensStack && this.parensStack.length) : true;\n};\n\ncontexts.Eval.prototype.isPathRelative = function (path) {\n    return !/^(?:[a-z-]+:|\\/|#)/i.test(path);\n};\n\ncontexts.Eval.prototype.normalizePath = function( path ) {\n    var\n      segments = path.split(\"/\").reverse(),\n      segment;\n\n    path = [];\n    while (segments.length !== 0 ) {\n        segment = segments.pop();\n        switch( segment ) {\n            case \".\":\n                break;\n            case \"..\":\n                if ((path.length === 0) || (path[path.length - 1] === \"..\")) {\n                    path.push( segment );\n                } else {\n                    path.pop();\n                }\n                break;\n            default:\n                path.push( segment );\n                break;\n        }\n    }\n\n    return path.join(\"/\");\n};\n\n//todo - do the same for the toCSS ?\n\n},{}],12:[function(require,module,exports){\nmodule.exports = {\n    'aliceblue':'#f0f8ff',\n    'antiquewhite':'#faebd7',\n    'aqua':'#00ffff',\n    'aquamarine':'#7fffd4',\n    'azure':'#f0ffff',\n    'beige':'#f5f5dc',\n    'bisque':'#ffe4c4',\n    'black':'#000000',\n    'blanchedalmond':'#ffebcd',\n    'blue':'#0000ff',\n    'blueviolet':'#8a2be2',\n    'brown':'#a52a2a',\n    'burlywood':'#deb887',\n    'cadetblue':'#5f9ea0',\n    'chartreuse':'#7fff00',\n    'chocolate':'#d2691e',\n    'coral':'#ff7f50',\n    'cornflowerblue':'#6495ed',\n    'cornsilk':'#fff8dc',\n    'crimson':'#dc143c',\n    'cyan':'#00ffff',\n    'darkblue':'#00008b',\n    'darkcyan':'#008b8b',\n    'darkgoldenrod':'#b8860b',\n    'darkgray':'#a9a9a9',\n    'darkgrey':'#a9a9a9',\n    'darkgreen':'#006400',\n    'darkkhaki':'#bdb76b',\n    'darkmagenta':'#8b008b',\n    'darkolivegreen':'#556b2f',\n    'darkorange':'#ff8c00',\n    'darkorchid':'#9932cc',\n    'darkred':'#8b0000',\n    'darksalmon':'#e9967a',\n    'darkseagreen':'#8fbc8f',\n    'darkslateblue':'#483d8b',\n    'darkslategray':'#2f4f4f',\n    'darkslategrey':'#2f4f4f',\n    'darkturquoise':'#00ced1',\n    'darkviolet':'#9400d3',\n    'deeppink':'#ff1493',\n    'deepskyblue':'#00bfff',\n    'dimgray':'#696969',\n    'dimgrey':'#696969',\n    'dodgerblue':'#1e90ff',\n    'firebrick':'#b22222',\n    'floralwhite':'#fffaf0',\n    'forestgreen':'#228b22',\n    'fuchsia':'#ff00ff',\n    'gainsboro':'#dcdcdc',\n    'ghostwhite':'#f8f8ff',\n    'gold':'#ffd700',\n    'goldenrod':'#daa520',\n    'gray':'#808080',\n    'grey':'#808080',\n    'green':'#008000',\n    'greenyellow':'#adff2f',\n    'honeydew':'#f0fff0',\n    'hotpink':'#ff69b4',\n    'indianred':'#cd5c5c',\n    'indigo':'#4b0082',\n    'ivory':'#fffff0',\n    'khaki':'#f0e68c',\n    'lavender':'#e6e6fa',\n    'lavenderblush':'#fff0f5',\n    'lawngreen':'#7cfc00',\n    'lemonchiffon':'#fffacd',\n    'lightblue':'#add8e6',\n    'lightcoral':'#f08080',\n    'lightcyan':'#e0ffff',\n    'lightgoldenrodyellow':'#fafad2',\n    'lightgray':'#d3d3d3',\n    'lightgrey':'#d3d3d3',\n    'lightgreen':'#90ee90',\n    'lightpink':'#ffb6c1',\n    'lightsalmon':'#ffa07a',\n    'lightseagreen':'#20b2aa',\n    'lightskyblue':'#87cefa',\n    'lightslategray':'#778899',\n    'lightslategrey':'#778899',\n    'lightsteelblue':'#b0c4de',\n    'lightyellow':'#ffffe0',\n    'lime':'#00ff00',\n    'limegreen':'#32cd32',\n    'linen':'#faf0e6',\n    'magenta':'#ff00ff',\n    'maroon':'#800000',\n    'mediumaquamarine':'#66cdaa',\n    'mediumblue':'#0000cd',\n    'mediumorchid':'#ba55d3',\n    'mediumpurple':'#9370d8',\n    'mediumseagreen':'#3cb371',\n    'mediumslateblue':'#7b68ee',\n    'mediumspringgreen':'#00fa9a',\n    'mediumturquoise':'#48d1cc',\n    'mediumvioletred':'#c71585',\n    'midnightblue':'#191970',\n    'mintcream':'#f5fffa',\n    'mistyrose':'#ffe4e1',\n    'moccasin':'#ffe4b5',\n    'navajowhite':'#ffdead',\n    'navy':'#000080',\n    'oldlace':'#fdf5e6',\n    'olive':'#808000',\n    'olivedrab':'#6b8e23',\n    'orange':'#ffa500',\n    'orangered':'#ff4500',\n    'orchid':'#da70d6',\n    'palegoldenrod':'#eee8aa',\n    'palegreen':'#98fb98',\n    'paleturquoise':'#afeeee',\n    'palevioletred':'#d87093',\n    'papayawhip':'#ffefd5',\n    'peachpuff':'#ffdab9',\n    'peru':'#cd853f',\n    'pink':'#ffc0cb',\n    'plum':'#dda0dd',\n    'powderblue':'#b0e0e6',\n    'purple':'#800080',\n    'rebeccapurple':'#663399',\n    'red':'#ff0000',\n    'rosybrown':'#bc8f8f',\n    'royalblue':'#4169e1',\n    'saddlebrown':'#8b4513',\n    'salmon':'#fa8072',\n    'sandybrown':'#f4a460',\n    'seagreen':'#2e8b57',\n    'seashell':'#fff5ee',\n    'sienna':'#a0522d',\n    'silver':'#c0c0c0',\n    'skyblue':'#87ceeb',\n    'slateblue':'#6a5acd',\n    'slategray':'#708090',\n    'slategrey':'#708090',\n    'snow':'#fffafa',\n    'springgreen':'#00ff7f',\n    'steelblue':'#4682b4',\n    'tan':'#d2b48c',\n    'teal':'#008080',\n    'thistle':'#d8bfd8',\n    'tomato':'#ff6347',\n    'turquoise':'#40e0d0',\n    'violet':'#ee82ee',\n    'wheat':'#f5deb3',\n    'white':'#ffffff',\n    'whitesmoke':'#f5f5f5',\n    'yellow':'#ffff00',\n    'yellowgreen':'#9acd32'\n};\n},{}],13:[function(require,module,exports){\nmodule.exports = {\n    colors: require(\"./colors\"),\n    unitConversions: require(\"./unit-conversions\")\n};\n\n},{\"./colors\":12,\"./unit-conversions\":14}],14:[function(require,module,exports){\nmodule.exports = {\n    length: {\n        'm': 1,\n        'cm': 0.01,\n        'mm': 0.001,\n        'in': 0.0254,\n        'px': 0.0254 / 96,\n        'pt': 0.0254 / 72,\n        'pc': 0.0254 / 72 * 12\n    },\n    duration: {\n        's': 1,\n        'ms': 0.001\n    },\n    angle: {\n        'rad': 1 / (2 * Math.PI),\n        'deg': 1 / 360,\n        'grad': 1 / 400,\n        'turn': 1\n    }\n};\n},{}],15:[function(require,module,exports){\nvar abstractFileManager = function() {\n};\n\nabstractFileManager.prototype.getPath = function (filename) {\n    var j = filename.lastIndexOf('?');\n    if (j > 0) {\n        filename = filename.slice(0, j);\n    }\n    j = filename.lastIndexOf('/');\n    if (j < 0) {\n        j = filename.lastIndexOf('\\\\');\n    }\n    if (j < 0) {\n        return \"\";\n    }\n    return filename.slice(0, j + 1);\n};\n\nabstractFileManager.prototype.tryAppendExtension = function(path, ext) {\n    return /(\\.[a-z]*$)|([\\?;].*)$/.test(path) ? path : path + ext;\n};\n\nabstractFileManager.prototype.tryAppendLessExtension = function(path) {\n    return this.tryAppendExtension(path, '.less');\n};\n\nabstractFileManager.prototype.supportsSync = function() {\n    return false;\n};\n\nabstractFileManager.prototype.alwaysMakePathsAbsolute = function() {\n    return false;\n};\n\nabstractFileManager.prototype.isPathAbsolute = function(filename) {\n    return (/^(?:[a-z-]+:|\\/|\\\\|#)/i).test(filename);\n};\n\nabstractFileManager.prototype.join = function(basePath, laterPath) {\n    if (!basePath) {\n        return laterPath;\n    }\n    return basePath + laterPath;\n};\nabstractFileManager.prototype.pathDiff = function pathDiff(url, baseUrl) {\n    // diff between two paths to create a relative path\n\n    var urlParts = this.extractUrlParts(url),\n        baseUrlParts = this.extractUrlParts(baseUrl),\n        i, max, urlDirectories, baseUrlDirectories, diff = \"\";\n    if (urlParts.hostPart !== baseUrlParts.hostPart) {\n        return \"\";\n    }\n    max = Math.max(baseUrlParts.directories.length, urlParts.directories.length);\n    for (i = 0; i < max; i++) {\n        if (baseUrlParts.directories[i] !== urlParts.directories[i]) { break; }\n    }\n    baseUrlDirectories = baseUrlParts.directories.slice(i);\n    urlDirectories = urlParts.directories.slice(i);\n    for (i = 0; i < baseUrlDirectories.length - 1; i++) {\n        diff += \"../\";\n    }\n    for (i = 0; i < urlDirectories.length - 1; i++) {\n        diff += urlDirectories[i] + \"/\";\n    }\n    return diff;\n};\n// helper function, not part of API\nabstractFileManager.prototype.extractUrlParts = function extractUrlParts(url, baseUrl) {\n    // urlParts[1] = protocol://hostname/ OR /\n    // urlParts[2] = / if path relative to host base\n    // urlParts[3] = directories\n    // urlParts[4] = filename\n    // urlParts[5] = parameters\n\n    var urlPartsRegex = /^((?:[a-z-]+:)?\\/{2}(?:[^\\/\\?#]*\\/)|([\\/\\\\]))?((?:[^\\/\\\\\\?#]*[\\/\\\\])*)([^\\/\\\\\\?#]*)([#\\?].*)?$/i,\n        urlParts = url.match(urlPartsRegex),\n        returner = {}, directories = [], i, baseUrlParts;\n\n    if (!urlParts) {\n        throw new Error(\"Could not parse sheet href - '\" + url + \"'\");\n    }\n\n    // Stylesheets in IE don't always return the full path\n    if (baseUrl && (!urlParts[1] || urlParts[2])) {\n        baseUrlParts = baseUrl.match(urlPartsRegex);\n        if (!baseUrlParts) {\n            throw new Error(\"Could not parse page url - '\" + baseUrl + \"'\");\n        }\n        urlParts[1] = urlParts[1] || baseUrlParts[1] || \"\";\n        if (!urlParts[2]) {\n            urlParts[3] = baseUrlParts[3] + urlParts[3];\n        }\n    }\n\n    if (urlParts[3]) {\n        directories = urlParts[3].replace(/\\\\/g, \"/\").split(\"/\");\n\n        // extract out . before .. so .. doesn't absorb a non-directory\n        for (i = 0; i < directories.length; i++) {\n            if (directories[i] === \".\") {\n                directories.splice(i, 1);\n                i -= 1;\n            }\n        }\n\n        for (i = 0; i < directories.length; i++) {\n            if (directories[i] === \"..\" && i > 0) {\n                directories.splice(i - 1, 2);\n                i -= 2;\n            }\n        }\n    }\n\n    returner.hostPart = urlParts[1];\n    returner.directories = directories;\n    returner.path = (urlParts[1] || \"\") + directories.join(\"/\");\n    returner.fileUrl = returner.path + (urlParts[4] || \"\");\n    returner.url = returner.fileUrl + (urlParts[5] || \"\");\n    return returner;\n};\n\nmodule.exports = abstractFileManager;\n\n},{}],16:[function(require,module,exports){\nvar logger = require(\"../logger\");\nvar environment = function(externalEnvironment, fileManagers) {\n    this.fileManagers = fileManagers || [];\n    externalEnvironment = externalEnvironment || {};\n\n    var optionalFunctions = [\"encodeBase64\", \"mimeLookup\", \"charsetLookup\", \"getSourceMapGenerator\"],\n        requiredFunctions = [],\n        functions = requiredFunctions.concat(optionalFunctions);\n\n    for (var i = 0; i < functions.length; i++) {\n        var propName = functions[i],\n            environmentFunc = externalEnvironment[propName];\n        if (environmentFunc) {\n            this[propName] = environmentFunc.bind(externalEnvironment);\n        } else if (i < requiredFunctions.length) {\n            this.warn(\"missing required function in environment - \" + propName);\n        }\n    }\n};\n\nenvironment.prototype.getFileManager = function (filename, currentDirectory, options, environment, isSync) {\n\n    if (!filename) {\n        logger.warn(\"getFileManager called with no filename.. Please report this issue. continuing.\");\n    }\n    if (currentDirectory == null) {\n        logger.warn(\"getFileManager called with null directory.. Please report this issue. continuing.\");\n    }\n\n    var fileManagers = this.fileManagers;\n    if (options.pluginManager) {\n        fileManagers = [].concat(fileManagers).concat(options.pluginManager.getFileManagers());\n    }\n    for (var i = fileManagers.length - 1; i >= 0 ; i--) {\n        var fileManager = fileManagers[i];\n        if (fileManager[isSync ? \"supportsSync\" : \"supports\"](filename, currentDirectory, options, environment)) {\n            return fileManager;\n        }\n    }\n    return null;\n};\n\nenvironment.prototype.addFileManager = function (fileManager) {\n    this.fileManagers.push(fileManager);\n};\n\nenvironment.prototype.clearFileManagers = function () {\n    this.fileManagers = [];\n};\n\nmodule.exports = environment;\n\n},{\"../logger\":33}],17:[function(require,module,exports){\nvar Color = require(\"../tree/color\"),\n    functionRegistry = require(\"./function-registry\");\n\n// Color Blending\n// ref: http://www.w3.org/TR/compositing-1\n\nfunction colorBlend(mode, color1, color2) {\n    var ab = color1.alpha, cb, // backdrop\n        as = color2.alpha, cs, // source\n        ar, cr, r = [];        // result\n\n    ar = as + ab * (1 - as);\n    for (var i = 0; i < 3; i++) {\n        cb = color1.rgb[i] / 255;\n        cs = color2.rgb[i] / 255;\n        cr = mode(cb, cs);\n        if (ar) {\n            cr = (as * cs + ab * (cb -\n                  as * (cb + cs - cr))) / ar;\n        }\n        r[i] = cr * 255;\n    }\n\n    return new Color(r, ar);\n}\n\nvar colorBlendModeFunctions = {\n    multiply: function(cb, cs) {\n        return cb * cs;\n    },\n    screen: function(cb, cs) {\n        return cb + cs - cb * cs;\n    },\n    overlay: function(cb, cs) {\n        cb *= 2;\n        return (cb <= 1) ?\n            colorBlendModeFunctions.multiply(cb, cs) :\n            colorBlendModeFunctions.screen(cb - 1, cs);\n    },\n    softlight: function(cb, cs) {\n        var d = 1, e = cb;\n        if (cs > 0.5) {\n            e = 1;\n            d = (cb > 0.25) ? Math.sqrt(cb)\n                : ((16 * cb - 12) * cb + 4) * cb;\n        }\n        return cb - (1 - 2 * cs) * e * (d - cb);\n    },\n    hardlight: function(cb, cs) {\n        return colorBlendModeFunctions.overlay(cs, cb);\n    },\n    difference: function(cb, cs) {\n        return Math.abs(cb - cs);\n    },\n    exclusion: function(cb, cs) {\n        return cb + cs - 2 * cb * cs;\n    },\n\n    // non-w3c functions:\n    average: function(cb, cs) {\n        return (cb + cs) / 2;\n    },\n    negation: function(cb, cs) {\n        return 1 - Math.abs(cb + cs - 1);\n    }\n};\n\nfor (var f in colorBlendModeFunctions) {\n    if (colorBlendModeFunctions.hasOwnProperty(f)) {\n        colorBlend[f] = colorBlend.bind(null, colorBlendModeFunctions[f]);\n    }\n}\n\nfunctionRegistry.addMultiple(colorBlend);\n\n},{\"../tree/color\":50,\"./function-registry\":22}],18:[function(require,module,exports){\nvar Dimension = require(\"../tree/dimension\"),\n    Color = require(\"../tree/color\"),\n    Quoted = require(\"../tree/quoted\"),\n    Anonymous = require(\"../tree/anonymous\"),\n    functionRegistry = require(\"./function-registry\"),\n    colorFunctions;\n\nfunction clamp(val) {\n    return Math.min(1, Math.max(0, val));\n}\nfunction hsla(color) {\n    return colorFunctions.hsla(color.h, color.s, color.l, color.a);\n}\nfunction number(n) {\n    if (n instanceof Dimension) {\n        return parseFloat(n.unit.is('%') ? n.value / 100 : n.value);\n    } else if (typeof n === 'number') {\n        return n;\n    } else {\n        throw {\n            type: \"Argument\",\n            message: \"color functions take numbers as parameters\"\n        };\n    }\n}\nfunction scaled(n, size) {\n    if (n instanceof Dimension && n.unit.is('%')) {\n        return parseFloat(n.value * size / 100);\n    } else {\n        return number(n);\n    }\n}\ncolorFunctions = {\n    rgb: function (r, g, b) {\n        return colorFunctions.rgba(r, g, b, 1.0);\n    },\n    rgba: function (r, g, b, a) {\n        var rgb = [r, g, b].map(function (c) { return scaled(c, 255); });\n        a = number(a);\n        return new Color(rgb, a);\n    },\n    hsl: function (h, s, l) {\n        return colorFunctions.hsla(h, s, l, 1.0);\n    },\n    hsla: function (h, s, l, a) {\n\n        var m1, m2;\n\n        function hue(h) {\n            h = h < 0 ? h + 1 : (h > 1 ? h - 1 : h);\n            if (h * 6 < 1) {\n                return m1 + (m2 - m1) * h * 6;\n            }\n            else if (h * 2 < 1) {\n                return m2;\n            }\n            else if (h * 3 < 2) {\n                return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n            }\n            else {\n                return m1;\n            }\n        }\n\n        h = (number(h) % 360) / 360;\n        s = clamp(number(s)); l = clamp(number(l)); a = clamp(number(a));\n\n        m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n        m1 = l * 2 - m2;\n\n        return colorFunctions.rgba(hue(h + 1 / 3) * 255,\n            hue(h)       * 255,\n            hue(h - 1 / 3) * 255,\n            a);\n    },\n\n    hsv: function(h, s, v) {\n        return colorFunctions.hsva(h, s, v, 1.0);\n    },\n\n    hsva: function(h, s, v, a) {\n        h = ((number(h) % 360) / 360) * 360;\n        s = number(s); v = number(v); a = number(a);\n\n        var i, f;\n        i = Math.floor((h / 60) % 6);\n        f = (h / 60) - i;\n\n        var vs = [v,\n            v * (1 - s),\n            v * (1 - f * s),\n            v * (1 - (1 - f) * s)];\n        var perm = [[0, 3, 1],\n            [2, 0, 1],\n            [1, 0, 3],\n            [1, 2, 0],\n            [3, 1, 0],\n            [0, 1, 2]];\n\n        return colorFunctions.rgba(vs[perm[i][0]] * 255,\n            vs[perm[i][1]] * 255,\n            vs[perm[i][2]] * 255,\n            a);\n    },\n\n    hue: function (color) {\n        return new Dimension(color.toHSL().h);\n    },\n    saturation: function (color) {\n        return new Dimension(color.toHSL().s * 100, '%');\n    },\n    lightness: function (color) {\n        return new Dimension(color.toHSL().l * 100, '%');\n    },\n    hsvhue: function(color) {\n        return new Dimension(color.toHSV().h);\n    },\n    hsvsaturation: function (color) {\n        return new Dimension(color.toHSV().s * 100, '%');\n    },\n    hsvvalue: function (color) {\n        return new Dimension(color.toHSV().v * 100, '%');\n    },\n    red: function (color) {\n        return new Dimension(color.rgb[0]);\n    },\n    green: function (color) {\n        return new Dimension(color.rgb[1]);\n    },\n    blue: function (color) {\n        return new Dimension(color.rgb[2]);\n    },\n    alpha: function (color) {\n        return new Dimension(color.toHSL().a);\n    },\n    luma: function (color) {\n        return new Dimension(color.luma() * color.alpha * 100, '%');\n    },\n    luminance: function (color) {\n        var luminance =\n            (0.2126 * color.rgb[0] / 255) +\n                (0.7152 * color.rgb[1] / 255) +\n                (0.0722 * color.rgb[2] / 255);\n\n        return new Dimension(luminance * color.alpha * 100, '%');\n    },\n    saturate: function (color, amount, method) {\n        // filter: saturate(3.2);\n        // should be kept as is, so check for color\n        if (!color.rgb) {\n            return null;\n        }\n        var hsl = color.toHSL();\n\n        if (typeof method !== \"undefined\" && method.value === \"relative\") {\n            hsl.s +=  hsl.s * amount.value / 100;\n        }\n        else {\n            hsl.s += amount.value / 100;\n        }\n        hsl.s = clamp(hsl.s);\n        return hsla(hsl);\n    },\n    desaturate: function (color, amount, method) {\n        var hsl = color.toHSL();\n\n        if (typeof method !== \"undefined\" && method.value === \"relative\") {\n            hsl.s -=  hsl.s * amount.value / 100;\n        }\n        else {\n            hsl.s -= amount.value / 100;\n        }\n        hsl.s = clamp(hsl.s);\n        return hsla(hsl);\n    },\n    lighten: function (color, amount, method) {\n        var hsl = color.toHSL();\n\n        if (typeof method !== \"undefined\" && method.value === \"relative\") {\n            hsl.l +=  hsl.l * amount.value / 100;\n        }\n        else {\n            hsl.l += amount.value / 100;\n        }\n        hsl.l = clamp(hsl.l);\n        return hsla(hsl);\n    },\n    darken: function (color, amount, method) {\n        var hsl = color.toHSL();\n\n        if (typeof method !== \"undefined\" && method.value === \"relative\") {\n            hsl.l -=  hsl.l * amount.value / 100;\n        }\n        else {\n            hsl.l -= amount.value / 100;\n        }\n        hsl.l = clamp(hsl.l);\n        return hsla(hsl);\n    },\n    fadein: function (color, amount, method) {\n        var hsl = color.toHSL();\n\n        if (typeof method !== \"undefined\" && method.value === \"relative\") {\n            hsl.a +=  hsl.a * amount.value / 100;\n        }\n        else {\n            hsl.a += amount.value / 100;\n        }\n        hsl.a = clamp(hsl.a);\n        return hsla(hsl);\n    },\n    fadeout: function (color, amount, method) {\n        var hsl = color.toHSL();\n\n        if (typeof method !== \"undefined\" && method.value === \"relative\") {\n            hsl.a -=  hsl.a * amount.value / 100;\n        }\n        else {\n            hsl.a -= amount.value / 100;\n        }\n        hsl.a = clamp(hsl.a);\n        return hsla(hsl);\n    },\n    fade: function (color, amount) {\n        var hsl = color.toHSL();\n\n        hsl.a = amount.value / 100;\n        hsl.a = clamp(hsl.a);\n        return hsla(hsl);\n    },\n    spin: function (color, amount) {\n        var hsl = color.toHSL();\n        var hue = (hsl.h + amount.value) % 360;\n\n        hsl.h = hue < 0 ? 360 + hue : hue;\n\n        return hsla(hsl);\n    },\n    //\n    // Copyright (c) 2006-2009 Hampton Catlin, Natalie Weizenbaum, and Chris Eppstein\n    // http://sass-lang.com\n    //\n    mix: function (color1, color2, weight) {\n        if (!color1.toHSL || !color2.toHSL) {\n            console.log(color2.type);\n            console.dir(color2);\n        }\n        if (!weight) {\n            weight = new Dimension(50);\n        }\n        var p = weight.value / 100.0;\n        var w = p * 2 - 1;\n        var a = color1.toHSL().a - color2.toHSL().a;\n\n        var w1 = (((w * a == -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n        var w2 = 1 - w1;\n\n        var rgb = [color1.rgb[0] * w1 + color2.rgb[0] * w2,\n            color1.rgb[1] * w1 + color2.rgb[1] * w2,\n            color1.rgb[2] * w1 + color2.rgb[2] * w2];\n\n        var alpha = color1.alpha * p + color2.alpha * (1 - p);\n\n        return new Color(rgb, alpha);\n    },\n    greyscale: function (color) {\n        return colorFunctions.desaturate(color, new Dimension(100));\n    },\n    contrast: function (color, color1, color2, threshold) {\n        // Return which of `color1` and `color2` has the greatest contrast with `color`\n        // according to the standard WCAG contrast ratio calculation.\n        // http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n        // The threshold param is no longer used, in line with SASS.\n        // filter: contrast(3.2);\n        // should be kept as is, so check for color\n        if (!color.rgb) {\n            return null;\n        }\n        if (typeof color1 === 'undefined') {\n            color1 = colorFunctions.rgba(0, 0, 0, 1.0);\n        }\n        if (typeof color2 === 'undefined') {\n            color2 = colorFunctions.rgba(255, 255, 255, 1.0);\n        }\n        var contrast1, contrast2;\n        var luma = color.luma();\n        var luma1 = color1.luma();\n        var luma2 = color2.luma();\n        // Calculate contrast ratios for each color\n        if (luma > luma1) {\n            contrast1 = (luma + 0.05) / (luma1 + 0.05);\n        } else {\n            contrast1 = (luma1 + 0.05) / (luma + 0.05);\n        }\n        if (luma > luma2) {\n            contrast2 = (luma + 0.05) / (luma2 + 0.05);\n        } else {\n            contrast2 = (luma2 + 0.05) / (luma + 0.05);\n        }\n        if (contrast1 > contrast2) {\n            return color1;\n        } else {\n            return color2;\n        }\n    },\n    argb: function (color) {\n        return new Anonymous(color.toARGB());\n    },\n    color: function(c) {\n        if ((c instanceof Quoted) &&\n            (/^#([a-f0-9]{6}|[a-f0-9]{3})$/i.test(c.value))) {\n            return new Color(c.value.slice(1));\n        }\n        if ((c instanceof Color) || (c = Color.fromKeyword(c.value))) {\n            c.value = undefined;\n            return c;\n        }\n        throw {\n            type:    \"Argument\",\n            message: \"argument must be a color keyword or 3/6 digit hex e.g. #FFF\"\n        };\n    },\n    tint: function(color, amount) {\n        return colorFunctions.mix(colorFunctions.rgb(255, 255, 255), color, amount);\n    },\n    shade: function(color, amount) {\n        return colorFunctions.mix(colorFunctions.rgb(0, 0, 0), color, amount);\n    }\n};\nfunctionRegistry.addMultiple(colorFunctions);\n\n},{\"../tree/anonymous\":46,\"../tree/color\":50,\"../tree/dimension\":56,\"../tree/quoted\":73,\"./function-registry\":22}],19:[function(require,module,exports){\nmodule.exports = function(environment) {\n    var Quoted = require(\"../tree/quoted\"),\n        URL = require(\"../tree/url\"),\n        functionRegistry = require(\"./function-registry\"),\n        fallback = function(functionThis, node) {\n            return new URL(node, functionThis.index, functionThis.currentFileInfo).eval(functionThis.context);\n        },\n        logger = require('../logger');\n\n    functionRegistry.add(\"data-uri\", function(mimetypeNode, filePathNode) {\n\n        if (!filePathNode) {\n            filePathNode = mimetypeNode;\n            mimetypeNode = null;\n        }\n\n        var mimetype = mimetypeNode && mimetypeNode.value;\n        var filePath = filePathNode.value;\n        var currentFileInfo = this.currentFileInfo;\n        var currentDirectory = currentFileInfo.relativeUrls ?\n            currentFileInfo.currentDirectory : currentFileInfo.entryPath;\n\n        var fragmentStart = filePath.indexOf('#');\n        var fragment = '';\n        if (fragmentStart !== -1) {\n            fragment = filePath.slice(fragmentStart);\n            filePath = filePath.slice(0, fragmentStart);\n        }\n\n        var fileManager = environment.getFileManager(filePath, currentDirectory, this.context, environment, true);\n\n        if (!fileManager) {\n            return fallback(this, filePathNode);\n        }\n\n        var useBase64 = false;\n\n        // detect the mimetype if not given\n        if (!mimetypeNode) {\n\n            mimetype = environment.mimeLookup(filePath);\n\n            if (mimetype === \"image/svg+xml\") {\n                useBase64 = false;\n            } else {\n                // use base 64 unless it's an ASCII or UTF-8 format\n                var charset = environment.charsetLookup(mimetype);\n                useBase64 = ['US-ASCII', 'UTF-8'].indexOf(charset) < 0;\n            }\n            if (useBase64) { mimetype += ';base64'; }\n        }\n        else {\n            useBase64 = /;base64$/.test(mimetype);\n        }\n\n        var fileSync = fileManager.loadFileSync(filePath, currentDirectory, this.context, environment);\n        if (!fileSync.contents) {\n            logger.warn(\"Skipped data-uri embedding of \" + filePath + \" because file not found\");\n            return fallback(this, filePathNode || mimetypeNode);\n        }\n        var buf = fileSync.contents;\n        if (useBase64 && !environment.encodeBase64) {\n            return fallback(this, filePathNode);\n        }\n\n        buf = useBase64 ? environment.encodeBase64(buf) : encodeURIComponent(buf);\n\n        var uri = \"data:\" + mimetype + ',' + buf + fragment;\n\n        // IE8 cannot handle a data-uri larger than 32,768 characters. If this is exceeded\n        // and the --ieCompat flag is enabled, return a normal url() instead.\n        var DATA_URI_MAX = 32768;\n        if (uri.length >= DATA_URI_MAX) {\n\n            if (this.context.ieCompat !== false) {\n                logger.warn(\"Skipped data-uri embedding of \" + filePath + \" because its size (\" + uri.length +\n                    \" characters) exceeds IE8-safe \" + DATA_URI_MAX + \" characters!\");\n\n                return fallback(this, filePathNode || mimetypeNode);\n            }\n        }\n\n        return new URL(new Quoted('\"' + uri + '\"', uri, false, this.index, this.currentFileInfo), this.index, this.currentFileInfo);\n    });\n};\n\n},{\"../logger\":33,\"../tree/quoted\":73,\"../tree/url\":80,\"./function-registry\":22}],20:[function(require,module,exports){\nvar Keyword = require(\"../tree/keyword\"),\n    functionRegistry = require(\"./function-registry\");\n\nvar defaultFunc = {\n    eval: function () {\n        var v = this.value_, e = this.error_;\n        if (e) {\n            throw e;\n        }\n        if (v != null) {\n            return v ? Keyword.True : Keyword.False;\n        }\n    },\n    value: function (v) {\n        this.value_ = v;\n    },\n    error: function (e) {\n        this.error_ = e;\n    },\n    reset: function () {\n        this.value_ = this.error_ = null;\n    }\n};\n\nfunctionRegistry.add(\"default\", defaultFunc.eval.bind(defaultFunc));\n\nmodule.exports = defaultFunc;\n\n},{\"../tree/keyword\":65,\"./function-registry\":22}],21:[function(require,module,exports){\nvar Expression = require(\"../tree/expression\");\n\nvar functionCaller = function(name, context, index, currentFileInfo) {\n    this.name = name.toLowerCase();\n    this.index = index;\n    this.context = context;\n    this.currentFileInfo = currentFileInfo;\n\n    this.func = context.frames[0].functionRegistry.get(this.name);\n};\nfunctionCaller.prototype.isValid = function() {\n    return Boolean(this.func);\n};\nfunctionCaller.prototype.call = function(args) {\n\n    // This code is terrible and should be replaced as per this issue...\n    // https://github.com/less/less.js/issues/2477\n    if (Array.isArray(args)) {\n        args = args.filter(function (item) {\n            if (item.type === \"Comment\") {\n                return false;\n            }\n            return true;\n        })\n        .map(function(item) {\n            if (item.type === \"Expression\") {\n                var subNodes = item.value.filter(function (item) {\n                    if (item.type === \"Comment\") {\n                        return false;\n                    }\n                    return true;\n                });\n                if (subNodes.length === 1) {\n                    return subNodes[0];\n                } else {\n                    return new Expression(subNodes);\n                }\n            }\n            return item;\n        });\n    }\n\n    return this.func.apply(this, args);\n};\n\nmodule.exports = functionCaller;\n\n},{\"../tree/expression\":59}],22:[function(require,module,exports){\nfunction makeRegistry( base ) {\n    return {\n        _data: {},\n        add: function(name, func) {\n            // precautionary case conversion, as later querying of\n            // the registry by function-caller uses lower case as well.\n            name = name.toLowerCase();\n\n            if (this._data.hasOwnProperty(name)) {\n                //TODO warn\n            }\n            this._data[name] = func;\n        },\n        addMultiple: function(functions) {\n            Object.keys(functions).forEach(\n                function(name) {\n                    this.add(name, functions[name]);\n                }.bind(this));\n        },\n        get: function(name) {\n            return this._data[name] || ( base && base.get( name ));\n        },\n        inherit : function() {\n            return makeRegistry( this );\n        }\n    };\n}\n\nmodule.exports = makeRegistry( null );\n},{}],23:[function(require,module,exports){\nmodule.exports = function(environment) {\n    var functions = {\n        functionRegistry: require(\"./function-registry\"),\n        functionCaller: require(\"./function-caller\")\n    };\n\n    //register functions\n    require(\"./default\");\n    require(\"./color\");\n    require(\"./color-blending\");\n    require(\"./data-uri\")(environment);\n    require(\"./math\");\n    require(\"./number\");\n    require(\"./string\");\n    require(\"./svg\")(environment);\n    require(\"./types\");\n\n    return functions;\n};\n\n},{\"./color\":18,\"./color-blending\":17,\"./data-uri\":19,\"./default\":20,\"./function-caller\":21,\"./function-registry\":22,\"./math\":25,\"./number\":26,\"./string\":27,\"./svg\":28,\"./types\":29}],24:[function(require,module,exports){\nvar Dimension = require(\"../tree/dimension\");\n\nvar MathHelper = function() {\n};\nMathHelper._math = function (fn, unit, n) {\n    if (!(n instanceof Dimension)) {\n        throw { type: \"Argument\", message: \"argument must be a number\" };\n    }\n    if (unit == null) {\n        unit = n.unit;\n    } else {\n        n = n.unify();\n    }\n    return new Dimension(fn(parseFloat(n.value)), unit);\n};\nmodule.exports = MathHelper;\n},{\"../tree/dimension\":56}],25:[function(require,module,exports){\nvar functionRegistry = require(\"./function-registry\"),\n    mathHelper = require(\"./math-helper.js\");\n\nvar mathFunctions = {\n    // name,  unit\n    ceil:  null,\n    floor: null,\n    sqrt:  null,\n    abs:   null,\n    tan:   \"\",\n    sin:   \"\",\n    cos:   \"\",\n    atan:  \"rad\",\n    asin:  \"rad\",\n    acos:  \"rad\"\n};\n\nfor (var f in mathFunctions) {\n    if (mathFunctions.hasOwnProperty(f)) {\n        mathFunctions[f] = mathHelper._math.bind(null, Math[f], mathFunctions[f]);\n    }\n}\n\nmathFunctions.round = function (n, f) {\n    var fraction = typeof f === \"undefined\" ? 0 : f.value;\n    return mathHelper._math(function(num) { return num.toFixed(fraction); }, null, n);\n};\n\nfunctionRegistry.addMultiple(mathFunctions);\n\n},{\"./function-registry\":22,\"./math-helper.js\":24}],26:[function(require,module,exports){\nvar Dimension = require(\"../tree/dimension\"),\n    Anonymous = require(\"../tree/anonymous\"),\n    functionRegistry = require(\"./function-registry\"),\n    mathHelper = require(\"./math-helper.js\");\n\nvar minMax = function (isMin, args) {\n    args = Array.prototype.slice.call(args);\n    switch(args.length) {\n        case 0: throw { type: \"Argument\", message: \"one or more arguments required\" };\n    }\n    var i, j, current, currentUnified, referenceUnified, unit, unitStatic, unitClone,\n        order  = [], // elems only contains original argument values.\n        values = {}; // key is the unit.toString() for unified Dimension values,\n    // value is the index into the order array.\n    for (i = 0; i < args.length; i++) {\n        current = args[i];\n        if (!(current instanceof Dimension)) {\n            if (Array.isArray(args[i].value)) {\n                Array.prototype.push.apply(args, Array.prototype.slice.call(args[i].value));\n            }\n            continue;\n        }\n        currentUnified = current.unit.toString() === \"\" && unitClone !== undefined ? new Dimension(current.value, unitClone).unify() : current.unify();\n        unit = currentUnified.unit.toString() === \"\" && unitStatic !== undefined ? unitStatic : currentUnified.unit.toString();\n        unitStatic = unit !== \"\" && unitStatic === undefined || unit !== \"\" && order[0].unify().unit.toString() === \"\" ? unit : unitStatic;\n        unitClone = unit !== \"\" && unitClone === undefined ? current.unit.toString() : unitClone;\n        j = values[\"\"] !== undefined && unit !== \"\" && unit === unitStatic ? values[\"\"] : values[unit];\n        if (j === undefined) {\n            if (unitStatic !== undefined && unit !== unitStatic) {\n                throw{ type: \"Argument\", message: \"incompatible types\" };\n            }\n            values[unit] = order.length;\n            order.push(current);\n            continue;\n        }\n        referenceUnified = order[j].unit.toString() === \"\" && unitClone !== undefined ? new Dimension(order[j].value, unitClone).unify() : order[j].unify();\n        if ( isMin && currentUnified.value < referenceUnified.value ||\n            !isMin && currentUnified.value > referenceUnified.value) {\n            order[j] = current;\n        }\n    }\n    if (order.length == 1) {\n        return order[0];\n    }\n    args = order.map(function (a) { return a.toCSS(this.context); }).join(this.context.compress ? \",\" : \", \");\n    return new Anonymous((isMin ? \"min\" : \"max\") + \"(\" + args + \")\");\n};\nfunctionRegistry.addMultiple({\n    min: function () {\n        return minMax(true, arguments);\n    },\n    max: function () {\n        return minMax(false, arguments);\n    },\n    convert: function (val, unit) {\n        return val.convertTo(unit.value);\n    },\n    pi: function () {\n        return new Dimension(Math.PI);\n    },\n    mod: function(a, b) {\n        return new Dimension(a.value % b.value, a.unit);\n    },\n    pow: function(x, y) {\n        if (typeof x === \"number\" && typeof y === \"number\") {\n            x = new Dimension(x);\n            y = new Dimension(y);\n        } else if (!(x instanceof Dimension) || !(y instanceof Dimension)) {\n            throw { type: \"Argument\", message: \"arguments must be numbers\" };\n        }\n\n        return new Dimension(Math.pow(x.value, y.value), x.unit);\n    },\n    percentage: function (n) {\n        var result = mathHelper._math(function(num) {\n            return num * 100;\n        }, '%', n);\n\n        return result;\n    }\n});\n\n},{\"../tree/anonymous\":46,\"../tree/dimension\":56,\"./function-registry\":22,\"./math-helper.js\":24}],27:[function(require,module,exports){\nvar Quoted = require(\"../tree/quoted\"),\n    Anonymous = require(\"../tree/anonymous\"),\n    JavaScript = require(\"../tree/javascript\"),\n    functionRegistry = require(\"./function-registry\");\n\nfunctionRegistry.addMultiple({\n    e: function (str) {\n        return new Anonymous(str instanceof JavaScript ? str.evaluated : str.value);\n    },\n    escape: function (str) {\n        return new Anonymous(\n            encodeURI(str.value).replace(/=/g, \"%3D\").replace(/:/g, \"%3A\").replace(/#/g, \"%23\").replace(/;/g, \"%3B\")\n                .replace(/\\(/g, \"%28\").replace(/\\)/g, \"%29\"));\n    },\n    replace: function (string, pattern, replacement, flags) {\n        var result = string.value;\n        replacement = (replacement.type === \"Quoted\") ?\n            replacement.value : replacement.toCSS();\n        result = result.replace(new RegExp(pattern.value, flags ? flags.value : ''), replacement);\n        return new Quoted(string.quote || '', result, string.escaped);\n    },\n    '%': function (string /* arg, arg, ...*/) {\n        var args = Array.prototype.slice.call(arguments, 1),\n            result = string.value;\n\n        for (var i = 0; i < args.length; i++) {\n            /*jshint loopfunc:true */\n            result = result.replace(/%[sda]/i, function(token) {\n                var value = ((args[i].type === \"Quoted\") &&\n                    token.match(/s/i)) ? args[i].value : args[i].toCSS();\n                return token.match(/[A-Z]$/) ? encodeURIComponent(value) : value;\n            });\n        }\n        result = result.replace(/%%/g, '%');\n        return new Quoted(string.quote || '', result, string.escaped);\n    }\n});\n\n},{\"../tree/anonymous\":46,\"../tree/javascript\":63,\"../tree/quoted\":73,\"./function-registry\":22}],28:[function(require,module,exports){\nmodule.exports = function(environment) {\n    var Dimension = require(\"../tree/dimension\"),\n        Color = require(\"../tree/color\"),\n        Expression = require(\"../tree/expression\"),\n        Quoted = require(\"../tree/quoted\"),\n        URL = require(\"../tree/url\"),\n        functionRegistry = require(\"./function-registry\");\n\n    functionRegistry.add(\"svg-gradient\", function(direction) {\n\n        var stops,\n            gradientDirectionSvg,\n            gradientType = \"linear\",\n            rectangleDimension = 'x=\"0\" y=\"0\" width=\"1\" height=\"1\"',\n            renderEnv = {compress: false},\n            returner,\n            directionValue = direction.toCSS(renderEnv),\n\t\t\ti, color, position, positionValue, alpha;\n\n        function throwArgumentDescriptor() {\n            throw { type: \"Argument\",\n\t\t\t\t\tmessage: \"svg-gradient expects direction, start_color [start_position], [color position,]...,\" +\n\t\t\t\t\t\t\t\" end_color [end_position] or direction, color list\" };\n        }\n\n        if (arguments.length == 2) {\n            if (arguments[1].value.length < 2) {\n                throwArgumentDescriptor();\n            }\n            stops = arguments[1].value;\n        } else if (arguments.length < 3) {\n            throwArgumentDescriptor();\n        } else {\n            stops = Array.prototype.slice.call(arguments, 1);\n        }\n\n        switch (directionValue) {\n            case \"to bottom\":\n                gradientDirectionSvg = 'x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\"';\n                break;\n            case \"to right\":\n                gradientDirectionSvg = 'x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\"';\n                break;\n            case \"to bottom right\":\n                gradientDirectionSvg = 'x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\"';\n                break;\n            case \"to top right\":\n                gradientDirectionSvg = 'x1=\"0%\" y1=\"100%\" x2=\"100%\" y2=\"0%\"';\n                break;\n            case \"ellipse\":\n            case \"ellipse at center\":\n                gradientType = \"radial\";\n                gradientDirectionSvg = 'cx=\"50%\" cy=\"50%\" r=\"75%\"';\n                rectangleDimension = 'x=\"-50\" y=\"-50\" width=\"101\" height=\"101\"';\n                break;\n            default:\n                throw { type: \"Argument\", message: \"svg-gradient direction must be 'to bottom', 'to right',\" +\n                    \" 'to bottom right', 'to top right' or 'ellipse at center'\" };\n        }\n        returner = '<?xml version=\"1.0\" ?>' +\n            '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"100%\" height=\"100%\" viewBox=\"0 0 1 1\" preserveAspectRatio=\"none\">' +\n            '<' + gradientType + 'Gradient id=\"gradient\" gradientUnits=\"userSpaceOnUse\" ' + gradientDirectionSvg + '>';\n\n        for (i = 0; i < stops.length; i+= 1) {\n            if (stops[i] instanceof Expression) {\n                color = stops[i].value[0];\n                position = stops[i].value[1];\n            } else {\n                color = stops[i];\n                position = undefined;\n            }\n\n            if (!(color instanceof Color) || (!((i === 0 || i + 1 === stops.length) && position === undefined) && !(position instanceof Dimension))) {\n                throwArgumentDescriptor();\n            }\n            positionValue = position ? position.toCSS(renderEnv) : i === 0 ? \"0%\" : \"100%\";\n            alpha = color.alpha;\n            returner += '<stop offset=\"' + positionValue + '\" stop-color=\"' + color.toRGB() + '\"' + (alpha < 1 ? ' stop-opacity=\"' + alpha + '\"' : '') + '/>';\n        }\n        returner += '</' + gradientType + 'Gradient>' +\n            '<rect ' + rectangleDimension + ' fill=\"url(#gradient)\" /></svg>';\n\n        returner = encodeURIComponent(returner);\n\n        returner = \"data:image/svg+xml,\" + returner;\n        return new URL(new Quoted(\"'\" + returner + \"'\", returner, false, this.index, this.currentFileInfo), this.index, this.currentFileInfo);\n    });\n};\n\n},{\"../tree/color\":50,\"../tree/dimension\":56,\"../tree/expression\":59,\"../tree/quoted\":73,\"../tree/url\":80,\"./function-registry\":22}],29:[function(require,module,exports){\nvar Keyword = require(\"../tree/keyword\"),\n    DetachedRuleset = require(\"../tree/detached-ruleset\"),\n    Dimension = require(\"../tree/dimension\"),\n    Color = require(\"../tree/color\"),\n    Quoted = require(\"../tree/quoted\"),\n    Anonymous = require(\"../tree/anonymous\"),\n    URL = require(\"../tree/url\"),\n    Operation = require(\"../tree/operation\"),\n    functionRegistry = require(\"./function-registry\");\n\nvar isa = function (n, Type) {\n        return (n instanceof Type) ? Keyword.True : Keyword.False;\n    },\n    isunit = function (n, unit) {\n        if (unit === undefined) {\n            throw { type: \"Argument\", message: \"missing the required second argument to isunit.\" };\n        }\n        unit = typeof unit.value === \"string\" ? unit.value : unit;\n        if (typeof unit !== \"string\") {\n            throw { type: \"Argument\", message: \"Second argument to isunit should be a unit or a string.\" };\n        }\n        return (n instanceof Dimension) && n.unit.is(unit) ? Keyword.True : Keyword.False;\n    },\n    getItemsFromNode = function(node) {\n        // handle non-array values as an array of length 1\n        // return 'undefined' if index is invalid\n        var items = Array.isArray(node.value) ?\n            node.value : Array(node);\n\n        return items;\n    };\nfunctionRegistry.addMultiple({\n    isruleset: function (n) {\n        return isa(n, DetachedRuleset);\n    },\n    iscolor: function (n) {\n        return isa(n, Color);\n    },\n    isnumber: function (n) {\n        return isa(n, Dimension);\n    },\n    isstring: function (n) {\n        return isa(n, Quoted);\n    },\n    iskeyword: function (n) {\n        return isa(n, Keyword);\n    },\n    isurl: function (n) {\n        return isa(n, URL);\n    },\n    ispixel: function (n) {\n        return isunit(n, 'px');\n    },\n    ispercentage: function (n) {\n        return isunit(n, '%');\n    },\n    isem: function (n) {\n        return isunit(n, 'em');\n    },\n    isunit: isunit,\n    unit: function (val, unit) {\n        if (!(val instanceof Dimension)) {\n            throw { type: \"Argument\",\n                message: \"the first argument to unit must be a number\" +\n                    (val instanceof Operation ? \". Have you forgotten parenthesis?\" : \"\") };\n        }\n        if (unit) {\n            if (unit instanceof Keyword) {\n                unit = unit.value;\n            } else {\n                unit = unit.toCSS();\n            }\n        } else {\n            unit = \"\";\n        }\n        return new Dimension(val.value, unit);\n    },\n    \"get-unit\": function (n) {\n        return new Anonymous(n.unit);\n    },\n    extract: function(values, index) {\n        index = index.value - 1; // (1-based index)\n\n        return getItemsFromNode(values)[index];\n    },\n    length: function(values) {\n        return new Dimension(getItemsFromNode(values).length);\n    }\n});\n\n},{\"../tree/anonymous\":46,\"../tree/color\":50,\"../tree/detached-ruleset\":55,\"../tree/dimension\":56,\"../tree/keyword\":65,\"../tree/operation\":71,\"../tree/quoted\":73,\"../tree/url\":80,\"./function-registry\":22}],30:[function(require,module,exports){\nvar contexts = require(\"./contexts\"),\n    Parser = require('./parser/parser'),\n    FunctionImporter = require('./plugins/function-importer');\n\nmodule.exports = function(environment) {\n\n    // FileInfo = {\n    //  'relativeUrls' - option - whether to adjust URL's to be relative\n    //  'filename' - full resolved filename of current file\n    //  'rootpath' - path to append to normal URLs for this node\n    //  'currentDirectory' - path to the current file, absolute\n    //  'rootFilename' - filename of the base file\n    //  'entryPath' - absolute path to the entry file\n    //  'reference' - whether the file should not be output and only output parts that are referenced\n\n    var ImportManager = function(context, rootFileInfo) {\n        this.rootFilename = rootFileInfo.filename;\n        this.paths = context.paths || [];  // Search paths, when importing\n        this.contents = {};             // map - filename to contents of all the files\n        this.contentsIgnoredChars = {}; // map - filename to lines at the beginning of each file to ignore\n        this.mime = context.mime;\n        this.error = null;\n        this.context = context;\n        // Deprecated? Unused outside of here, could be useful.\n        this.queue = [];        // Files which haven't been imported yet\n        this.files = {};        // Holds the imported parse trees.\n    };\n    /**\n     * Add an import to be imported\n     * @param path - the raw path\n     * @param tryAppendLessExtension - whether to try appending the less extension (if the path has no extension)\n     * @param currentFileInfo - the current file info (used for instance to work out relative paths)\n     * @param importOptions - import options\n     * @param callback - callback for when it is imported\n     */\n    ImportManager.prototype.push = function (path, tryAppendLessExtension, currentFileInfo, importOptions, callback) {\n        var importManager = this;\n        this.queue.push(path);\n\n        var fileParsedFunc = function (e, root, fullPath) {\n            importManager.queue.splice(importManager.queue.indexOf(path), 1); // Remove the path from the queue\n\n            var importedEqualsRoot = fullPath === importManager.rootFilename;\n            if (importOptions.optional && e) {\n                callback(null, {rules:[]}, false, null);\n            }\n            else {\n                importManager.files[fullPath] = root;\n                if (e && !importManager.error) { importManager.error = e; }\n                callback(e, root, importedEqualsRoot, fullPath);\n            }\n        };\n\n        var newFileInfo = {\n            relativeUrls: this.context.relativeUrls,\n            entryPath: currentFileInfo.entryPath,\n            rootpath: currentFileInfo.rootpath,\n            rootFilename: currentFileInfo.rootFilename\n        };\n\n        var fileManager = environment.getFileManager(path, currentFileInfo.currentDirectory, this.context, environment);\n\n        if (!fileManager) {\n            fileParsedFunc({ message: \"Could not find a file-manager for \" + path });\n            return;\n        }\n\n        if (tryAppendLessExtension) {\n            path = fileManager.tryAppendExtension(path, importOptions.plugin ? \".js\" : \".less\");\n        }\n\n        var loadFileCallback = function(loadedFile) {\n            var resolvedFilename = loadedFile.filename,\n                contents = loadedFile.contents.replace(/^\\uFEFF/, '');\n\n            // Pass on an updated rootpath if path of imported file is relative and file\n            // is in a (sub|sup) directory\n            //\n            // Examples:\n            // - If path of imported file is 'module/nav/nav.less' and rootpath is 'less/',\n            //   then rootpath should become 'less/module/nav/'\n            // - If path of imported file is '../mixins.less' and rootpath is 'less/',\n            //   then rootpath should become 'less/../'\n            newFileInfo.currentDirectory = fileManager.getPath(resolvedFilename);\n            if (newFileInfo.relativeUrls) {\n                newFileInfo.rootpath = fileManager.join(\n                    (importManager.context.rootpath || \"\"),\n                    fileManager.pathDiff(newFileInfo.currentDirectory, newFileInfo.entryPath));\n\n                if (!fileManager.isPathAbsolute(newFileInfo.rootpath) && fileManager.alwaysMakePathsAbsolute()) {\n                    newFileInfo.rootpath = fileManager.join(newFileInfo.entryPath, newFileInfo.rootpath);\n                }\n            }\n            newFileInfo.filename = resolvedFilename;\n\n            var newEnv = new contexts.Parse(importManager.context);\n\n            newEnv.processImports = false;\n            importManager.contents[resolvedFilename] = contents;\n\n            if (currentFileInfo.reference || importOptions.reference) {\n                newFileInfo.reference = true;\n            }\n\n            if (importOptions.plugin) {\n                new FunctionImporter(newEnv, newFileInfo).eval(contents, function (e, root) {\n                    fileParsedFunc(e, root, resolvedFilename);\n                });\n            } else if (importOptions.inline) {\n                fileParsedFunc(null, contents, resolvedFilename);\n            } else {\n                new Parser(newEnv, importManager, newFileInfo).parse(contents, function (e, root) {\n                    fileParsedFunc(e, root, resolvedFilename);\n                });\n            }\n        };\n\n        var promise = fileManager.loadFile(path, currentFileInfo.currentDirectory, this.context, environment,\n            function(err, loadedFile) {\n            if (err) {\n                fileParsedFunc(err);\n            } else {\n                loadFileCallback(loadedFile);\n            }\n        });\n        if (promise) {\n            promise.then(loadFileCallback, fileParsedFunc);\n        }\n    };\n    return ImportManager;\n};\n\n},{\"./contexts\":11,\"./parser/parser\":38,\"./plugins/function-importer\":40}],31:[function(require,module,exports){\nmodule.exports = function(environment, fileManagers) {\n    var SourceMapOutput, SourceMapBuilder, ParseTree, ImportManager, Environment;\n\n    var less = {\n        version: [2, 7, 1],\n        data: require('./data'),\n        tree: require('./tree'),\n        Environment: (Environment = require(\"./environment/environment\")),\n        AbstractFileManager: require(\"./environment/abstract-file-manager\"),\n        environment: (environment = new Environment(environment, fileManagers)),\n        visitors: require('./visitors'),\n        Parser: require('./parser/parser'),\n        functions: require('./functions')(environment),\n        contexts: require(\"./contexts\"),\n        SourceMapOutput: (SourceMapOutput = require('./source-map-output')(environment)),\n        SourceMapBuilder: (SourceMapBuilder = require('./source-map-builder')(SourceMapOutput, environment)),\n        ParseTree: (ParseTree = require('./parse-tree')(SourceMapBuilder)),\n        ImportManager: (ImportManager = require('./import-manager')(environment)),\n        render: require(\"./render\")(environment, ParseTree, ImportManager),\n        parse: require(\"./parse\")(environment, ParseTree, ImportManager),\n        LessError: require('./less-error'),\n        transformTree: require('./transform-tree'),\n        utils: require('./utils'),\n        PluginManager: require('./plugin-manager'),\n        logger: require('./logger')\n    };\n\n    return less;\n};\n\n},{\"./contexts\":11,\"./data\":13,\"./environment/abstract-file-manager\":15,\"./environment/environment\":16,\"./functions\":23,\"./import-manager\":30,\"./less-error\":32,\"./logger\":33,\"./parse\":35,\"./parse-tree\":34,\"./parser/parser\":38,\"./plugin-manager\":39,\"./render\":41,\"./source-map-builder\":42,\"./source-map-output\":43,\"./transform-tree\":44,\"./tree\":62,\"./utils\":83,\"./visitors\":87}],32:[function(require,module,exports){\nvar utils = require(\"./utils\");\n\nvar LessError = module.exports = function LessError(e, importManager, currentFilename) {\n\n    Error.call(this);\n\n    var filename = e.filename || currentFilename;\n\n    if (importManager && filename) {\n        var input = importManager.contents[filename],\n            loc = utils.getLocation(e.index, input),\n            line = loc.line,\n            col  = loc.column,\n            callLine = e.call && utils.getLocation(e.call, input).line,\n            lines = input.split('\\n');\n\n        this.type = e.type || 'Syntax';\n        this.filename = filename;\n        this.index = e.index;\n        this.line = typeof line === 'number' ? line + 1 : null;\n        this.callLine = callLine + 1;\n        this.callExtract = lines[callLine];\n        this.column = col;\n        this.extract = [\n            lines[line - 1],\n            lines[line],\n            lines[line + 1]\n        ];\n    }\n    this.message = e.message;\n    this.stack = e.stack;\n};\n\nif (typeof Object.create === 'undefined') {\n    var F = function () {};\n    F.prototype = Error.prototype;\n    LessError.prototype = new F();\n} else {\n    LessError.prototype = Object.create(Error.prototype);\n}\n\nLessError.prototype.constructor = LessError;\n\n},{\"./utils\":83}],33:[function(require,module,exports){\nmodule.exports = {\n    error: function(msg) {\n        this._fireEvent(\"error\", msg);\n    },\n    warn: function(msg) {\n        this._fireEvent(\"warn\", msg);\n    },\n    info: function(msg) {\n        this._fireEvent(\"info\", msg);\n    },\n    debug: function(msg) {\n        this._fireEvent(\"debug\", msg);\n    },\n    addListener: function(listener) {\n        this._listeners.push(listener);\n    },\n    removeListener: function(listener) {\n        for (var i = 0; i < this._listeners.length; i++) {\n            if (this._listeners[i] === listener) {\n                this._listeners.splice(i, 1);\n                return;\n            }\n        }\n    },\n    _fireEvent: function(type, msg) {\n        for (var i = 0; i < this._listeners.length; i++) {\n            var logFunction = this._listeners[i][type];\n            if (logFunction) {\n                logFunction(msg);\n            }\n        }\n    },\n    _listeners: []\n};\n\n},{}],34:[function(require,module,exports){\nvar LessError = require('./less-error'),\n    transformTree = require(\"./transform-tree\"),\n    logger = require(\"./logger\");\n\nmodule.exports = function(SourceMapBuilder) {\n    var ParseTree = function(root, imports) {\n        this.root = root;\n        this.imports = imports;\n    };\n\n    ParseTree.prototype.toCSS = function(options) {\n        var evaldRoot, result = {}, sourceMapBuilder;\n        try {\n            evaldRoot = transformTree(this.root, options);\n        } catch (e) {\n            throw new LessError(e, this.imports);\n        }\n\n        try {\n            var compress = Boolean(options.compress);\n            if (compress) {\n                logger.warn(\"The compress option has been deprecated. We recommend you use a dedicated css minifier, for instance see less-plugin-clean-css.\");\n            }\n\n            var toCSSOptions = {\n                compress: compress,\n                dumpLineNumbers: options.dumpLineNumbers,\n                strictUnits: Boolean(options.strictUnits),\n                numPrecision: 8};\n\n            if (options.sourceMap) {\n                sourceMapBuilder = new SourceMapBuilder(options.sourceMap);\n                result.css = sourceMapBuilder.toCSS(evaldRoot, toCSSOptions, this.imports);\n            } else {\n                result.css = evaldRoot.toCSS(toCSSOptions);\n            }\n        } catch (e) {\n            throw new LessError(e, this.imports);\n        }\n\n        if (options.pluginManager) {\n            var postProcessors = options.pluginManager.getPostProcessors();\n            for (var i = 0; i < postProcessors.length; i++) {\n                result.css = postProcessors[i].process(result.css, { sourceMap: sourceMapBuilder, options: options, imports: this.imports });\n            }\n        }\n        if (options.sourceMap) {\n            result.map = sourceMapBuilder.getExternalSourceMap();\n        }\n\n        result.imports = [];\n        for (var file in this.imports.files) {\n            if (this.imports.files.hasOwnProperty(file) && file !== this.imports.rootFilename) {\n                result.imports.push(file);\n            }\n        }\n        return result;\n    };\n    return ParseTree;\n};\n\n},{\"./less-error\":32,\"./logger\":33,\"./transform-tree\":44}],35:[function(require,module,exports){\nvar PromiseConstructor,\n    contexts = require(\"./contexts\"),\n    Parser = require('./parser/parser'),\n    PluginManager = require('./plugin-manager');\n\nmodule.exports = function(environment, ParseTree, ImportManager) {\n    var parse = function (input, options, callback) {\n        options = options || {};\n\n        if (typeof options === 'function') {\n            callback = options;\n            options = {};\n        }\n\n        if (!callback) {\n            if (!PromiseConstructor) {\n                PromiseConstructor = typeof Promise === 'undefined' ? require('promise') : Promise;\n            }\n            var self = this;\n            return new PromiseConstructor(function (resolve, reject) {\n                parse.call(self, input, options, function(err, output) {\n                    if (err) {\n                        reject(err);\n                    } else {\n                        resolve(output);\n                    }\n                });\n            });\n        } else {\n            var context,\n                rootFileInfo,\n                pluginManager = new PluginManager(this);\n\n            pluginManager.addPlugins(options.plugins);\n            options.pluginManager = pluginManager;\n\n            context = new contexts.Parse(options);\n\n            if (options.rootFileInfo) {\n                rootFileInfo = options.rootFileInfo;\n            } else {\n                var filename = options.filename || \"input\";\n                var entryPath = filename.replace(/[^\\/\\\\]*$/, \"\");\n                rootFileInfo = {\n                    filename: filename,\n                    relativeUrls: context.relativeUrls,\n                    rootpath: context.rootpath || \"\",\n                    currentDirectory: entryPath,\n                    entryPath: entryPath,\n                    rootFilename: filename\n                };\n                // add in a missing trailing slash\n                if (rootFileInfo.rootpath && rootFileInfo.rootpath.slice(-1) !== \"/\") {\n                    rootFileInfo.rootpath += \"/\";\n                }\n            }\n\n            var imports = new ImportManager(context, rootFileInfo);\n\n            new Parser(context, imports, rootFileInfo)\n                .parse(input, function (e, root) {\n                if (e) { return callback(e); }\n                callback(null, root, imports, options);\n            }, options);\n        }\n    };\n    return parse;\n};\n\n},{\"./contexts\":11,\"./parser/parser\":38,\"./plugin-manager\":39,\"promise\":undefined}],36:[function(require,module,exports){\n// Split the input into chunks.\nmodule.exports = function (input, fail) {\n    var len = input.length, level = 0, parenLevel = 0,\n        lastOpening, lastOpeningParen, lastMultiComment, lastMultiCommentEndBrace,\n        chunks = [], emitFrom = 0,\n        chunkerCurrentIndex, currentChunkStartIndex, cc, cc2, matched;\n\n    function emitChunk(force) {\n        var len = chunkerCurrentIndex - emitFrom;\n        if (((len < 512) && !force) || !len) {\n            return;\n        }\n        chunks.push(input.slice(emitFrom, chunkerCurrentIndex + 1));\n        emitFrom = chunkerCurrentIndex + 1;\n    }\n\n    for (chunkerCurrentIndex = 0; chunkerCurrentIndex < len; chunkerCurrentIndex++) {\n        cc = input.charCodeAt(chunkerCurrentIndex);\n        if (((cc >= 97) && (cc <= 122)) || (cc < 34)) {\n            // a-z or whitespace\n            continue;\n        }\n\n        switch (cc) {\n            case 40:                        // (\n                parenLevel++;\n                lastOpeningParen = chunkerCurrentIndex;\n                continue;\n            case 41:                        // )\n                if (--parenLevel < 0) {\n                    return fail(\"missing opening `(`\", chunkerCurrentIndex);\n                }\n                continue;\n            case 59:                        // ;\n                if (!parenLevel) { emitChunk(); }\n                continue;\n            case 123:                       // {\n                level++;\n                lastOpening = chunkerCurrentIndex;\n                continue;\n            case 125:                       // }\n                if (--level < 0) {\n                    return fail(\"missing opening `{`\", chunkerCurrentIndex);\n                }\n                if (!level && !parenLevel) { emitChunk(); }\n                continue;\n            case 92:                        // \\\n                if (chunkerCurrentIndex < len - 1) { chunkerCurrentIndex++; continue; }\n                return fail(\"unescaped `\\\\`\", chunkerCurrentIndex);\n            case 34:\n            case 39:\n            case 96:                        // \", ' and `\n                matched = 0;\n                currentChunkStartIndex = chunkerCurrentIndex;\n                for (chunkerCurrentIndex = chunkerCurrentIndex + 1; chunkerCurrentIndex < len; chunkerCurrentIndex++) {\n                    cc2 = input.charCodeAt(chunkerCurrentIndex);\n                    if (cc2 > 96) { continue; }\n                    if (cc2 == cc) { matched = 1; break; }\n                    if (cc2 == 92) {        // \\\n                        if (chunkerCurrentIndex == len - 1) {\n                            return fail(\"unescaped `\\\\`\", chunkerCurrentIndex);\n                        }\n                        chunkerCurrentIndex++;\n                    }\n                }\n                if (matched) { continue; }\n                return fail(\"unmatched `\" + String.fromCharCode(cc) + \"`\", currentChunkStartIndex);\n            case 47:                        // /, check for comment\n                if (parenLevel || (chunkerCurrentIndex == len - 1)) { continue; }\n                cc2 = input.charCodeAt(chunkerCurrentIndex + 1);\n                if (cc2 == 47) {\n                    // //, find lnfeed\n                    for (chunkerCurrentIndex = chunkerCurrentIndex + 2; chunkerCurrentIndex < len; chunkerCurrentIndex++) {\n                        cc2 = input.charCodeAt(chunkerCurrentIndex);\n                        if ((cc2 <= 13) && ((cc2 == 10) || (cc2 == 13))) { break; }\n                    }\n                } else if (cc2 == 42) {\n                    // /*, find */\n                    lastMultiComment = currentChunkStartIndex = chunkerCurrentIndex;\n                    for (chunkerCurrentIndex = chunkerCurrentIndex + 2; chunkerCurrentIndex < len - 1; chunkerCurrentIndex++) {\n                        cc2 = input.charCodeAt(chunkerCurrentIndex);\n                        if (cc2 == 125) { lastMultiCommentEndBrace = chunkerCurrentIndex; }\n                        if (cc2 != 42) { continue; }\n                        if (input.charCodeAt(chunkerCurrentIndex + 1) == 47) { break; }\n                    }\n                    if (chunkerCurrentIndex == len - 1) {\n                        return fail(\"missing closing `*/`\", currentChunkStartIndex);\n                    }\n                    chunkerCurrentIndex++;\n                }\n                continue;\n            case 42:                       // *, check for unmatched */\n                if ((chunkerCurrentIndex < len - 1) && (input.charCodeAt(chunkerCurrentIndex + 1) == 47)) {\n                    return fail(\"unmatched `/*`\", chunkerCurrentIndex);\n                }\n                continue;\n        }\n    }\n\n    if (level !== 0) {\n        if ((lastMultiComment > lastOpening) && (lastMultiCommentEndBrace > lastMultiComment)) {\n            return fail(\"missing closing `}` or `*/`\", lastOpening);\n        } else {\n            return fail(\"missing closing `}`\", lastOpening);\n        }\n    } else if (parenLevel !== 0) {\n        return fail(\"missing closing `)`\", lastOpeningParen);\n    }\n\n    emitChunk(true);\n    return chunks;\n};\n\n},{}],37:[function(require,module,exports){\nvar chunker = require('./chunker');\n\nmodule.exports = function() {\n    var input,       // LeSS input string\n        j,           // current chunk\n        saveStack = [],   // holds state for backtracking\n        furthest,    // furthest index the parser has gone to\n        furthestPossibleErrorMessage,// if this is furthest we got to, this is the probably cause\n        chunks,      // chunkified input\n        current,     // current chunk\n        currentPos,  // index of current chunk, in `input`\n        parserInput = {};\n\n    var CHARCODE_SPACE = 32,\n        CHARCODE_TAB = 9,\n        CHARCODE_LF = 10,\n        CHARCODE_CR = 13,\n        CHARCODE_PLUS = 43,\n        CHARCODE_COMMA = 44,\n        CHARCODE_FORWARD_SLASH = 47,\n        CHARCODE_9 = 57;\n\n    function skipWhitespace(length) {\n        var oldi = parserInput.i, oldj = j,\n            curr = parserInput.i - currentPos,\n            endIndex = parserInput.i + current.length - curr,\n            mem = (parserInput.i += length),\n            inp = input,\n            c, nextChar, comment;\n\n        for (; parserInput.i < endIndex; parserInput.i++) {\n            c = inp.charCodeAt(parserInput.i);\n\n            if (parserInput.autoCommentAbsorb && c === CHARCODE_FORWARD_SLASH) {\n                nextChar = inp.charAt(parserInput.i + 1);\n                if (nextChar === '/') {\n                    comment = {index: parserInput.i, isLineComment: true};\n                    var nextNewLine = inp.indexOf(\"\\n\", parserInput.i + 2);\n                    if (nextNewLine < 0) {\n                        nextNewLine = endIndex;\n                    }\n                    parserInput.i = nextNewLine;\n                    comment.text = inp.substr(comment.index, parserInput.i - comment.index);\n                    parserInput.commentStore.push(comment);\n                    continue;\n                } else if (nextChar === '*') {\n                    var nextStarSlash = inp.indexOf(\"*/\", parserInput.i + 2);\n                    if (nextStarSlash >= 0) {\n                        comment = {\n                            index: parserInput.i,\n                            text: inp.substr(parserInput.i, nextStarSlash + 2 - parserInput.i),\n                            isLineComment: false\n                        };\n                        parserInput.i += comment.text.length - 1;\n                        parserInput.commentStore.push(comment);\n                        continue;\n                    }\n                }\n                break;\n            }\n\n            if ((c !== CHARCODE_SPACE) && (c !== CHARCODE_LF) && (c !== CHARCODE_TAB) && (c !== CHARCODE_CR)) {\n                break;\n            }\n        }\n\n        current = current.slice(length + parserInput.i - mem + curr);\n        currentPos = parserInput.i;\n\n        if (!current.length) {\n            if (j < chunks.length - 1) {\n                current = chunks[++j];\n                skipWhitespace(0); // skip space at the beginning of a chunk\n                return true; // things changed\n            }\n            parserInput.finished = true;\n        }\n\n        return oldi !== parserInput.i || oldj !== j;\n    }\n\n    parserInput.save = function() {\n        currentPos = parserInput.i;\n        saveStack.push( { current: current, i: parserInput.i, j: j });\n    };\n    parserInput.restore = function(possibleErrorMessage) {\n\n        if (parserInput.i > furthest || (parserInput.i === furthest && possibleErrorMessage && !furthestPossibleErrorMessage)) {\n            furthest = parserInput.i;\n            furthestPossibleErrorMessage = possibleErrorMessage;\n        }\n        var state = saveStack.pop();\n        current = state.current;\n        currentPos = parserInput.i = state.i;\n        j = state.j;\n    };\n    parserInput.forget = function() {\n        saveStack.pop();\n    };\n    parserInput.isWhitespace = function (offset) {\n        var pos = parserInput.i + (offset || 0),\n            code = input.charCodeAt(pos);\n        return (code === CHARCODE_SPACE || code === CHARCODE_CR || code === CHARCODE_TAB || code === CHARCODE_LF);\n    };\n\n    // Specialization of $(tok)\n    parserInput.$re = function(tok) {\n        if (parserInput.i > currentPos) {\n            current = current.slice(parserInput.i - currentPos);\n            currentPos = parserInput.i;\n        }\n\n        var m = tok.exec(current);\n        if (!m) {\n            return null;\n        }\n\n        skipWhitespace(m[0].length);\n        if (typeof m === \"string\") {\n            return m;\n        }\n\n        return m.length === 1 ? m[0] : m;\n    };\n\n    parserInput.$char = function(tok) {\n        if (input.charAt(parserInput.i) !== tok) {\n            return null;\n        }\n        skipWhitespace(1);\n        return tok;\n    };\n\n    parserInput.$str = function(tok) {\n        var tokLength = tok.length;\n\n        // https://jsperf.com/string-startswith/21\n        for (var i = 0; i < tokLength; i++) {\n            if (input.charAt(parserInput.i + i) !== tok.charAt(i)) {\n                return null;\n            }\n        }\n\n        skipWhitespace(tokLength);\n        return tok;\n    };\n\n    parserInput.$quoted = function() {\n\n        var startChar = input.charAt(parserInput.i);\n        if (startChar !== \"'\" && startChar !== '\"') {\n            return;\n        }\n        var length = input.length,\n            currentPosition = parserInput.i;\n\n        for (var i = 1; i + currentPosition < length; i++) {\n            var nextChar = input.charAt(i + currentPosition);\n            switch(nextChar) {\n                case \"\\\\\":\n                    i++;\n                    continue;\n                case \"\\r\":\n                case \"\\n\":\n                    break;\n                case startChar:\n                    var str = input.substr(currentPosition, i + 1);\n                    skipWhitespace(i + 1);\n                    return str;\n                default:\n            }\n        }\n        return null;\n    };\n\n    parserInput.autoCommentAbsorb = true;\n    parserInput.commentStore = [];\n    parserInput.finished = false;\n\n    // Same as $(), but don't change the state of the parser,\n    // just return the match.\n    parserInput.peek = function(tok) {\n        if (typeof tok === 'string') {\n            // https://jsperf.com/string-startswith/21\n            for (var i = 0; i < tok.length; i++) {\n                if (input.charAt(parserInput.i + i) !== tok.charAt(i)) {\n                    return false;\n                }\n            }\n            return true;\n        } else {\n            return tok.test(current);\n        }\n    };\n\n    // Specialization of peek()\n    // TODO remove or change some currentChar calls to peekChar\n    parserInput.peekChar = function(tok) {\n        return input.charAt(parserInput.i) === tok;\n    };\n\n    parserInput.currentChar = function() {\n        return input.charAt(parserInput.i);\n    };\n\n    parserInput.getInput = function() {\n        return input;\n    };\n\n    parserInput.peekNotNumeric = function() {\n        var c = input.charCodeAt(parserInput.i);\n        //Is the first char of the dimension 0-9, '.', '+' or '-'\n        return (c > CHARCODE_9 || c < CHARCODE_PLUS) || c === CHARCODE_FORWARD_SLASH || c === CHARCODE_COMMA;\n    };\n\n    parserInput.start = function(str, chunkInput, failFunction) {\n        input = str;\n        parserInput.i = j = currentPos = furthest = 0;\n\n        // chunking apparently makes things quicker (but my tests indicate\n        // it might actually make things slower in node at least)\n        // and it is a non-perfect parse - it can't recognise\n        // unquoted urls, meaning it can't distinguish comments\n        // meaning comments with quotes or {}() in them get 'counted'\n        // and then lead to parse errors.\n        // In addition if the chunking chunks in the wrong place we might\n        // not be able to parse a parser statement in one go\n        // this is officially deprecated but can be switched on via an option\n        // in the case it causes too much performance issues.\n        if (chunkInput) {\n            chunks = chunker(str, failFunction);\n        } else {\n            chunks = [str];\n        }\n\n        current = chunks[0];\n\n        skipWhitespace(0);\n    };\n\n    parserInput.end = function() {\n        var message,\n            isFinished = parserInput.i >= input.length;\n\n        if (parserInput.i < furthest) {\n            message = furthestPossibleErrorMessage;\n            parserInput.i = furthest;\n        }\n        return {\n            isFinished: isFinished,\n            furthest: parserInput.i,\n            furthestPossibleErrorMessage: message,\n            furthestReachedEnd: parserInput.i >= input.length - 1,\n            furthestChar: input[parserInput.i]\n        };\n    };\n\n    return parserInput;\n};\n\n},{\"./chunker\":36}],38:[function(require,module,exports){\nvar LessError = require('../less-error'),\n    tree = require(\"../tree\"),\n    visitors = require(\"../visitors\"),\n    getParserInput = require(\"./parser-input\"),\n    utils = require(\"../utils\");\n\n//\n// less.js - parser\n//\n//    A relatively straight-forward predictive parser.\n//    There is no tokenization/lexing stage, the input is parsed\n//    in one sweep.\n//\n//    To make the parser fast enough to run in the browser, several\n//    optimization had to be made:\n//\n//    - Matching and slicing on a huge input is often cause of slowdowns.\n//      The solution is to chunkify the input into smaller strings.\n//      The chunks are stored in the `chunks` var,\n//      `j` holds the current chunk index, and `currentPos` holds\n//      the index of the current chunk in relation to `input`.\n//      This gives us an almost 4x speed-up.\n//\n//    - In many cases, we don't need to match individual tokens;\n//      for example, if a value doesn't hold any variables, operations\n//      or dynamic references, the parser can effectively 'skip' it,\n//      treating it as a literal.\n//      An example would be '1px solid #000' - which evaluates to itself,\n//      we don't need to know what the individual components are.\n//      The drawback, of course is that you don't get the benefits of\n//      syntax-checking on the CSS. This gives us a 50% speed-up in the parser,\n//      and a smaller speed-up in the code-gen.\n//\n//\n//    Token matching is done with the `$` function, which either takes\n//    a terminal string or regexp, or a non-terminal function to call.\n//    It also takes care of moving all the indices forwards.\n//`\n//\nvar Parser = function Parser(context, imports, fileInfo) {\n    var parsers,\n        parserInput = getParserInput();\n\n    function error(msg, type) {\n        throw new LessError(\n            {\n                index: parserInput.i,\n                filename: fileInfo.filename,\n                type: type || 'Syntax',\n                message: msg\n            },\n            imports\n        );\n    }\n\n    function expect(arg, msg, index) {\n        // some older browsers return typeof 'function' for RegExp\n        var result = (arg instanceof Function) ? arg.call(parsers) : parserInput.$re(arg);\n        if (result) {\n            return result;\n        }\n        error(msg || (typeof arg === 'string' ? \"expected '\" + arg + \"' got '\" + parserInput.currentChar() + \"'\"\n                                               : \"unexpected token\"));\n    }\n\n    // Specialization of expect()\n    function expectChar(arg, msg) {\n        if (parserInput.$char(arg)) {\n            return arg;\n        }\n        error(msg || \"expected '\" + arg + \"' got '\" + parserInput.currentChar() + \"'\");\n    }\n\n    function getDebugInfo(index) {\n        var filename = fileInfo.filename;\n\n        return {\n            lineNumber: utils.getLocation(index, parserInput.getInput()).line + 1,\n            fileName: filename\n        };\n    }\n\n    //\n    // The Parser\n    //\n    return {\n\n        //\n        // Parse an input string into an abstract syntax tree,\n        // @param str A string containing 'less' markup\n        // @param callback call `callback` when done.\n        // @param [additionalData] An optional map which can contains vars - a map (key, value) of variables to apply\n        //\n        parse: function (str, callback, additionalData) {\n            var root, error = null, globalVars, modifyVars, ignored, preText = \"\";\n\n            globalVars = (additionalData && additionalData.globalVars) ? Parser.serializeVars(additionalData.globalVars) + '\\n' : '';\n            modifyVars = (additionalData && additionalData.modifyVars) ? '\\n' + Parser.serializeVars(additionalData.modifyVars) : '';\n\n            if (context.pluginManager) {\n                var preProcessors = context.pluginManager.getPreProcessors();\n                for (var i = 0; i < preProcessors.length; i++) {\n                    str = preProcessors[i].process(str, { context: context, imports: imports, fileInfo: fileInfo });\n                }\n            }\n\n            if (globalVars || (additionalData && additionalData.banner)) {\n                preText = ((additionalData && additionalData.banner) ? additionalData.banner : \"\") + globalVars;\n                ignored = imports.contentsIgnoredChars;\n                ignored[fileInfo.filename] = ignored[fileInfo.filename] || 0;\n                ignored[fileInfo.filename] += preText.length;\n            }\n\n            str = str.replace(/\\r\\n?/g, '\\n');\n            // Remove potential UTF Byte Order Mark\n            str = preText + str.replace(/^\\uFEFF/, '') + modifyVars;\n            imports.contents[fileInfo.filename] = str;\n\n            // Start with the primary rule.\n            // The whole syntax tree is held under a Ruleset node,\n            // with the `root` property set to true, so no `{}` are\n            // output. The callback is called when the input is parsed.\n            try {\n                parserInput.start(str, context.chunkInput, function fail(msg, index) {\n                    throw new LessError({\n                        index: index,\n                        type: 'Parse',\n                        message: msg,\n                        filename: fileInfo.filename\n                    }, imports);\n                });\n\n                root = new(tree.Ruleset)(null, this.parsers.primary());\n                root.root = true;\n                root.firstRoot = true;\n            } catch (e) {\n                return callback(new LessError(e, imports, fileInfo.filename));\n            }\n\n            // If `i` is smaller than the `input.length - 1`,\n            // it means the parser wasn't able to parse the whole\n            // string, so we've got a parsing error.\n            //\n            // We try to extract a \\n delimited string,\n            // showing the line where the parse error occurred.\n            // We split it up into two parts (the part which parsed,\n            // and the part which didn't), so we can color them differently.\n            var endInfo = parserInput.end();\n            if (!endInfo.isFinished) {\n\n                var message = endInfo.furthestPossibleErrorMessage;\n\n                if (!message) {\n                    message = \"Unrecognised input\";\n                    if (endInfo.furthestChar === '}') {\n                        message += \". Possibly missing opening '{'\";\n                    } else if (endInfo.furthestChar === ')') {\n                        message += \". Possibly missing opening '('\";\n                    } else if (endInfo.furthestReachedEnd) {\n                        message += \". Possibly missing something\";\n                    }\n                }\n\n                error = new LessError({\n                    type: \"Parse\",\n                    message: message,\n                    index: endInfo.furthest,\n                    filename: fileInfo.filename\n                }, imports);\n            }\n\n            var finish = function (e) {\n                e = error || e || imports.error;\n\n                if (e) {\n                    if (!(e instanceof LessError)) {\n                        e = new LessError(e, imports, fileInfo.filename);\n                    }\n\n                    return callback(e);\n                }\n                else {\n                    return callback(null, root);\n                }\n            };\n\n            if (context.processImports !== false) {\n                new visitors.ImportVisitor(imports, finish)\n                    .run(root);\n            } else {\n                return finish();\n            }\n        },\n\n        //\n        // Here in, the parsing rules/functions\n        //\n        // The basic structure of the syntax tree generated is as follows:\n        //\n        //   Ruleset ->  Rule -> Value -> Expression -> Entity\n        //\n        // Here's some Less code:\n        //\n        //    .class {\n        //      color: #fff;\n        //      border: 1px solid #000;\n        //      width: @w + 4px;\n        //      > .child {...}\n        //    }\n        //\n        // And here's what the parse tree might look like:\n        //\n        //     Ruleset (Selector '.class', [\n        //         Rule (\"color\",  Value ([Expression [Color #fff]]))\n        //         Rule (\"border\", Value ([Expression [Dimension 1px][Keyword \"solid\"][Color #000]]))\n        //         Rule (\"width\",  Value ([Expression [Operation \" + \" [Variable \"@w\"][Dimension 4px]]]))\n        //         Ruleset (Selector [Element '>', '.child'], [...])\n        //     ])\n        //\n        //  In general, most rules will try to parse a token with the `$re()` function, and if the return\n        //  value is truly, will return a new node, of the relevant type. Sometimes, we need to check\n        //  first, before parsing, that's when we use `peek()`.\n        //\n        parsers: parsers = {\n            //\n            // The `primary` rule is the *entry* and *exit* point of the parser.\n            // The rules here can appear at any level of the parse tree.\n            //\n            // The recursive nature of the grammar is an interplay between the `block`\n            // rule, which represents `{ ... }`, the `ruleset` rule, and this `primary` rule,\n            // as represented by this simplified grammar:\n            //\n            //     primary    (ruleset | rule)+\n            //     ruleset    selector+ block\n            //     block      '{' primary '}'\n            //\n            // Only at one point is the primary rule not called from the\n            // block rule: at the root level.\n            //\n            primary: function () {\n                var mixin = this.mixin, root = [], node;\n\n                while (true) {\n                    while (true) {\n                        node = this.comment();\n                        if (!node) { break; }\n                        root.push(node);\n                    }\n                    // always process comments before deciding if finished\n                    if (parserInput.finished) {\n                        break;\n                    }\n                    if (parserInput.peek('}')) {\n                        break;\n                    }\n\n                    node = this.extendRule();\n                    if (node) {\n                        root = root.concat(node);\n                        continue;\n                    }\n\n                    node = mixin.definition() || this.rule() || this.ruleset() ||\n                        mixin.call() || this.rulesetCall() || this.entities.call() || this.directive();\n                    if (node) {\n                        root.push(node);\n                    } else {\n                        var foundSemiColon = false;\n                        while (parserInput.$char(\";\")) {\n                            foundSemiColon = true;\n                        }\n                        if (!foundSemiColon) {\n                            break;\n                        }\n                    }\n                }\n\n                return root;\n            },\n\n            // comments are collected by the main parsing mechanism and then assigned to nodes\n            // where the current structure allows it\n            comment: function () {\n                if (parserInput.commentStore.length) {\n                    var comment = parserInput.commentStore.shift();\n                    return new(tree.Comment)(comment.text, comment.isLineComment, comment.index, fileInfo);\n                }\n            },\n\n            //\n            // Entities are tokens which can be found inside an Expression\n            //\n            entities: {\n                //\n                // A string, which supports escaping \" and '\n                //\n                //     \"milky way\" 'he\\'s the one!'\n                //\n                quoted: function () {\n                    var str, index = parserInput.i, isEscaped = false;\n\n                    parserInput.save();\n                    if (parserInput.$char(\"~\")) {\n                        isEscaped = true;\n                    }\n                    str = parserInput.$quoted();\n                    if (!str) {\n                        parserInput.restore();\n                        return;\n                    }\n                    parserInput.forget();\n\n                    return new(tree.Quoted)(str.charAt(0), str.substr(1, str.length - 2), isEscaped, index, fileInfo);\n                },\n\n                //\n                // A catch-all word, such as:\n                //\n                //     black border-collapse\n                //\n                keyword: function () {\n                    var k = parserInput.$char(\"%\") || parserInput.$re(/^[_A-Za-z-][_A-Za-z0-9-]*/);\n                    if (k) {\n                        return tree.Color.fromKeyword(k) || new(tree.Keyword)(k);\n                    }\n                },\n\n                //\n                // A function call\n                //\n                //     rgb(255, 0, 255)\n                //\n                // We also try to catch IE's `alpha()`, but let the `alpha` parser\n                // deal with the details.\n                //\n                // The arguments are parsed with the `entities.arguments` parser.\n                //\n                call: function () {\n                    var name, nameLC, args, alpha, index = parserInput.i;\n\n                    // http://jsperf.com/case-insensitive-regex-vs-strtolower-then-regex/18\n                    if (parserInput.peek(/^url\\(/i)) {\n                        return;\n                    }\n\n                    parserInput.save();\n\n                    name = parserInput.$re(/^([\\w-]+|%|progid:[\\w\\.]+)\\(/);\n                    if (!name) { parserInput.forget(); return; }\n\n                    name = name[1];\n                    nameLC = name.toLowerCase();\n\n                    if (nameLC === 'alpha') {\n                        alpha = parsers.alpha();\n                        if (alpha) {\n                            parserInput.forget();\n                            return alpha;\n                        }\n                    }\n\n                    args = this.arguments();\n\n                    if (! parserInput.$char(')')) {\n                        parserInput.restore(\"Could not parse call arguments or missing ')'\");\n                        return;\n                    }\n\n                    parserInput.forget();\n                    return new(tree.Call)(name, args, index, fileInfo);\n                },\n                arguments: function () {\n                    var argsSemiColon = [], argsComma = [],\n                        expressions = [],\n                        isSemiColonSeparated, value, arg;\n\n                    parserInput.save();\n\n                    while (true) {\n\n                        arg = parsers.detachedRuleset() || this.assignment() || parsers.expression();\n\n                        if (!arg) {\n                            break;\n                        }\n\n                        value = arg;\n\n                        if (arg.value && arg.value.length == 1) {\n                            value = arg.value[0];\n                        }\n\n                        if (value) {\n                            expressions.push(value);\n                        }\n\n                        argsComma.push(value);\n\n                        if (parserInput.$char(',')) {\n                            continue;\n                        }\n\n                        if (parserInput.$char(';') || isSemiColonSeparated) {\n\n                            isSemiColonSeparated = true;\n\n                            if (expressions.length > 1) {\n                                value = new(tree.Value)(expressions);\n                            }\n                            argsSemiColon.push(value);\n\n                            expressions = [];\n                        }\n                    }\n\n                    parserInput.forget();\n                    return isSemiColonSeparated ? argsSemiColon : argsComma;\n                },\n                literal: function () {\n                    return this.dimension() ||\n                           this.color() ||\n                           this.quoted() ||\n                           this.unicodeDescriptor();\n                },\n\n                // Assignments are argument entities for calls.\n                // They are present in ie filter properties as shown below.\n                //\n                //     filter: progid:DXImageTransform.Microsoft.Alpha( *opacity=50* )\n                //\n\n                assignment: function () {\n                    var key, value;\n                    parserInput.save();\n                    key = parserInput.$re(/^\\w+(?=\\s?=)/i);\n                    if (!key) {\n                        parserInput.restore();\n                        return;\n                    }\n                    if (!parserInput.$char('=')) {\n                        parserInput.restore();\n                        return;\n                    }\n                    value = parsers.entity();\n                    if (value) {\n                        parserInput.forget();\n                        return new(tree.Assignment)(key, value);\n                    } else {\n                        parserInput.restore();\n                    }\n                },\n\n                //\n                // Parse url() tokens\n                //\n                // We use a specific rule for urls, because they don't really behave like\n                // standard function calls. The difference is that the argument doesn't have\n                // to be enclosed within a string, so it can't be parsed as an Expression.\n                //\n                url: function () {\n                    var value, index = parserInput.i;\n\n                    parserInput.autoCommentAbsorb = false;\n\n                    if (!parserInput.$str(\"url(\")) {\n                        parserInput.autoCommentAbsorb = true;\n                        return;\n                    }\n\n                    value = this.quoted() || this.variable() ||\n                            parserInput.$re(/^(?:(?:\\\\[\\(\\)'\"])|[^\\(\\)'\"])+/) || \"\";\n\n                    parserInput.autoCommentAbsorb = true;\n\n                    expectChar(')');\n\n                    return new(tree.URL)((value.value != null || value instanceof tree.Variable) ?\n                                        value : new(tree.Anonymous)(value), index, fileInfo);\n                },\n\n                //\n                // A Variable entity, such as `@fink`, in\n                //\n                //     width: @fink + 2px\n                //\n                // We use a different parser for variable definitions,\n                // see `parsers.variable`.\n                //\n                variable: function () {\n                    var name, index = parserInput.i;\n\n                    if (parserInput.currentChar() === '@' && (name = parserInput.$re(/^@@?[\\w-]+/))) {\n                        return new(tree.Variable)(name, index, fileInfo);\n                    }\n                },\n\n                // A variable entity using the protective {} e.g. @{var}\n                variableCurly: function () {\n                    var curly, index = parserInput.i;\n\n                    if (parserInput.currentChar() === '@' && (curly = parserInput.$re(/^@\\{([\\w-]+)\\}/))) {\n                        return new(tree.Variable)(\"@\" + curly[1], index, fileInfo);\n                    }\n                },\n\n                //\n                // A Hexadecimal color\n                //\n                //     #4F3C2F\n                //\n                // `rgb` and `hsl` colors are parsed through the `entities.call` parser.\n                //\n                color: function () {\n                    var rgb;\n\n                    if (parserInput.currentChar() === '#' && (rgb = parserInput.$re(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/))) {\n                        // strip colons, brackets, whitespaces and other characters that should not\n                        // definitely be part of color string\n                        var colorCandidateString = rgb.input.match(/^#([\\w]+).*/);\n                        colorCandidateString = colorCandidateString[1];\n                        if (!colorCandidateString.match(/^[A-Fa-f0-9]+$/)) { // verify if candidate consists only of allowed HEX characters\n                            error(\"Invalid HEX color code\");\n                        }\n                        return new(tree.Color)(rgb[1], undefined, '#' + colorCandidateString);\n                    }\n                },\n\n                colorKeyword: function () {\n                    parserInput.save();\n                    var autoCommentAbsorb = parserInput.autoCommentAbsorb;\n                    parserInput.autoCommentAbsorb = false;\n                    var k = parserInput.$re(/^[_A-Za-z-][_A-Za-z0-9-]+/);\n                    parserInput.autoCommentAbsorb = autoCommentAbsorb;\n                    if (!k) {\n                        parserInput.forget();\n                        return;\n                    }\n                    parserInput.restore();\n                    var color = tree.Color.fromKeyword(k);\n                    if (color) {\n                        parserInput.$str(k);\n                        return color;\n                    }\n                },\n\n                //\n                // A Dimension, that is, a number and a unit\n                //\n                //     0.5em 95%\n                //\n                dimension: function () {\n                    if (parserInput.peekNotNumeric()) {\n                        return;\n                    }\n\n                    var value = parserInput.$re(/^([+-]?\\d*\\.?\\d+)(%|[a-z_]+)?/i);\n                    if (value) {\n                        return new(tree.Dimension)(value[1], value[2]);\n                    }\n                },\n\n                //\n                // A unicode descriptor, as is used in unicode-range\n                //\n                // U+0??  or U+00A1-00A9\n                //\n                unicodeDescriptor: function () {\n                    var ud;\n\n                    ud = parserInput.$re(/^U\\+[0-9a-fA-F?]+(\\-[0-9a-fA-F?]+)?/);\n                    if (ud) {\n                        return new(tree.UnicodeDescriptor)(ud[0]);\n                    }\n                },\n\n                //\n                // JavaScript code to be evaluated\n                //\n                //     `window.location.href`\n                //\n                javascript: function () {\n                    var js, index = parserInput.i;\n\n                    parserInput.save();\n\n                    var escape = parserInput.$char(\"~\");\n                    var jsQuote = parserInput.$char(\"`\");\n\n                    if (!jsQuote) {\n                        parserInput.restore();\n                        return;\n                    }\n\n                    js = parserInput.$re(/^[^`]*`/);\n                    if (js) {\n                        parserInput.forget();\n                        return new(tree.JavaScript)(js.substr(0, js.length - 1), Boolean(escape), index, fileInfo);\n                    }\n                    parserInput.restore(\"invalid javascript definition\");\n                }\n            },\n\n            //\n            // The variable part of a variable definition. Used in the `rule` parser\n            //\n            //     @fink:\n            //\n            variable: function () {\n                var name;\n\n                if (parserInput.currentChar() === '@' && (name = parserInput.$re(/^(@[\\w-]+)\\s*:/))) { return name[1]; }\n            },\n\n            //\n            // The variable part of a variable definition. Used in the `rule` parser\n            //\n            //     @fink();\n            //\n            rulesetCall: function () {\n                var name;\n\n                if (parserInput.currentChar() === '@' && (name = parserInput.$re(/^(@[\\w-]+)\\(\\s*\\)\\s*;/))) {\n                    return new tree.RulesetCall(name[1]);\n                }\n            },\n\n            //\n            // extend syntax - used to extend selectors\n            //\n            extend: function(isRule) {\n                var elements, e, index = parserInput.i, option, extendList, extend;\n\n                if (!parserInput.$str(isRule ? \"&:extend(\" : \":extend(\")) {\n                    return;\n                }\n\n                do {\n                    option = null;\n                    elements = null;\n                    while (! (option = parserInput.$re(/^(all)(?=\\s*(\\)|,))/))) {\n                        e = this.element();\n                        if (!e) {\n                            break;\n                        }\n                        if (elements) {\n                            elements.push(e);\n                        } else {\n                            elements = [ e ];\n                        }\n                    }\n\n                    option = option && option[1];\n                    if (!elements) {\n                        error(\"Missing target selector for :extend().\");\n                    }\n                    extend = new(tree.Extend)(new(tree.Selector)(elements), option, index, fileInfo);\n                    if (extendList) {\n                        extendList.push(extend);\n                    } else {\n                        extendList = [ extend ];\n                    }\n                } while (parserInput.$char(\",\"));\n\n                expect(/^\\)/);\n\n                if (isRule) {\n                    expect(/^;/);\n                }\n\n                return extendList;\n            },\n\n            //\n            // extendRule - used in a rule to extend all the parent selectors\n            //\n            extendRule: function() {\n                return this.extend(true);\n            },\n\n            //\n            // Mixins\n            //\n            mixin: {\n                //\n                // A Mixin call, with an optional argument list\n                //\n                //     #mixins > .square(#fff);\n                //     .rounded(4px, black);\n                //     .button;\n                //\n                // The `while` loop is there because mixins can be\n                // namespaced, but we only support the child and descendant\n                // selector for now.\n                //\n                call: function () {\n                    var s = parserInput.currentChar(), important = false, index = parserInput.i, elemIndex,\n                        elements, elem, e, c, args;\n\n                    if (s !== '.' && s !== '#') { return; }\n\n                    parserInput.save(); // stop us absorbing part of an invalid selector\n\n                    while (true) {\n                        elemIndex = parserInput.i;\n                        e = parserInput.$re(/^[#.](?:[\\w-]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/);\n                        if (!e) {\n                            break;\n                        }\n                        elem = new(tree.Element)(c, e, elemIndex, fileInfo);\n                        if (elements) {\n                            elements.push(elem);\n                        } else {\n                            elements = [ elem ];\n                        }\n                        c = parserInput.$char('>');\n                    }\n\n                    if (elements) {\n                        if (parserInput.$char('(')) {\n                            args = this.args(true).args;\n                            expectChar(')');\n                        }\n\n                        if (parsers.important()) {\n                            important = true;\n                        }\n\n                        if (parsers.end()) {\n                            parserInput.forget();\n                            return new(tree.mixin.Call)(elements, args, index, fileInfo, important);\n                        }\n                    }\n\n                    parserInput.restore();\n                },\n                args: function (isCall) {\n                    var entities = parsers.entities,\n                        returner = { args:null, variadic: false },\n                        expressions = [], argsSemiColon = [], argsComma = [],\n                        isSemiColonSeparated, expressionContainsNamed, name, nameLoop,\n                        value, arg, expand;\n\n                    parserInput.save();\n\n                    while (true) {\n                        if (isCall) {\n                            arg = parsers.detachedRuleset() || parsers.expression();\n                        } else {\n                            parserInput.commentStore.length = 0;\n                            if (parserInput.$str(\"...\")) {\n                                returner.variadic = true;\n                                if (parserInput.$char(\";\") && !isSemiColonSeparated) {\n                                    isSemiColonSeparated = true;\n                                }\n                                (isSemiColonSeparated ? argsSemiColon : argsComma)\n                                    .push({ variadic: true });\n                                break;\n                            }\n                            arg = entities.variable() || entities.literal() || entities.keyword();\n                        }\n\n                        if (!arg) {\n                            break;\n                        }\n\n                        nameLoop = null;\n                        if (arg.throwAwayComments) {\n                            arg.throwAwayComments();\n                        }\n                        value = arg;\n                        var val = null;\n\n                        if (isCall) {\n                            // Variable\n                            if (arg.value && arg.value.length == 1) {\n                                val = arg.value[0];\n                            }\n                        } else {\n                            val = arg;\n                        }\n\n                        if (val && val instanceof tree.Variable) {\n                            if (parserInput.$char(':')) {\n                                if (expressions.length > 0) {\n                                    if (isSemiColonSeparated) {\n                                        error(\"Cannot mix ; and , as delimiter types\");\n                                    }\n                                    expressionContainsNamed = true;\n                                }\n\n                                value = parsers.detachedRuleset() || parsers.expression();\n\n                                if (!value) {\n                                    if (isCall) {\n                                        error(\"could not understand value for named argument\");\n                                    } else {\n                                        parserInput.restore();\n                                        returner.args = [];\n                                        return returner;\n                                    }\n                                }\n                                nameLoop = (name = val.name);\n                            } else if (parserInput.$str(\"...\")) {\n                                if (!isCall) {\n                                    returner.variadic = true;\n                                    if (parserInput.$char(\";\") && !isSemiColonSeparated) {\n                                        isSemiColonSeparated = true;\n                                    }\n                                    (isSemiColonSeparated ? argsSemiColon : argsComma)\n                                        .push({ name: arg.name, variadic: true });\n                                    break;\n                                } else {\n                                    expand = true;\n                                }\n                            } else if (!isCall) {\n                                name = nameLoop = val.name;\n                                value = null;\n                            }\n                        }\n\n                        if (value) {\n                            expressions.push(value);\n                        }\n\n                        argsComma.push({ name:nameLoop, value:value, expand:expand });\n\n                        if (parserInput.$char(',')) {\n                            continue;\n                        }\n\n                        if (parserInput.$char(';') || isSemiColonSeparated) {\n\n                            if (expressionContainsNamed) {\n                                error(\"Cannot mix ; and , as delimiter types\");\n                            }\n\n                            isSemiColonSeparated = true;\n\n                            if (expressions.length > 1) {\n                                value = new(tree.Value)(expressions);\n                            }\n                            argsSemiColon.push({ name:name, value:value, expand:expand });\n\n                            name = null;\n                            expressions = [];\n                            expressionContainsNamed = false;\n                        }\n                    }\n\n                    parserInput.forget();\n                    returner.args = isSemiColonSeparated ? argsSemiColon : argsComma;\n                    return returner;\n                },\n                //\n                // A Mixin definition, with a list of parameters\n                //\n                //     .rounded (@radius: 2px, @color) {\n                //        ...\n                //     }\n                //\n                // Until we have a finer grained state-machine, we have to\n                // do a look-ahead, to make sure we don't have a mixin call.\n                // See the `rule` function for more information.\n                //\n                // We start by matching `.rounded (`, and then proceed on to\n                // the argument list, which has optional default values.\n                // We store the parameters in `params`, with a `value` key,\n                // if there is a value, such as in the case of `@radius`.\n                //\n                // Once we've got our params list, and a closing `)`, we parse\n                // the `{...}` block.\n                //\n                definition: function () {\n                    var name, params = [], match, ruleset, cond, variadic = false;\n                    if ((parserInput.currentChar() !== '.' && parserInput.currentChar() !== '#') ||\n                        parserInput.peek(/^[^{]*\\}/)) {\n                        return;\n                    }\n\n                    parserInput.save();\n\n                    match = parserInput.$re(/^([#.](?:[\\w-]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\\s*\\(/);\n                    if (match) {\n                        name = match[1];\n\n                        var argInfo = this.args(false);\n                        params = argInfo.args;\n                        variadic = argInfo.variadic;\n\n                        // .mixincall(\"@{a}\");\n                        // looks a bit like a mixin definition..\n                        // also\n                        // .mixincall(@a: {rule: set;});\n                        // so we have to be nice and restore\n                        if (!parserInput.$char(')')) {\n                            parserInput.restore(\"Missing closing ')'\");\n                            return;\n                        }\n\n                        parserInput.commentStore.length = 0;\n\n                        if (parserInput.$str(\"when\")) { // Guard\n                            cond = expect(parsers.conditions, 'expected condition');\n                        }\n\n                        ruleset = parsers.block();\n\n                        if (ruleset) {\n                            parserInput.forget();\n                            return new(tree.mixin.Definition)(name, params, ruleset, cond, variadic);\n                        } else {\n                            parserInput.restore();\n                        }\n                    } else {\n                        parserInput.forget();\n                    }\n                }\n            },\n\n            //\n            // Entities are the smallest recognized token,\n            // and can be found inside a rule's value.\n            //\n            entity: function () {\n                var entities = this.entities;\n\n                return this.comment() || entities.literal() || entities.variable() || entities.url() ||\n                       entities.call()    || entities.keyword()  || entities.javascript();\n            },\n\n            //\n            // A Rule terminator. Note that we use `peek()` to check for '}',\n            // because the `block` rule will be expecting it, but we still need to make sure\n            // it's there, if ';' was omitted.\n            //\n            end: function () {\n                return parserInput.$char(';') || parserInput.peek('}');\n            },\n\n            //\n            // IE's alpha function\n            //\n            //     alpha(opacity=88)\n            //\n            alpha: function () {\n                var value;\n\n                // http://jsperf.com/case-insensitive-regex-vs-strtolower-then-regex/18\n                if (! parserInput.$re(/^opacity=/i)) { return; }\n                value = parserInput.$re(/^\\d+/);\n                if (!value) {\n                    value = expect(this.entities.variable, \"Could not parse alpha\");\n                }\n                expectChar(')');\n                return new(tree.Alpha)(value);\n            },\n\n            //\n            // A Selector Element\n            //\n            //     div\n            //     + h1\n            //     #socks\n            //     input[type=\"text\"]\n            //\n            // Elements are the building blocks for Selectors,\n            // they are made out of a `Combinator` (see combinator rule),\n            // and an element name, such as a tag a class, or `*`.\n            //\n            element: function () {\n                var e, c, v, index = parserInput.i;\n\n                c = this.combinator();\n\n                e = parserInput.$re(/^(?:\\d+\\.\\d+|\\d+)%/) ||\n                    parserInput.$re(/^(?:[.#]?|:*)(?:[\\w-]|[^\\x00-\\x9f]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/) ||\n                    parserInput.$char('*') || parserInput.$char('&') || this.attribute() ||\n                    parserInput.$re(/^\\([^&()@]+\\)/) ||  parserInput.$re(/^[\\.#:](?=@)/) ||\n                    this.entities.variableCurly();\n\n                if (! e) {\n                    parserInput.save();\n                    if (parserInput.$char('(')) {\n                        if ((v = this.selector()) && parserInput.$char(')')) {\n                            e = new(tree.Paren)(v);\n                            parserInput.forget();\n                        } else {\n                            parserInput.restore(\"Missing closing ')'\");\n                        }\n                    } else {\n                        parserInput.forget();\n                    }\n                }\n\n                if (e) { return new(tree.Element)(c, e, index, fileInfo); }\n            },\n\n            //\n            // Combinators combine elements together, in a Selector.\n            //\n            // Because our parser isn't white-space sensitive, special care\n            // has to be taken, when parsing the descendant combinator, ` `,\n            // as it's an empty space. We have to check the previous character\n            // in the input, to see if it's a ` ` character. More info on how\n            // we deal with this in *combinator.js*.\n            //\n            combinator: function () {\n                var c = parserInput.currentChar();\n\n                if (c === '/') {\n                    parserInput.save();\n                    var slashedCombinator = parserInput.$re(/^\\/[a-z]+\\//i);\n                    if (slashedCombinator) {\n                        parserInput.forget();\n                        return new(tree.Combinator)(slashedCombinator);\n                    }\n                    parserInput.restore();\n                }\n\n                if (c === '>' || c === '+' || c === '~' || c === '|' || c === '^') {\n                    parserInput.i++;\n                    if (c === '^' && parserInput.currentChar() === '^') {\n                        c = '^^';\n                        parserInput.i++;\n                    }\n                    while (parserInput.isWhitespace()) { parserInput.i++; }\n                    return new(tree.Combinator)(c);\n                } else if (parserInput.isWhitespace(-1)) {\n                    return new(tree.Combinator)(\" \");\n                } else {\n                    return new(tree.Combinator)(null);\n                }\n            },\n            //\n            // A CSS selector (see selector below)\n            // with less extensions e.g. the ability to extend and guard\n            //\n            lessSelector: function () {\n                return this.selector(true);\n            },\n            //\n            // A CSS Selector\n            //\n            //     .class > div + h1\n            //     li a:hover\n            //\n            // Selectors are made out of one or more Elements, see above.\n            //\n            selector: function (isLess) {\n                var index = parserInput.i, elements, extendList, c, e, allExtends, when, condition;\n\n                while ((isLess && (extendList = this.extend())) || (isLess && (when = parserInput.$str(\"when\"))) || (e = this.element())) {\n                    if (when) {\n                        condition = expect(this.conditions, 'expected condition');\n                    } else if (condition) {\n                        error(\"CSS guard can only be used at the end of selector\");\n                    } else if (extendList) {\n                        if (allExtends) {\n                            allExtends = allExtends.concat(extendList);\n                        } else {\n                            allExtends = extendList;\n                        }\n                    } else {\n                        if (allExtends) { error(\"Extend can only be used at the end of selector\"); }\n                        c = parserInput.currentChar();\n                        if (elements) {\n                            elements.push(e);\n                        } else {\n                            elements = [ e ];\n                        }\n                        e = null;\n                    }\n                    if (c === '{' || c === '}' || c === ';' || c === ',' || c === ')') {\n                        break;\n                    }\n                }\n\n                if (elements) { return new(tree.Selector)(elements, allExtends, condition, index, fileInfo); }\n                if (allExtends) { error(\"Extend must be used to extend a selector, it cannot be used on its own\"); }\n            },\n            attribute: function () {\n                if (! parserInput.$char('[')) { return; }\n\n                var entities = this.entities,\n                    key, val, op;\n\n                if (!(key = entities.variableCurly())) {\n                    key = expect(/^(?:[_A-Za-z0-9-\\*]*\\|)?(?:[_A-Za-z0-9-]|\\\\.)+/);\n                }\n\n                op = parserInput.$re(/^[|~*$^]?=/);\n                if (op) {\n                    val = entities.quoted() || parserInput.$re(/^[0-9]+%/) || parserInput.$re(/^[\\w-]+/) || entities.variableCurly();\n                }\n\n                expectChar(']');\n\n                return new(tree.Attribute)(key, op, val);\n            },\n\n            //\n            // The `block` rule is used by `ruleset` and `mixin.definition`.\n            // It's a wrapper around the `primary` rule, with added `{}`.\n            //\n            block: function () {\n                var content;\n                if (parserInput.$char('{') && (content = this.primary()) && parserInput.$char('}')) {\n                    return content;\n                }\n            },\n\n            blockRuleset: function() {\n                var block = this.block();\n\n                if (block) {\n                    block = new tree.Ruleset(null, block);\n                }\n                return block;\n            },\n\n            detachedRuleset: function() {\n                var blockRuleset = this.blockRuleset();\n                if (blockRuleset) {\n                    return new tree.DetachedRuleset(blockRuleset);\n                }\n            },\n\n            //\n            // div, .class, body > p {...}\n            //\n            ruleset: function () {\n                var selectors, s, rules, debugInfo;\n\n                parserInput.save();\n\n                if (context.dumpLineNumbers) {\n                    debugInfo = getDebugInfo(parserInput.i);\n                }\n\n                while (true) {\n                    s = this.lessSelector();\n                    if (!s) {\n                        break;\n                    }\n                    if (selectors) {\n                        selectors.push(s);\n                    } else {\n                        selectors = [ s ];\n                    }\n                    parserInput.commentStore.length = 0;\n                    if (s.condition && selectors.length > 1) {\n                        error(\"Guards are only currently allowed on a single selector.\");\n                    }\n                    if (! parserInput.$char(',')) { break; }\n                    if (s.condition) {\n                        error(\"Guards are only currently allowed on a single selector.\");\n                    }\n                    parserInput.commentStore.length = 0;\n                }\n\n                if (selectors && (rules = this.block())) {\n                    parserInput.forget();\n                    var ruleset = new(tree.Ruleset)(selectors, rules, context.strictImports);\n                    if (context.dumpLineNumbers) {\n                        ruleset.debugInfo = debugInfo;\n                    }\n                    return ruleset;\n                } else {\n                    parserInput.restore();\n                }\n            },\n            rule: function (tryAnonymous) {\n                var name, value, startOfRule = parserInput.i, c = parserInput.currentChar(), important, merge, isVariable;\n\n                if (c === '.' || c === '#' || c === '&' || c === ':') { return; }\n\n                parserInput.save();\n\n                name = this.variable() || this.ruleProperty();\n                if (name) {\n                    isVariable = typeof name === \"string\";\n\n                    if (isVariable) {\n                        value = this.detachedRuleset();\n                    }\n\n                    parserInput.commentStore.length = 0;\n                    if (!value) {\n                        // a name returned by this.ruleProperty() is always an array of the form:\n                        // [string-1, ..., string-n, \"\"] or [string-1, ..., string-n, \"+\"]\n                        // where each item is a tree.Keyword or tree.Variable\n                        merge = !isVariable && name.length > 1 && name.pop().value;\n\n                        // prefer to try to parse first if its a variable or we are compressing\n                        // but always fallback on the other one\n                        var tryValueFirst = !tryAnonymous && (context.compress || isVariable);\n\n                        if (tryValueFirst) {\n                            value = this.value();\n                        }\n                        if (!value) {\n                            value = this.anonymousValue();\n                            if (value) {\n                                parserInput.forget();\n                                // anonymous values absorb the end ';' which is required for them to work\n                                return new (tree.Rule)(name, value, false, merge, startOfRule, fileInfo);\n                            }\n                        }\n                        if (!tryValueFirst && !value) {\n                            value = this.value();\n                        }\n\n                        important = this.important();\n                    }\n\n                    if (value && this.end()) {\n                        parserInput.forget();\n                        return new (tree.Rule)(name, value, important, merge, startOfRule, fileInfo);\n                    } else {\n                        parserInput.restore();\n                        if (value && !tryAnonymous) {\n                            return this.rule(true);\n                        }\n                    }\n                } else {\n                    parserInput.forget();\n                }\n            },\n            anonymousValue: function () {\n                var match = parserInput.$re(/^([^@+\\/'\"*`(;{}-]*);/);\n                if (match) {\n                    return new(tree.Anonymous)(match[1]);\n                }\n            },\n\n            //\n            // An @import directive\n            //\n            //     @import \"lib\";\n            //\n            // Depending on our environment, importing is done differently:\n            // In the browser, it's an XHR request, in Node, it would be a\n            // file-system operation. The function used for importing is\n            // stored in `import`, which we pass to the Import constructor.\n            //\n            \"import\": function () {\n                var path, features, index = parserInput.i;\n\n                var dir = parserInput.$re(/^@import?\\s+/);\n\n                if (dir) {\n                    var options = (dir ? this.importOptions() : null) || {};\n\n                    if ((path = this.entities.quoted() || this.entities.url())) {\n                        features = this.mediaFeatures();\n\n                        if (!parserInput.$char(';')) {\n                            parserInput.i = index;\n                            error(\"missing semi-colon or unrecognised media features on import\");\n                        }\n                        features = features && new(tree.Value)(features);\n                        return new(tree.Import)(path, features, options, index, fileInfo);\n                    }\n                    else {\n                        parserInput.i = index;\n                        error(\"malformed import statement\");\n                    }\n                }\n            },\n\n            importOptions: function() {\n                var o, options = {}, optionName, value;\n\n                // list of options, surrounded by parens\n                if (! parserInput.$char('(')) { return null; }\n                do {\n                    o = this.importOption();\n                    if (o) {\n                        optionName = o;\n                        value = true;\n                        switch(optionName) {\n                            case \"css\":\n                                optionName = \"less\";\n                                value = false;\n                                break;\n                            case \"once\":\n                                optionName = \"multiple\";\n                                value = false;\n                                break;\n                        }\n                        options[optionName] = value;\n                        if (! parserInput.$char(',')) { break; }\n                    }\n                } while (o);\n                expectChar(')');\n                return options;\n            },\n\n            importOption: function() {\n                var opt = parserInput.$re(/^(less|css|multiple|once|inline|reference|optional)/);\n                if (opt) {\n                    return opt[1];\n                }\n            },\n\n            mediaFeature: function () {\n                var entities = this.entities, nodes = [], e, p;\n                parserInput.save();\n                do {\n                    e = entities.keyword() || entities.variable();\n                    if (e) {\n                        nodes.push(e);\n                    } else if (parserInput.$char('(')) {\n                        p = this.property();\n                        e = this.value();\n                        if (parserInput.$char(')')) {\n                            if (p && e) {\n                                nodes.push(new(tree.Paren)(new(tree.Rule)(p, e, null, null, parserInput.i, fileInfo, true)));\n                            } else if (e) {\n                                nodes.push(new(tree.Paren)(e));\n                            } else {\n                                error(\"badly formed media feature definition\");\n                            }\n                        } else {\n                            error(\"Missing closing ')'\", \"Parse\");\n                        }\n                    }\n                } while (e);\n\n                parserInput.forget();\n                if (nodes.length > 0) {\n                    return new(tree.Expression)(nodes);\n                }\n            },\n\n            mediaFeatures: function () {\n                var entities = this.entities, features = [], e;\n                do {\n                    e = this.mediaFeature();\n                    if (e) {\n                        features.push(e);\n                        if (! parserInput.$char(',')) { break; }\n                    } else {\n                        e = entities.variable();\n                        if (e) {\n                            features.push(e);\n                            if (! parserInput.$char(',')) { break; }\n                        }\n                    }\n                } while (e);\n\n                return features.length > 0 ? features : null;\n            },\n\n            media: function () {\n                var features, rules, media, debugInfo, index = parserInput.i;\n\n                if (context.dumpLineNumbers) {\n                    debugInfo = getDebugInfo(index);\n                }\n\n                parserInput.save();\n\n                if (parserInput.$str(\"@media\")) {\n                    features = this.mediaFeatures();\n\n                    rules = this.block();\n\n                    if (!rules) {\n                        error(\"media definitions require block statements after any features\");\n                    }\n\n                    parserInput.forget();\n\n                    media = new(tree.Media)(rules, features, index, fileInfo);\n                    if (context.dumpLineNumbers) {\n                        media.debugInfo = debugInfo;\n                    }\n\n                    return media;\n                }\n\n                parserInput.restore();\n            },\n\n            //\n            // A @plugin directive, used to import compiler extensions dynamically.\n            //\n            //     @plugin \"lib\";\n            //\n            // Depending on our environment, importing is done differently:\n            // In the browser, it's an XHR request, in Node, it would be a\n            // file-system operation. The function used for importing is\n            // stored in `import`, which we pass to the Import constructor.\n            //\n            plugin: function () {\n                var path,\n                    index = parserInput.i,\n                    dir   = parserInput.$re(/^@plugin?\\s+/);\n\n                if (dir) {\n                    var options = { plugin : true };\n\n                    if ((path = this.entities.quoted() || this.entities.url())) {\n\n                        if (!parserInput.$char(';')) {\n                            parserInput.i = index;\n                            error(\"missing semi-colon on plugin\");\n                        }\n\n                        return new(tree.Import)(path, null, options, index, fileInfo);\n                    }\n                    else {\n                        parserInput.i = index;\n                        error(\"malformed plugin statement\");\n                    }\n                }\n            },\n\n            //\n            // A CSS Directive\n            //\n            //     @charset \"utf-8\";\n            //\n            directive: function () {\n                var index = parserInput.i, name, value, rules, nonVendorSpecificName,\n                    hasIdentifier, hasExpression, hasUnknown, hasBlock = true, isRooted = true;\n\n                if (parserInput.currentChar() !== '@') { return; }\n\n                value = this['import']() || this.plugin() || this.media();\n                if (value) {\n                    return value;\n                }\n\n                parserInput.save();\n\n                name = parserInput.$re(/^@[a-z-]+/);\n\n                if (!name) { return; }\n\n                nonVendorSpecificName = name;\n                if (name.charAt(1) == '-' && name.indexOf('-', 2) > 0) {\n                    nonVendorSpecificName = \"@\" + name.slice(name.indexOf('-', 2) + 1);\n                }\n\n                switch(nonVendorSpecificName) {\n                    case \"@charset\":\n                        hasIdentifier = true;\n                        hasBlock = false;\n                        break;\n                    case \"@namespace\":\n                        hasExpression = true;\n                        hasBlock = false;\n                        break;\n                    case \"@keyframes\":\n                    case \"@counter-style\":\n                        hasIdentifier = true;\n                        break;\n                    case \"@document\":\n                    case \"@supports\":\n                        hasUnknown = true;\n                        isRooted = false;\n                        break;\n                    default:\n                        hasUnknown = true;\n                        break;\n                }\n\n                parserInput.commentStore.length = 0;\n\n                if (hasIdentifier) {\n                    value = this.entity();\n                    if (!value) {\n                        error(\"expected \" + name + \" identifier\");\n                    }\n                } else if (hasExpression) {\n                    value = this.expression();\n                    if (!value) {\n                        error(\"expected \" + name + \" expression\");\n                    }\n                } else if (hasUnknown) {\n                    value = (parserInput.$re(/^[^{;]+/) || '').trim();\n                    hasBlock = (parserInput.currentChar() == '{');\n                    if (value) {\n                        value = new(tree.Anonymous)(value);\n                    }\n                }\n\n                if (hasBlock) {\n                    rules = this.blockRuleset();\n                }\n\n                if (rules || (!hasBlock && value && parserInput.$char(';'))) {\n                    parserInput.forget();\n                    return new (tree.Directive)(name, value, rules, index, fileInfo,\n                        context.dumpLineNumbers ? getDebugInfo(index) : null,\n                        isRooted\n                    );\n                }\n\n                parserInput.restore(\"directive options not recognised\");\n            },\n\n            //\n            // A Value is a comma-delimited list of Expressions\n            //\n            //     font-family: Baskerville, Georgia, serif;\n            //\n            // In a Rule, a Value represents everything after the `:`,\n            // and before the `;`.\n            //\n            value: function () {\n                var e, expressions = [];\n\n                do {\n                    e = this.expression();\n                    if (e) {\n                        expressions.push(e);\n                        if (! parserInput.$char(',')) { break; }\n                    }\n                } while (e);\n\n                if (expressions.length > 0) {\n                    return new(tree.Value)(expressions);\n                }\n            },\n            important: function () {\n                if (parserInput.currentChar() === '!') {\n                    return parserInput.$re(/^! *important/);\n                }\n            },\n            sub: function () {\n                var a, e;\n\n                parserInput.save();\n                if (parserInput.$char('(')) {\n                    a = this.addition();\n                    if (a && parserInput.$char(')')) {\n                        parserInput.forget();\n                        e = new(tree.Expression)([a]);\n                        e.parens = true;\n                        return e;\n                    }\n                    parserInput.restore(\"Expected ')'\");\n                    return;\n                }\n                parserInput.restore();\n            },\n            multiplication: function () {\n                var m, a, op, operation, isSpaced;\n                m = this.operand();\n                if (m) {\n                    isSpaced = parserInput.isWhitespace(-1);\n                    while (true) {\n                        if (parserInput.peek(/^\\/[*\\/]/)) {\n                            break;\n                        }\n\n                        parserInput.save();\n\n                        op = parserInput.$char('/') || parserInput.$char('*');\n\n                        if (!op) { parserInput.forget(); break; }\n\n                        a = this.operand();\n\n                        if (!a) { parserInput.restore(); break; }\n                        parserInput.forget();\n\n                        m.parensInOp = true;\n                        a.parensInOp = true;\n                        operation = new(tree.Operation)(op, [operation || m, a], isSpaced);\n                        isSpaced = parserInput.isWhitespace(-1);\n                    }\n                    return operation || m;\n                }\n            },\n            addition: function () {\n                var m, a, op, operation, isSpaced;\n                m = this.multiplication();\n                if (m) {\n                    isSpaced = parserInput.isWhitespace(-1);\n                    while (true) {\n                        op = parserInput.$re(/^[-+]\\s+/) || (!isSpaced && (parserInput.$char('+') || parserInput.$char('-')));\n                        if (!op) {\n                            break;\n                        }\n                        a = this.multiplication();\n                        if (!a) {\n                            break;\n                        }\n\n                        m.parensInOp = true;\n                        a.parensInOp = true;\n                        operation = new(tree.Operation)(op, [operation || m, a], isSpaced);\n                        isSpaced = parserInput.isWhitespace(-1);\n                    }\n                    return operation || m;\n                }\n            },\n            conditions: function () {\n                var a, b, index = parserInput.i, condition;\n\n                a = this.condition();\n                if (a) {\n                    while (true) {\n                        if (!parserInput.peek(/^,\\s*(not\\s*)?\\(/) || !parserInput.$char(',')) {\n                            break;\n                        }\n                        b = this.condition();\n                        if (!b) {\n                            break;\n                        }\n                        condition = new(tree.Condition)('or', condition || a, b, index);\n                    }\n                    return condition || a;\n                }\n            },\n            condition: function () {\n                var result, logical, next;\n                function or() {\n                    return parserInput.$str(\"or\");\n                }\n\n                result = this.conditionAnd(this);\n                if (!result) {\n                    return ;\n                }\n                logical = or();\n                if (logical) {\n                    next = this.condition();\n                    if (next) {\n                        result = new(tree.Condition)(logical, result, next);\n                    } else {\n                        return ;\n                    }\n                }\n                return result;\n            },\n            conditionAnd: function () {\n                var result, logical, next;\n                function insideCondition(me) {\n                    return me.negatedCondition() || me.parenthesisCondition();\n                }\n                function and() {\n                    return parserInput.$str(\"and\");\n                }\n\n                result = insideCondition(this);\n                if (!result) {\n                    return ;\n                }\n                logical = and();\n                if (logical) {\n                    next = this.conditionAnd();\n                    if (next) {\n                        result = new(tree.Condition)(logical, result, next);\n                    } else {\n                        return ;\n                    }\n                }\n                return result;\n            },\n            negatedCondition: function () {\n                if (parserInput.$str(\"not\")) {\n                    var result = this.parenthesisCondition();\n                    if (result) {\n                        result.negate = !result.negate;\n                    }\n                    return result;\n                }\n            },\n            parenthesisCondition: function () {\n                function tryConditionFollowedByParenthesis(me) {\n                    var body;\n                    parserInput.save();\n                    body = me.condition();\n                    if (!body) {\n                        parserInput.restore();\n                        return ;\n                    }\n                    if (!parserInput.$char(')')) {\n                        parserInput.restore();\n                        return ;\n                    }\n                    parserInput.forget();\n                    return body;\n                }\n\n                var body;\n                parserInput.save();\n                if (!parserInput.$str(\"(\")) {\n                    parserInput.restore();\n                    return ;\n                }\n                body = tryConditionFollowedByParenthesis(this);\n                if (body) {\n                    parserInput.forget();\n                    return body;\n                }\n\n                body = this.atomicCondition();\n                if (!body) {\n                    parserInput.restore();\n                    return ;\n                }\n                if (!parserInput.$char(')')) {\n                    parserInput.restore(\"expected ')' got '\" + parserInput.currentChar() + \"'\");\n                    return ;\n                }\n                parserInput.forget();\n                return body;\n            },\n            atomicCondition: function () {\n                var entities = this.entities, index = parserInput.i, a, b, c, op;\n\n                a = this.addition() || entities.keyword() || entities.quoted();\n                if (a) {\n                    if (parserInput.$char('>')) {\n                        if (parserInput.$char('=')) {\n                            op = \">=\";\n                        } else {\n                            op = '>';\n                        }\n                    } else\n                    if (parserInput.$char('<')) {\n                        if (parserInput.$char('=')) {\n                            op = \"<=\";\n                        } else {\n                            op = '<';\n                        }\n                    } else\n                    if (parserInput.$char('=')) {\n                        if (parserInput.$char('>')) {\n                            op = \"=>\";\n                        } else if (parserInput.$char('<')) {\n                            op = '=<';\n                        } else {\n                            op = '=';\n                        }\n                    }\n                    if (op) {\n                        b = this.addition() || entities.keyword() || entities.quoted();\n                        if (b) {\n                            c = new(tree.Condition)(op, a, b, index, false);\n                        } else {\n                            error('expected expression');\n                        }\n                    } else {\n                        c = new(tree.Condition)('=', a, new(tree.Keyword)('true'), index, false);\n                    }\n                    return c;\n                }\n            },\n\n            //\n            // An operand is anything that can be part of an operation,\n            // such as a Color, or a Variable\n            //\n            operand: function () {\n                var entities = this.entities, negate;\n\n                if (parserInput.peek(/^-[@\\(]/)) {\n                    negate = parserInput.$char('-');\n                }\n\n                var o = this.sub() || entities.dimension() ||\n                        entities.color() || entities.variable() ||\n                        entities.call() || entities.colorKeyword();\n\n                if (negate) {\n                    o.parensInOp = true;\n                    o = new(tree.Negative)(o);\n                }\n\n                return o;\n            },\n\n            //\n            // Expressions either represent mathematical operations,\n            // or white-space delimited Entities.\n            //\n            //     1px solid black\n            //     @var * 2\n            //\n            expression: function () {\n                var entities = [], e, delim;\n\n                do {\n                    e = this.comment();\n                    if (e) {\n                        entities.push(e);\n                        continue;\n                    }\n                    e = this.addition() || this.entity();\n                    if (e) {\n                        entities.push(e);\n                        // operations do not allow keyword \"/\" dimension (e.g. small/20px) so we support that here\n                        if (!parserInput.peek(/^\\/[\\/*]/)) {\n                            delim = parserInput.$char('/');\n                            if (delim) {\n                                entities.push(new(tree.Anonymous)(delim));\n                            }\n                        }\n                    }\n                } while (e);\n                if (entities.length > 0) {\n                    return new(tree.Expression)(entities);\n                }\n            },\n            property: function () {\n                var name = parserInput.$re(/^(\\*?-?[_a-zA-Z0-9-]+)\\s*:/);\n                if (name) {\n                    return name[1];\n                }\n            },\n            ruleProperty: function () {\n                var name = [], index = [], s, k;\n\n                parserInput.save();\n\n                var simpleProperty = parserInput.$re(/^([_a-zA-Z0-9-]+)\\s*:/);\n                if (simpleProperty) {\n                    name = [new(tree.Keyword)(simpleProperty[1])];\n                    parserInput.forget();\n                    return name;\n                }\n\n                function match(re) {\n                    var i = parserInput.i,\n                        chunk = parserInput.$re(re);\n                    if (chunk) {\n                        index.push(i);\n                        return name.push(chunk[1]);\n                    }\n                }\n\n                match(/^(\\*?)/);\n                while (true) {\n                    if (!match(/^((?:[\\w-]+)|(?:@\\{[\\w-]+\\}))/)) {\n                        break;\n                    }\n                }\n\n                if ((name.length > 1) && match(/^((?:\\+_|\\+)?)\\s*:/)) {\n                    parserInput.forget();\n\n                    // at last, we have the complete match now. move forward,\n                    // convert name particles to tree objects and return:\n                    if (name[0] === '') {\n                        name.shift();\n                        index.shift();\n                    }\n                    for (k = 0; k < name.length; k++) {\n                        s = name[k];\n                        name[k] = (s.charAt(0) !== '@') ?\n                            new(tree.Keyword)(s) :\n                            new(tree.Variable)('@' + s.slice(2, -1),\n                                index[k], fileInfo);\n                    }\n                    return name;\n                }\n                parserInput.restore();\n            }\n        }\n    };\n};\nParser.serializeVars = function(vars) {\n    var s = '';\n\n    for (var name in vars) {\n        if (Object.hasOwnProperty.call(vars, name)) {\n            var value = vars[name];\n            s += ((name[0] === '@') ? '' : '@') + name + ': ' + value +\n                ((String(value).slice(-1) === ';') ? '' : ';');\n        }\n    }\n\n    return s;\n};\n\nmodule.exports = Parser;\n\n},{\"../less-error\":32,\"../tree\":62,\"../utils\":83,\"../visitors\":87,\"./parser-input\":37}],39:[function(require,module,exports){\n/**\n * Plugin Manager\n */\nvar PluginManager = function(less) {\n    this.less = less;\n    this.visitors = [];\n    this.preProcessors = [];\n    this.postProcessors = [];\n    this.installedPlugins = [];\n    this.fileManagers = [];\n};\n/**\n * Adds all the plugins in the array\n * @param {Array} plugins\n */\nPluginManager.prototype.addPlugins = function(plugins) {\n    if (plugins) {\n        for (var i = 0; i < plugins.length; i++) {\n            this.addPlugin(plugins[i]);\n        }\n    }\n};\n/**\n *\n * @param plugin\n */\nPluginManager.prototype.addPlugin = function(plugin) {\n    this.installedPlugins.push(plugin);\n    plugin.install(this.less, this);\n};\n/**\n * Adds a visitor. The visitor object has options on itself to determine\n * when it should run.\n * @param visitor\n */\nPluginManager.prototype.addVisitor = function(visitor) {\n    this.visitors.push(visitor);\n};\n/**\n * Adds a pre processor object\n * @param {object} preProcessor\n * @param {number} priority - guidelines 1 = before import, 1000 = import, 2000 = after import\n */\nPluginManager.prototype.addPreProcessor = function(preProcessor, priority) {\n    var indexToInsertAt;\n    for (indexToInsertAt = 0; indexToInsertAt < this.preProcessors.length; indexToInsertAt++) {\n        if (this.preProcessors[indexToInsertAt].priority >= priority) {\n            break;\n        }\n    }\n    this.preProcessors.splice(indexToInsertAt, 0, {preProcessor: preProcessor, priority: priority});\n};\n/**\n * Adds a post processor object\n * @param {object} postProcessor\n * @param {number} priority - guidelines 1 = before compression, 1000 = compression, 2000 = after compression\n */\nPluginManager.prototype.addPostProcessor = function(postProcessor, priority) {\n    var indexToInsertAt;\n    for (indexToInsertAt = 0; indexToInsertAt < this.postProcessors.length; indexToInsertAt++) {\n        if (this.postProcessors[indexToInsertAt].priority >= priority) {\n            break;\n        }\n    }\n    this.postProcessors.splice(indexToInsertAt, 0, {postProcessor: postProcessor, priority: priority});\n};\n/**\n *\n * @param manager\n */\nPluginManager.prototype.addFileManager = function(manager) {\n    this.fileManagers.push(manager);\n};\n/**\n *\n * @returns {Array}\n * @private\n */\nPluginManager.prototype.getPreProcessors = function() {\n    var preProcessors = [];\n    for (var i = 0; i < this.preProcessors.length; i++) {\n        preProcessors.push(this.preProcessors[i].preProcessor);\n    }\n    return preProcessors;\n};\n/**\n *\n * @returns {Array}\n * @private\n */\nPluginManager.prototype.getPostProcessors = function() {\n    var postProcessors = [];\n    for (var i = 0; i < this.postProcessors.length; i++) {\n        postProcessors.push(this.postProcessors[i].postProcessor);\n    }\n    return postProcessors;\n};\n/**\n *\n * @returns {Array}\n * @private\n */\nPluginManager.prototype.getVisitors = function() {\n    return this.visitors;\n};\n/**\n *\n * @returns {Array}\n * @private\n */\nPluginManager.prototype.getFileManagers = function() {\n    return this.fileManagers;\n};\nmodule.exports = PluginManager;\n\n},{}],40:[function(require,module,exports){\nvar LessError = require('../less-error'),\n    tree = require(\"../tree\");\n\nvar FunctionImporter = module.exports = function FunctionImporter(context, fileInfo) {\n    this.fileInfo = fileInfo;\n};\n\nFunctionImporter.prototype.eval = function(contents, callback) {\n    var loaded = {},\n        loader,\n        registry;\n\n    registry = {\n        add: function(name, func) {\n            loaded[name] = func;\n        },\n        addMultiple: function(functions) {\n            Object.keys(functions).forEach(function(name) {\n                loaded[name] = functions[name];\n            });\n        }\n    };\n\n    try {\n        loader = new Function(\"functions\", \"tree\", \"fileInfo\", contents);\n        loader(registry, tree, this.fileInfo);\n    } catch(e) {\n        callback(new LessError({\n            message: \"Plugin evaluation error: '\" + e.name + ': ' + e.message.replace(/[\"]/g, \"'\") + \"'\" ,\n            filename: this.fileInfo.filename\n        }), null );\n    }\n\n    callback(null, { functions: loaded });\n};\n\n},{\"../less-error\":32,\"../tree\":62}],41:[function(require,module,exports){\nvar PromiseConstructor;\n\nmodule.exports = function(environment, ParseTree, ImportManager) {\n    var render = function (input, options, callback) {\n        if (typeof options === 'function') {\n            callback = options;\n            options = {};\n        }\n\n        if (!callback) {\n            if (!PromiseConstructor) {\n                PromiseConstructor = typeof Promise === 'undefined' ? require('promise') : Promise;\n            }\n            var self = this;\n            return new PromiseConstructor(function (resolve, reject) {\n                render.call(self, input, options, function(err, output) {\n                    if (err) {\n                        reject(err);\n                    } else {\n                        resolve(output);\n                    }\n                });\n            });\n        } else {\n            this.parse(input, options, function(err, root, imports, options) {\n                if (err) { return callback(err); }\n\n                var result;\n                try {\n                    var parseTree = new ParseTree(root, imports);\n                    result = parseTree.toCSS(options);\n                }\n                catch (err) { return callback(err); }\n\n                callback(null, result);\n            });\n        }\n    };\n\n    return render;\n};\n\n},{\"promise\":undefined}],42:[function(require,module,exports){\nmodule.exports = function (SourceMapOutput, environment) {\n\n    var SourceMapBuilder = function (options) {\n        this.options = options;\n    };\n\n    SourceMapBuilder.prototype.toCSS = function(rootNode, options, imports) {\n        var sourceMapOutput = new SourceMapOutput(\n            {\n                contentsIgnoredCharsMap: imports.contentsIgnoredChars,\n                rootNode: rootNode,\n                contentsMap: imports.contents,\n                sourceMapFilename: this.options.sourceMapFilename,\n                sourceMapURL: this.options.sourceMapURL,\n                outputFilename: this.options.sourceMapOutputFilename,\n                sourceMapBasepath: this.options.sourceMapBasepath,\n                sourceMapRootpath: this.options.sourceMapRootpath,\n                outputSourceFiles: this.options.outputSourceFiles,\n                sourceMapGenerator: this.options.sourceMapGenerator,\n                sourceMapFileInline: this.options.sourceMapFileInline\n            });\n\n        var css = sourceMapOutput.toCSS(options);\n        this.sourceMap = sourceMapOutput.sourceMap;\n        this.sourceMapURL = sourceMapOutput.sourceMapURL;\n        if (this.options.sourceMapInputFilename) {\n            this.sourceMapInputFilename = sourceMapOutput.normalizeFilename(this.options.sourceMapInputFilename);\n        }\n        return css + this.getCSSAppendage();\n    };\n\n    SourceMapBuilder.prototype.getCSSAppendage = function() {\n\n        var sourceMapURL = this.sourceMapURL;\n        if (this.options.sourceMapFileInline) {\n            if (this.sourceMap === undefined) {\n                return \"\";\n            }\n            sourceMapURL = \"data:application/json;base64,\" + environment.encodeBase64(this.sourceMap);\n        }\n\n        if (sourceMapURL) {\n            return \"/*# sourceMappingURL=\" + sourceMapURL + \" */\";\n        }\n        return \"\";\n    };\n\n    SourceMapBuilder.prototype.getExternalSourceMap = function() {\n        return this.sourceMap;\n    };\n    SourceMapBuilder.prototype.setExternalSourceMap = function(sourceMap) {\n        this.sourceMap = sourceMap;\n    };\n\n    SourceMapBuilder.prototype.isInline = function() {\n        return this.options.sourceMapFileInline;\n    };\n    SourceMapBuilder.prototype.getSourceMapURL = function() {\n        return this.sourceMapURL;\n    };\n    SourceMapBuilder.prototype.getOutputFilename = function() {\n        return this.options.sourceMapOutputFilename;\n    };\n    SourceMapBuilder.prototype.getInputFilename = function() {\n        return this.sourceMapInputFilename;\n    };\n\n    return SourceMapBuilder;\n};\n\n},{}],43:[function(require,module,exports){\nmodule.exports = function (environment) {\n\n    var SourceMapOutput = function (options) {\n        this._css = [];\n        this._rootNode = options.rootNode;\n        this._contentsMap = options.contentsMap;\n        this._contentsIgnoredCharsMap = options.contentsIgnoredCharsMap;\n        if (options.sourceMapFilename) {\n            this._sourceMapFilename = options.sourceMapFilename.replace(/\\\\/g, '/');\n        }\n        this._outputFilename = options.outputFilename;\n        this.sourceMapURL = options.sourceMapURL;\n        if (options.sourceMapBasepath) {\n            this._sourceMapBasepath = options.sourceMapBasepath.replace(/\\\\/g, '/');\n        }\n        if (options.sourceMapRootpath) {\n            this._sourceMapRootpath = options.sourceMapRootpath.replace(/\\\\/g, '/');\n            if (this._sourceMapRootpath.charAt(this._sourceMapRootpath.length - 1) !== '/') {\n                this._sourceMapRootpath += '/';\n            }\n        } else {\n            this._sourceMapRootpath = \"\";\n        }\n        this._outputSourceFiles = options.outputSourceFiles;\n        this._sourceMapGeneratorConstructor = environment.getSourceMapGenerator();\n\n        this._lineNumber = 0;\n        this._column = 0;\n    };\n\n    SourceMapOutput.prototype.normalizeFilename = function(filename) {\n        filename = filename.replace(/\\\\/g, '/');\n\n        if (this._sourceMapBasepath && filename.indexOf(this._sourceMapBasepath) === 0) {\n            filename = filename.substring(this._sourceMapBasepath.length);\n            if (filename.charAt(0) === '\\\\' || filename.charAt(0) === '/') {\n                filename = filename.substring(1);\n            }\n        }\n        return (this._sourceMapRootpath || \"\") + filename;\n    };\n\n    SourceMapOutput.prototype.add = function(chunk, fileInfo, index, mapLines) {\n\n        //ignore adding empty strings\n        if (!chunk) {\n            return;\n        }\n\n        var lines,\n            sourceLines,\n            columns,\n            sourceColumns,\n            i;\n\n        if (fileInfo) {\n            var inputSource = this._contentsMap[fileInfo.filename];\n\n            // remove vars/banner added to the top of the file\n            if (this._contentsIgnoredCharsMap[fileInfo.filename]) {\n                // adjust the index\n                index -= this._contentsIgnoredCharsMap[fileInfo.filename];\n                if (index < 0) { index = 0; }\n                // adjust the source\n                inputSource = inputSource.slice(this._contentsIgnoredCharsMap[fileInfo.filename]);\n            }\n            inputSource = inputSource.substring(0, index);\n            sourceLines = inputSource.split(\"\\n\");\n            sourceColumns = sourceLines[sourceLines.length - 1];\n        }\n\n        lines = chunk.split(\"\\n\");\n        columns = lines[lines.length - 1];\n\n        if (fileInfo) {\n            if (!mapLines) {\n                this._sourceMapGenerator.addMapping({ generated: { line: this._lineNumber + 1, column: this._column},\n                    original: { line: sourceLines.length, column: sourceColumns.length},\n                    source: this.normalizeFilename(fileInfo.filename)});\n            } else {\n                for (i = 0; i < lines.length; i++) {\n                    this._sourceMapGenerator.addMapping({ generated: { line: this._lineNumber + i + 1, column: i === 0 ? this._column : 0},\n                        original: { line: sourceLines.length + i, column: i === 0 ? sourceColumns.length : 0},\n                        source: this.normalizeFilename(fileInfo.filename)});\n                }\n            }\n        }\n\n        if (lines.length === 1) {\n            this._column += columns.length;\n        } else {\n            this._lineNumber += lines.length - 1;\n            this._column = columns.length;\n        }\n\n        this._css.push(chunk);\n    };\n\n    SourceMapOutput.prototype.isEmpty = function() {\n        return this._css.length === 0;\n    };\n\n    SourceMapOutput.prototype.toCSS = function(context) {\n        this._sourceMapGenerator = new this._sourceMapGeneratorConstructor({ file: this._outputFilename, sourceRoot: null });\n\n        if (this._outputSourceFiles) {\n            for (var filename in this._contentsMap) {\n                if (this._contentsMap.hasOwnProperty(filename)) {\n                    var source = this._contentsMap[filename];\n                    if (this._contentsIgnoredCharsMap[filename]) {\n                        source = source.slice(this._contentsIgnoredCharsMap[filename]);\n                    }\n                    this._sourceMapGenerator.setSourceContent(this.normalizeFilename(filename), source);\n                }\n            }\n        }\n\n        this._rootNode.genCSS(context, this);\n\n        if (this._css.length > 0) {\n            var sourceMapURL,\n                sourceMapContent = JSON.stringify(this._sourceMapGenerator.toJSON());\n\n            if (this.sourceMapURL) {\n                sourceMapURL = this.sourceMapURL;\n            } else if (this._sourceMapFilename) {\n                sourceMapURL = this._sourceMapFilename;\n            }\n            this.sourceMapURL = sourceMapURL;\n\n            this.sourceMap = sourceMapContent;\n        }\n\n        return this._css.join('');\n    };\n\n    return SourceMapOutput;\n};\n\n},{}],44:[function(require,module,exports){\nvar contexts = require(\"./contexts\"),\n    visitor = require(\"./visitors\"),\n    tree = require(\"./tree\");\n\nmodule.exports = function(root, options) {\n    options = options || {};\n    var evaldRoot,\n        variables = options.variables,\n        evalEnv = new contexts.Eval(options);\n\n    //\n    // Allows setting variables with a hash, so:\n    //\n    //   `{ color: new tree.Color('#f01') }` will become:\n    //\n    //   new tree.Rule('@color',\n    //     new tree.Value([\n    //       new tree.Expression([\n    //         new tree.Color('#f01')\n    //       ])\n    //     ])\n    //   )\n    //\n    if (typeof variables === 'object' && !Array.isArray(variables)) {\n        variables = Object.keys(variables).map(function (k) {\n            var value = variables[k];\n\n            if (! (value instanceof tree.Value)) {\n                if (! (value instanceof tree.Expression)) {\n                    value = new tree.Expression([value]);\n                }\n                value = new tree.Value([value]);\n            }\n            return new tree.Rule('@' + k, value, false, null, 0);\n        });\n        evalEnv.frames = [new tree.Ruleset(null, variables)];\n    }\n\n    var preEvalVisitors = [],\n        visitors = [\n            new visitor.JoinSelectorVisitor(),\n            new visitor.MarkVisibleSelectorsVisitor(true),\n            new visitor.ExtendVisitor(),\n            new visitor.ToCSSVisitor({compress: Boolean(options.compress)})\n        ], i;\n\n    if (options.pluginManager) {\n        var pluginVisitors = options.pluginManager.getVisitors();\n        for (i = 0; i < pluginVisitors.length; i++) {\n            var pluginVisitor = pluginVisitors[i];\n            if (pluginVisitor.isPreEvalVisitor) {\n                preEvalVisitors.push(pluginVisitor);\n            } else {\n                if (pluginVisitor.isPreVisitor) {\n                    visitors.splice(0, 0, pluginVisitor);\n                } else {\n                    visitors.push(pluginVisitor);\n                }\n            }\n        }\n    }\n\n    for (i = 0; i < preEvalVisitors.length; i++) {\n        preEvalVisitors[i].run(root);\n    }\n\n    evaldRoot = root.eval(evalEnv);\n\n    for (i = 0; i < visitors.length; i++) {\n        visitors[i].run(evaldRoot);\n    }\n\n    return evaldRoot;\n};\n\n},{\"./contexts\":11,\"./tree\":62,\"./visitors\":87}],45:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Alpha = function (val) {\n    this.value = val;\n};\nAlpha.prototype = new Node();\nAlpha.prototype.type = \"Alpha\";\n\nAlpha.prototype.accept = function (visitor) {\n    this.value = visitor.visit(this.value);\n};\nAlpha.prototype.eval = function (context) {\n    if (this.value.eval) { return new Alpha(this.value.eval(context)); }\n    return this;\n};\nAlpha.prototype.genCSS = function (context, output) {\n    output.add(\"alpha(opacity=\");\n\n    if (this.value.genCSS) {\n        this.value.genCSS(context, output);\n    } else {\n        output.add(this.value);\n    }\n\n    output.add(\")\");\n};\n\nmodule.exports = Alpha;\n\n},{\"./node\":70}],46:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Anonymous = function (value, index, currentFileInfo, mapLines, rulesetLike, visibilityInfo) {\n    this.value = value;\n    this.index = index;\n    this.mapLines = mapLines;\n    this.currentFileInfo = currentFileInfo;\n    this.rulesetLike = (typeof rulesetLike === 'undefined') ? false : rulesetLike;\n    this.allowRoot = true;\n    this.copyVisibilityInfo(visibilityInfo);\n};\nAnonymous.prototype = new Node();\nAnonymous.prototype.type = \"Anonymous\";\nAnonymous.prototype.eval = function () {\n    return new Anonymous(this.value, this.index, this.currentFileInfo, this.mapLines, this.rulesetLike, this.visibilityInfo());\n};\nAnonymous.prototype.compare = function (other) {\n    return other.toCSS && this.toCSS() === other.toCSS() ? 0 : undefined;\n};\nAnonymous.prototype.isRulesetLike = function() {\n    return this.rulesetLike;\n};\nAnonymous.prototype.genCSS = function (context, output) {\n    output.add(this.value, this.currentFileInfo, this.index, this.mapLines);\n};\nmodule.exports = Anonymous;\n\n},{\"./node\":70}],47:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Assignment = function (key, val) {\n    this.key = key;\n    this.value = val;\n};\n\nAssignment.prototype = new Node();\nAssignment.prototype.type = \"Assignment\";\nAssignment.prototype.accept = function (visitor) {\n    this.value = visitor.visit(this.value);\n};\nAssignment.prototype.eval = function (context) {\n    if (this.value.eval) {\n        return new Assignment(this.key, this.value.eval(context));\n    }\n    return this;\n};\nAssignment.prototype.genCSS = function (context, output) {\n    output.add(this.key + '=');\n    if (this.value.genCSS) {\n        this.value.genCSS(context, output);\n    } else {\n        output.add(this.value);\n    }\n};\nmodule.exports = Assignment;\n\n},{\"./node\":70}],48:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Attribute = function (key, op, value) {\n    this.key = key;\n    this.op = op;\n    this.value = value;\n};\nAttribute.prototype = new Node();\nAttribute.prototype.type = \"Attribute\";\nAttribute.prototype.eval = function (context) {\n    return new Attribute(this.key.eval ? this.key.eval(context) : this.key,\n        this.op, (this.value && this.value.eval) ? this.value.eval(context) : this.value);\n};\nAttribute.prototype.genCSS = function (context, output) {\n    output.add(this.toCSS(context));\n};\nAttribute.prototype.toCSS = function (context) {\n    var value = this.key.toCSS ? this.key.toCSS(context) : this.key;\n\n    if (this.op) {\n        value += this.op;\n        value += (this.value.toCSS ? this.value.toCSS(context) : this.value);\n    }\n\n    return '[' + value + ']';\n};\nmodule.exports = Attribute;\n\n},{\"./node\":70}],49:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    FunctionCaller = require(\"../functions/function-caller\");\n//\n// A function call node.\n//\nvar Call = function (name, args, index, currentFileInfo) {\n    this.name = name;\n    this.args = args;\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n};\nCall.prototype = new Node();\nCall.prototype.type = \"Call\";\nCall.prototype.accept = function (visitor) {\n    if (this.args) {\n        this.args = visitor.visitArray(this.args);\n    }\n};\n//\n// When evaluating a function call,\n// we either find the function in the functionRegistry,\n// in which case we call it, passing the  evaluated arguments,\n// if this returns null or we cannot find the function, we\n// simply print it out as it appeared originally [2].\n//\n// The reason why we evaluate the arguments, is in the case where\n// we try to pass a variable to a function, like: `saturate(@color)`.\n// The function should receive the value, not the variable.\n//\nCall.prototype.eval = function (context) {\n    var args = this.args.map(function (a) { return a.eval(context); }),\n        result, funcCaller = new FunctionCaller(this.name, context, this.index, this.currentFileInfo);\n\n    if (funcCaller.isValid()) {\n        try {\n            result = funcCaller.call(args);\n        } catch (e) {\n            throw { type: e.type || \"Runtime\",\n                    message: \"error evaluating function `\" + this.name + \"`\" +\n                             (e.message ? ': ' + e.message : ''),\n                    index: this.index, filename: this.currentFileInfo.filename };\n        }\n\n        if (result != null) {\n            result.index = this.index;\n            result.currentFileInfo = this.currentFileInfo;\n            return result;\n        }\n    }\n\n    return new Call(this.name, args, this.index, this.currentFileInfo);\n};\nCall.prototype.genCSS = function (context, output) {\n    output.add(this.name + \"(\", this.currentFileInfo, this.index);\n\n    for (var i = 0; i < this.args.length; i++) {\n        this.args[i].genCSS(context, output);\n        if (i + 1 < this.args.length) {\n            output.add(\", \");\n        }\n    }\n\n    output.add(\")\");\n};\nmodule.exports = Call;\n\n},{\"../functions/function-caller\":21,\"./node\":70}],50:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    colors = require(\"../data/colors\");\n\n//\n// RGB Colors - #ff0014, #eee\n//\nvar Color = function (rgb, a, originalForm) {\n    //\n    // The end goal here, is to parse the arguments\n    // into an integer triplet, such as `128, 255, 0`\n    //\n    // This facilitates operations and conversions.\n    //\n    if (Array.isArray(rgb)) {\n        this.rgb = rgb;\n    } else if (rgb.length == 6) {\n        this.rgb = rgb.match(/.{2}/g).map(function (c) {\n            return parseInt(c, 16);\n        });\n    } else {\n        this.rgb = rgb.split('').map(function (c) {\n            return parseInt(c + c, 16);\n        });\n    }\n    this.alpha = typeof a === 'number' ? a : 1;\n    if (typeof originalForm !== 'undefined') {\n        this.value = originalForm;\n    }\n};\n\nColor.prototype = new Node();\nColor.prototype.type = \"Color\";\n\nfunction clamp(v, max) {\n    return Math.min(Math.max(v, 0), max);\n}\n\nfunction toHex(v) {\n    return '#' + v.map(function (c) {\n        c = clamp(Math.round(c), 255);\n        return (c < 16 ? '0' : '') + c.toString(16);\n    }).join('');\n}\n\nColor.prototype.luma = function () {\n    var r = this.rgb[0] / 255,\n        g = this.rgb[1] / 255,\n        b = this.rgb[2] / 255;\n\n    r = (r <= 0.03928) ? r / 12.92 : Math.pow(((r + 0.055) / 1.055), 2.4);\n    g = (g <= 0.03928) ? g / 12.92 : Math.pow(((g + 0.055) / 1.055), 2.4);\n    b = (b <= 0.03928) ? b / 12.92 : Math.pow(((b + 0.055) / 1.055), 2.4);\n\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n};\nColor.prototype.genCSS = function (context, output) {\n    output.add(this.toCSS(context));\n};\nColor.prototype.toCSS = function (context, doNotCompress) {\n    var compress = context && context.compress && !doNotCompress, color, alpha;\n\n    // `value` is set if this color was originally\n    // converted from a named color string so we need\n    // to respect this and try to output named color too.\n    if (this.value) {\n        return this.value;\n    }\n\n    // If we have some transparency, the only way to represent it\n    // is via `rgba`. Otherwise, we use the hex representation,\n    // which has better compatibility with older browsers.\n    // Values are capped between `0` and `255`, rounded and zero-padded.\n    alpha = this.fround(context, this.alpha);\n    if (alpha < 1) {\n        return \"rgba(\" + this.rgb.map(function (c) {\n            return clamp(Math.round(c), 255);\n        }).concat(clamp(alpha, 1))\n            .join(',' + (compress ? '' : ' ')) + \")\";\n    }\n\n    color = this.toRGB();\n\n    if (compress) {\n        var splitcolor = color.split('');\n\n        // Convert color to short format\n        if (splitcolor[1] === splitcolor[2] && splitcolor[3] === splitcolor[4] && splitcolor[5] === splitcolor[6]) {\n            color = '#' + splitcolor[1] + splitcolor[3] + splitcolor[5];\n        }\n    }\n\n    return color;\n};\n\n//\n// Operations have to be done per-channel, if not,\n// channels will spill onto each other. Once we have\n// our result, in the form of an integer triplet,\n// we create a new Color node to hold the result.\n//\nColor.prototype.operate = function (context, op, other) {\n    var rgb = [];\n    var alpha = this.alpha * (1 - other.alpha) + other.alpha;\n    for (var c = 0; c < 3; c++) {\n        rgb[c] = this._operate(context, op, this.rgb[c], other.rgb[c]);\n    }\n    return new Color(rgb, alpha);\n};\nColor.prototype.toRGB = function () {\n    return toHex(this.rgb);\n};\nColor.prototype.toHSL = function () {\n    var r = this.rgb[0] / 255,\n        g = this.rgb[1] / 255,\n        b = this.rgb[2] / 255,\n        a = this.alpha;\n\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, l = (max + min) / 2, d = max - min;\n\n    if (max === min) {\n        h = s = 0;\n    } else {\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2;               break;\n            case b: h = (r - g) / d + 4;               break;\n        }\n        h /= 6;\n    }\n    return { h: h * 360, s: s, l: l, a: a };\n};\n//Adapted from http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript\nColor.prototype.toHSV = function () {\n    var r = this.rgb[0] / 255,\n        g = this.rgb[1] / 255,\n        b = this.rgb[2] / 255,\n        a = this.alpha;\n\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    if (max === 0) {\n        s = 0;\n    } else {\n        s = d / max;\n    }\n\n    if (max === min) {\n        h = 0;\n    } else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h * 360, s: s, v: v, a: a };\n};\nColor.prototype.toARGB = function () {\n    return toHex([this.alpha * 255].concat(this.rgb));\n};\nColor.prototype.compare = function (x) {\n    return (x.rgb &&\n        x.rgb[0] === this.rgb[0] &&\n        x.rgb[1] === this.rgb[1] &&\n        x.rgb[2] === this.rgb[2] &&\n        x.alpha  === this.alpha) ? 0 : undefined;\n};\n\nColor.fromKeyword = function(keyword) {\n    var c, key = keyword.toLowerCase();\n    if (colors.hasOwnProperty(key)) {\n        c = new Color(colors[key].slice(1));\n    }\n    else if (key === \"transparent\") {\n        c = new Color([0, 0, 0], 0);\n    }\n\n    if (c) {\n        c.value = keyword;\n        return c;\n    }\n};\nmodule.exports = Color;\n\n},{\"../data/colors\":12,\"./node\":70}],51:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Combinator = function (value) {\n    if (value === ' ') {\n        this.value = ' ';\n        this.emptyOrWhitespace = true;\n    } else {\n        this.value = value ? value.trim() : \"\";\n        this.emptyOrWhitespace = this.value === \"\";\n    }\n};\nCombinator.prototype = new Node();\nCombinator.prototype.type = \"Combinator\";\nvar _noSpaceCombinators = {\n    '': true,\n    ' ': true,\n    '|': true\n};\nCombinator.prototype.genCSS = function (context, output) {\n    var spaceOrEmpty = (context.compress || _noSpaceCombinators[this.value]) ? '' : ' ';\n    output.add(spaceOrEmpty + this.value + spaceOrEmpty);\n};\nmodule.exports = Combinator;\n\n},{\"./node\":70}],52:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    getDebugInfo = require(\"./debug-info\");\n\nvar Comment = function (value, isLineComment, index, currentFileInfo) {\n    this.value = value;\n    this.isLineComment = isLineComment;\n    this.currentFileInfo = currentFileInfo;\n    this.allowRoot = true;\n};\nComment.prototype = new Node();\nComment.prototype.type = \"Comment\";\nComment.prototype.genCSS = function (context, output) {\n    if (this.debugInfo) {\n        output.add(getDebugInfo(context, this), this.currentFileInfo, this.index);\n    }\n    output.add(this.value);\n};\nComment.prototype.isSilent = function(context) {\n    var isCompressed = context.compress && this.value[2] !== \"!\";\n    return this.isLineComment || isCompressed;\n};\nmodule.exports = Comment;\n\n},{\"./debug-info\":54,\"./node\":70}],53:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Condition = function (op, l, r, i, negate) {\n    this.op = op.trim();\n    this.lvalue = l;\n    this.rvalue = r;\n    this.index = i;\n    this.negate = negate;\n};\nCondition.prototype = new Node();\nCondition.prototype.type = \"Condition\";\nCondition.prototype.accept = function (visitor) {\n    this.lvalue = visitor.visit(this.lvalue);\n    this.rvalue = visitor.visit(this.rvalue);\n};\nCondition.prototype.eval = function (context) {\n    var result = (function (op, a, b) {\n        switch (op) {\n            case 'and': return a && b;\n            case 'or':  return a || b;\n            default:\n                switch (Node.compare(a, b)) {\n                    case -1:\n                        return op === '<' || op === '=<' || op === '<=';\n                    case 0:\n                        return op === '=' || op === '>=' || op === '=<' || op === '<=';\n                    case 1:\n                        return op === '>' || op === '>=';\n                    default:\n                        return false;\n                }\n        }\n    })(this.op, this.lvalue.eval(context), this.rvalue.eval(context));\n\n    return this.negate ? !result : result;\n};\nmodule.exports = Condition;\n\n},{\"./node\":70}],54:[function(require,module,exports){\nvar debugInfo = function(context, ctx, lineSeparator) {\n    var result = \"\";\n    if (context.dumpLineNumbers && !context.compress) {\n        switch(context.dumpLineNumbers) {\n            case 'comments':\n                result = debugInfo.asComment(ctx);\n                break;\n            case 'mediaquery':\n                result = debugInfo.asMediaQuery(ctx);\n                break;\n            case 'all':\n                result = debugInfo.asComment(ctx) + (lineSeparator || \"\") + debugInfo.asMediaQuery(ctx);\n                break;\n        }\n    }\n    return result;\n};\n\ndebugInfo.asComment = function(ctx) {\n    return '/* line ' + ctx.debugInfo.lineNumber + ', ' + ctx.debugInfo.fileName + ' */\\n';\n};\n\ndebugInfo.asMediaQuery = function(ctx) {\n    var filenameWithProtocol = ctx.debugInfo.fileName;\n    if (!/^[a-z]+:\\/\\//i.test(filenameWithProtocol)) {\n        filenameWithProtocol = 'file://' + filenameWithProtocol;\n    }\n    return '@media -sass-debug-info{filename{font-family:' +\n        filenameWithProtocol.replace(/([.:\\/\\\\])/g, function (a) {\n            if (a == '\\\\') {\n                a = '\\/';\n            }\n            return '\\\\' + a;\n        }) +\n        '}line{font-family:\\\\00003' + ctx.debugInfo.lineNumber + '}}\\n';\n};\n\nmodule.exports = debugInfo;\n\n},{}],55:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    contexts = require(\"../contexts\");\n\nvar DetachedRuleset = function (ruleset, frames) {\n    this.ruleset = ruleset;\n    this.frames = frames;\n};\nDetachedRuleset.prototype = new Node();\nDetachedRuleset.prototype.type = \"DetachedRuleset\";\nDetachedRuleset.prototype.evalFirst = true;\nDetachedRuleset.prototype.accept = function (visitor) {\n    this.ruleset = visitor.visit(this.ruleset);\n};\nDetachedRuleset.prototype.eval = function (context) {\n    var frames = this.frames || context.frames.slice(0);\n    return new DetachedRuleset(this.ruleset, frames);\n};\nDetachedRuleset.prototype.callEval = function (context) {\n    return this.ruleset.eval(this.frames ? new contexts.Eval(context, this.frames.concat(context.frames)) : context);\n};\nmodule.exports = DetachedRuleset;\n\n},{\"../contexts\":11,\"./node\":70}],56:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    unitConversions = require(\"../data/unit-conversions\"),\n    Unit = require(\"./unit\"),\n    Color = require(\"./color\");\n\n//\n// A number with a unit\n//\nvar Dimension = function (value, unit) {\n    this.value = parseFloat(value);\n    this.unit = (unit && unit instanceof Unit) ? unit :\n      new Unit(unit ? [unit] : undefined);\n};\n\nDimension.prototype = new Node();\nDimension.prototype.type = \"Dimension\";\nDimension.prototype.accept = function (visitor) {\n    this.unit = visitor.visit(this.unit);\n};\nDimension.prototype.eval = function (context) {\n    return this;\n};\nDimension.prototype.toColor = function () {\n    return new Color([this.value, this.value, this.value]);\n};\nDimension.prototype.genCSS = function (context, output) {\n    if ((context && context.strictUnits) && !this.unit.isSingular()) {\n        throw new Error(\"Multiple units in dimension. Correct the units or use the unit function. Bad unit: \" + this.unit.toString());\n    }\n\n    var value = this.fround(context, this.value),\n        strValue = String(value);\n\n    if (value !== 0 && value < 0.000001 && value > -0.000001) {\n        // would be output 1e-6 etc.\n        strValue = value.toFixed(20).replace(/0+$/, \"\");\n    }\n\n    if (context && context.compress) {\n        // Zero values doesn't need a unit\n        if (value === 0 && this.unit.isLength()) {\n            output.add(strValue);\n            return;\n        }\n\n        // Float values doesn't need a leading zero\n        if (value > 0 && value < 1) {\n            strValue = (strValue).substr(1);\n        }\n    }\n\n    output.add(strValue);\n    this.unit.genCSS(context, output);\n};\n\n// In an operation between two Dimensions,\n// we default to the first Dimension's unit,\n// so `1px + 2` will yield `3px`.\nDimension.prototype.operate = function (context, op, other) {\n    /*jshint noempty:false */\n    var value = this._operate(context, op, this.value, other.value),\n        unit = this.unit.clone();\n\n    if (op === '+' || op === '-') {\n        if (unit.numerator.length === 0 && unit.denominator.length === 0) {\n            unit = other.unit.clone();\n            if (this.unit.backupUnit) {\n                unit.backupUnit = this.unit.backupUnit;\n            }\n        } else if (other.unit.numerator.length === 0 && unit.denominator.length === 0) {\n            // do nothing\n        } else {\n            other = other.convertTo(this.unit.usedUnits());\n\n            if (context.strictUnits && other.unit.toString() !== unit.toString()) {\n                throw new Error(\"Incompatible units. Change the units or use the unit function. Bad units: '\" + unit.toString() +\n                    \"' and '\" + other.unit.toString() + \"'.\");\n            }\n\n            value = this._operate(context, op, this.value, other.value);\n        }\n    } else if (op === '*') {\n        unit.numerator = unit.numerator.concat(other.unit.numerator).sort();\n        unit.denominator = unit.denominator.concat(other.unit.denominator).sort();\n        unit.cancel();\n    } else if (op === '/') {\n        unit.numerator = unit.numerator.concat(other.unit.denominator).sort();\n        unit.denominator = unit.denominator.concat(other.unit.numerator).sort();\n        unit.cancel();\n    }\n    return new Dimension(value, unit);\n};\nDimension.prototype.compare = function (other) {\n    var a, b;\n\n    if (!(other instanceof Dimension)) {\n        return undefined;\n    }\n\n    if (this.unit.isEmpty() || other.unit.isEmpty()) {\n        a = this;\n        b = other;\n    } else {\n        a = this.unify();\n        b = other.unify();\n        if (a.unit.compare(b.unit) !== 0) {\n            return undefined;\n        }\n    }\n\n    return Node.numericCompare(a.value, b.value);\n};\nDimension.prototype.unify = function () {\n    return this.convertTo({ length: 'px', duration: 's', angle: 'rad' });\n};\nDimension.prototype.convertTo = function (conversions) {\n    var value = this.value, unit = this.unit.clone(),\n        i, groupName, group, targetUnit, derivedConversions = {}, applyUnit;\n\n    if (typeof conversions === 'string') {\n        for (i in unitConversions) {\n            if (unitConversions[i].hasOwnProperty(conversions)) {\n                derivedConversions = {};\n                derivedConversions[i] = conversions;\n            }\n        }\n        conversions = derivedConversions;\n    }\n    applyUnit = function (atomicUnit, denominator) {\n        /* jshint loopfunc:true */\n        if (group.hasOwnProperty(atomicUnit)) {\n            if (denominator) {\n                value = value / (group[atomicUnit] / group[targetUnit]);\n            } else {\n                value = value * (group[atomicUnit] / group[targetUnit]);\n            }\n\n            return targetUnit;\n        }\n\n        return atomicUnit;\n    };\n\n    for (groupName in conversions) {\n        if (conversions.hasOwnProperty(groupName)) {\n            targetUnit = conversions[groupName];\n            group = unitConversions[groupName];\n\n            unit.map(applyUnit);\n        }\n    }\n\n    unit.cancel();\n\n    return new Dimension(value, unit);\n};\nmodule.exports = Dimension;\n\n},{\"../data/unit-conversions\":14,\"./color\":50,\"./node\":70,\"./unit\":79}],57:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Selector = require(\"./selector\"),\n    Ruleset = require(\"./ruleset\");\n\nvar Directive = function (name, value, rules, index, currentFileInfo, debugInfo, isRooted, visibilityInfo) {\n    var i;\n\n    this.name  = name;\n    this.value = value;\n    if (rules) {\n        if (Array.isArray(rules)) {\n            this.rules = rules;\n        } else {\n            this.rules = [rules];\n            this.rules[0].selectors = (new Selector([], null, null, this.index, currentFileInfo)).createEmptySelectors();\n        }\n        for (i = 0; i < this.rules.length; i++) {\n            this.rules[i].allowImports = true;\n        }\n    }\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n    this.debugInfo = debugInfo;\n    this.isRooted = isRooted || false;\n    this.copyVisibilityInfo(visibilityInfo);\n    this.allowRoot = true;\n};\n\nDirective.prototype = new Node();\nDirective.prototype.type = \"Directive\";\nDirective.prototype.accept = function (visitor) {\n    var value = this.value, rules = this.rules;\n    if (rules) {\n        this.rules = visitor.visitArray(rules);\n    }\n    if (value) {\n        this.value = visitor.visit(value);\n    }\n};\nDirective.prototype.isRulesetLike = function() {\n    return this.rules || !this.isCharset();\n};\nDirective.prototype.isCharset = function() {\n    return \"@charset\" === this.name;\n};\nDirective.prototype.genCSS = function (context, output) {\n    var value = this.value, rules = this.rules;\n    output.add(this.name, this.currentFileInfo, this.index);\n    if (value) {\n        output.add(' ');\n        value.genCSS(context, output);\n    }\n    if (rules) {\n        this.outputRuleset(context, output, rules);\n    } else {\n        output.add(';');\n    }\n};\nDirective.prototype.eval = function (context) {\n    var mediaPathBackup, mediaBlocksBackup, value = this.value, rules = this.rules;\n\n    //media stored inside other directive should not bubble over it\n    //backpup media bubbling information\n    mediaPathBackup = context.mediaPath;\n    mediaBlocksBackup = context.mediaBlocks;\n    //deleted media bubbling information\n    context.mediaPath = [];\n    context.mediaBlocks = [];\n\n    if (value) {\n        value = value.eval(context);\n    }\n    if (rules) {\n        // assuming that there is only one rule at this point - that is how parser constructs the rule\n        rules = [rules[0].eval(context)];\n        rules[0].root = true;\n    }\n    //restore media bubbling information\n    context.mediaPath = mediaPathBackup;\n    context.mediaBlocks = mediaBlocksBackup;\n\n    return new Directive(this.name, value, rules,\n        this.index, this.currentFileInfo, this.debugInfo, this.isRooted, this.visibilityInfo());\n};\nDirective.prototype.variable = function (name) {\n    if (this.rules) {\n        // assuming that there is only one rule at this point - that is how parser constructs the rule\n        return Ruleset.prototype.variable.call(this.rules[0], name);\n    }\n};\nDirective.prototype.find = function () {\n    if (this.rules) {\n        // assuming that there is only one rule at this point - that is how parser constructs the rule\n        return Ruleset.prototype.find.apply(this.rules[0], arguments);\n    }\n};\nDirective.prototype.rulesets = function () {\n    if (this.rules) {\n        // assuming that there is only one rule at this point - that is how parser constructs the rule\n        return Ruleset.prototype.rulesets.apply(this.rules[0]);\n    }\n};\nDirective.prototype.outputRuleset = function (context, output, rules) {\n    var ruleCnt = rules.length, i;\n    context.tabLevel = (context.tabLevel | 0) + 1;\n\n    // Compressed\n    if (context.compress) {\n        output.add('{');\n        for (i = 0; i < ruleCnt; i++) {\n            rules[i].genCSS(context, output);\n        }\n        output.add('}');\n        context.tabLevel--;\n        return;\n    }\n\n    // Non-compressed\n    var tabSetStr = '\\n' + Array(context.tabLevel).join(\"  \"), tabRuleStr = tabSetStr + \"  \";\n    if (!ruleCnt) {\n        output.add(\" {\" + tabSetStr + '}');\n    } else {\n        output.add(\" {\" + tabRuleStr);\n        rules[0].genCSS(context, output);\n        for (i = 1; i < ruleCnt; i++) {\n            output.add(tabRuleStr);\n            rules[i].genCSS(context, output);\n        }\n        output.add(tabSetStr + '}');\n    }\n\n    context.tabLevel--;\n};\nmodule.exports = Directive;\n\n},{\"./node\":70,\"./ruleset\":76,\"./selector\":77}],58:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Paren = require(\"./paren\"),\n    Combinator = require(\"./combinator\");\n\nvar Element = function (combinator, value, index, currentFileInfo, info) {\n    this.combinator = combinator instanceof Combinator ?\n                      combinator : new Combinator(combinator);\n\n    if (typeof value === 'string') {\n        this.value = value.trim();\n    } else if (value) {\n        this.value = value;\n    } else {\n        this.value = \"\";\n    }\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n    this.copyVisibilityInfo(info);\n};\nElement.prototype = new Node();\nElement.prototype.type = \"Element\";\nElement.prototype.accept = function (visitor) {\n    var value = this.value;\n    this.combinator = visitor.visit(this.combinator);\n    if (typeof value === \"object\") {\n        this.value = visitor.visit(value);\n    }\n};\nElement.prototype.eval = function (context) {\n    return new Element(this.combinator,\n                             this.value.eval ? this.value.eval(context) : this.value,\n                             this.index,\n                             this.currentFileInfo, this.visibilityInfo());\n};\nElement.prototype.clone = function () {\n    return new Element(this.combinator,\n        this.value,\n        this.index,\n        this.currentFileInfo, this.visibilityInfo());\n};\nElement.prototype.genCSS = function (context, output) {\n    output.add(this.toCSS(context), this.currentFileInfo, this.index);\n};\nElement.prototype.toCSS = function (context) {\n    context = context || {};\n    var value = this.value, firstSelector = context.firstSelector;\n    if (value instanceof Paren) {\n        // selector in parens should not be affected by outer selector\n        // flags (breaks only interpolated selectors - see #1973)\n        context.firstSelector = true;\n    }\n    value = value.toCSS ? value.toCSS(context) : value;\n    context.firstSelector = firstSelector;\n    if (value === '' && this.combinator.value.charAt(0) === '&') {\n        return '';\n    } else {\n        return this.combinator.toCSS(context) + value;\n    }\n};\nmodule.exports = Element;\n\n},{\"./combinator\":51,\"./node\":70,\"./paren\":72}],59:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Paren = require(\"./paren\"),\n    Comment = require(\"./comment\");\n\nvar Expression = function (value) {\n    this.value = value;\n    if (!value) {\n        throw new Error(\"Expression requires an array parameter\");\n    }\n};\nExpression.prototype = new Node();\nExpression.prototype.type = \"Expression\";\nExpression.prototype.accept = function (visitor) {\n    this.value = visitor.visitArray(this.value);\n};\nExpression.prototype.eval = function (context) {\n    var returnValue,\n        inParenthesis = this.parens && !this.parensInOp,\n        doubleParen = false;\n    if (inParenthesis) {\n        context.inParenthesis();\n    }\n    if (this.value.length > 1) {\n        returnValue = new Expression(this.value.map(function (e) {\n            return e.eval(context);\n        }));\n    } else if (this.value.length === 1) {\n        if (this.value[0].parens && !this.value[0].parensInOp) {\n            doubleParen = true;\n        }\n        returnValue = this.value[0].eval(context);\n    } else {\n        returnValue = this;\n    }\n    if (inParenthesis) {\n        context.outOfParenthesis();\n    }\n    if (this.parens && this.parensInOp && !(context.isMathOn()) && !doubleParen) {\n        returnValue = new Paren(returnValue);\n    }\n    return returnValue;\n};\nExpression.prototype.genCSS = function (context, output) {\n    for (var i = 0; i < this.value.length; i++) {\n        this.value[i].genCSS(context, output);\n        if (i + 1 < this.value.length) {\n            output.add(\" \");\n        }\n    }\n};\nExpression.prototype.throwAwayComments = function () {\n    this.value = this.value.filter(function(v) {\n        return !(v instanceof Comment);\n    });\n};\nmodule.exports = Expression;\n\n},{\"./comment\":52,\"./node\":70,\"./paren\":72}],60:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Selector = require(\"./selector\");\n\nvar Extend = function Extend(selector, option, index, currentFileInfo, visibilityInfo) {\n    this.selector = selector;\n    this.option = option;\n    this.index = index;\n    this.object_id = Extend.next_id++;\n    this.parent_ids = [this.object_id];\n    this.currentFileInfo = currentFileInfo || {};\n    this.copyVisibilityInfo(visibilityInfo);\n    this.allowRoot = true;\n\n    switch(option) {\n        case \"all\":\n            this.allowBefore = true;\n            this.allowAfter = true;\n            break;\n        default:\n            this.allowBefore = false;\n            this.allowAfter = false;\n            break;\n    }\n};\nExtend.next_id = 0;\n\nExtend.prototype = new Node();\nExtend.prototype.type = \"Extend\";\nExtend.prototype.accept = function (visitor) {\n    this.selector = visitor.visit(this.selector);\n};\nExtend.prototype.eval = function (context) {\n    return new Extend(this.selector.eval(context), this.option, this.index, this.currentFileInfo, this.visibilityInfo());\n};\nExtend.prototype.clone = function (context) {\n    return new Extend(this.selector, this.option, this.index, this.currentFileInfo, this.visibilityInfo());\n};\n//it concatenates (joins) all selectors in selector array\nExtend.prototype.findSelfSelectors = function (selectors) {\n    var selfElements = [],\n        i,\n        selectorElements;\n\n    for (i = 0; i < selectors.length; i++) {\n        selectorElements = selectors[i].elements;\n        // duplicate the logic in genCSS function inside the selector node.\n        // future TODO - move both logics into the selector joiner visitor\n        if (i > 0 && selectorElements.length && selectorElements[0].combinator.value === \"\") {\n            selectorElements[0].combinator.value = ' ';\n        }\n        selfElements = selfElements.concat(selectors[i].elements);\n    }\n\n    this.selfSelectors = [new Selector(selfElements)];\n    this.selfSelectors[0].copyVisibilityInfo(this.visibilityInfo());\n};\nmodule.exports = Extend;\n\n},{\"./node\":70,\"./selector\":77}],61:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Media = require(\"./media\"),\n    URL = require(\"./url\"),\n    Quoted = require(\"./quoted\"),\n    Ruleset = require(\"./ruleset\"),\n    Anonymous = require(\"./anonymous\");\n\n//\n// CSS @import node\n//\n// The general strategy here is that we don't want to wait\n// for the parsing to be completed, before we start importing\n// the file. That's because in the context of a browser,\n// most of the time will be spent waiting for the server to respond.\n//\n// On creation, we push the import path to our import queue, though\n// `import,push`, we also pass it a callback, which it'll call once\n// the file has been fetched, and parsed.\n//\nvar Import = function (path, features, options, index, currentFileInfo, visibilityInfo) {\n    this.options = options;\n    this.index = index;\n    this.path = path;\n    this.features = features;\n    this.currentFileInfo = currentFileInfo;\n    this.allowRoot = true;\n\n    if (this.options.less !== undefined || this.options.inline) {\n        this.css = !this.options.less || this.options.inline;\n    } else {\n        var pathValue = this.getPath();\n        if (pathValue && /[#\\.\\&\\?\\/]css([\\?;].*)?$/.test(pathValue)) {\n            this.css = true;\n        }\n    }\n    this.copyVisibilityInfo(visibilityInfo);\n};\n\n//\n// The actual import node doesn't return anything, when converted to CSS.\n// The reason is that it's used at the evaluation stage, so that the rules\n// it imports can be treated like any other rules.\n//\n// In `eval`, we make sure all Import nodes get evaluated, recursively, so\n// we end up with a flat structure, which can easily be imported in the parent\n// ruleset.\n//\nImport.prototype = new Node();\nImport.prototype.type = \"Import\";\nImport.prototype.accept = function (visitor) {\n    if (this.features) {\n        this.features = visitor.visit(this.features);\n    }\n    this.path = visitor.visit(this.path);\n    if (!this.options.plugin && !this.options.inline && this.root) {\n        this.root = visitor.visit(this.root);\n    }\n};\nImport.prototype.genCSS = function (context, output) {\n    if (this.css && this.path.currentFileInfo.reference === undefined) {\n        output.add(\"@import \", this.currentFileInfo, this.index);\n        this.path.genCSS(context, output);\n        if (this.features) {\n            output.add(\" \");\n            this.features.genCSS(context, output);\n        }\n        output.add(';');\n    }\n};\nImport.prototype.getPath = function () {\n    return (this.path instanceof URL) ?\n        this.path.value.value : this.path.value;\n};\nImport.prototype.isVariableImport = function () {\n    var path = this.path;\n    if (path instanceof URL) {\n        path = path.value;\n    }\n    if (path instanceof Quoted) {\n        return path.containsVariables();\n    }\n\n    return true;\n};\nImport.prototype.evalForImport = function (context) {\n    var path = this.path;\n\n    if (path instanceof URL) {\n        path = path.value;\n    }\n\n    return new Import(path.eval(context), this.features, this.options, this.index, this.currentFileInfo, this.visibilityInfo());\n};\nImport.prototype.evalPath = function (context) {\n    var path = this.path.eval(context);\n    var rootpath = this.currentFileInfo && this.currentFileInfo.rootpath;\n\n    if (!(path instanceof URL)) {\n        if (rootpath) {\n            var pathValue = path.value;\n            // Add the base path if the import is relative\n            if (pathValue && context.isPathRelative(pathValue)) {\n                path.value = rootpath + pathValue;\n            }\n        }\n        path.value = context.normalizePath(path.value);\n    }\n\n    return path;\n};\nImport.prototype.eval = function (context) {\n    var result = this.doEval(context);\n    if (this.options.reference || this.blocksVisibility()) {\n        if (result.length || result.length === 0) {\n            result.forEach(function (node) {\n                    node.addVisibilityBlock();\n                }\n            );\n        } else {\n            result.addVisibilityBlock();\n        }\n    }\n    return result;\n};\nImport.prototype.doEval = function (context) {\n    var ruleset, registry,\n        features = this.features && this.features.eval(context);\n\n    if (this.options.plugin) {\n        registry = context.frames[0] && context.frames[0].functionRegistry;\n        if ( registry && this.root && this.root.functions ) {\n            registry.addMultiple( this.root.functions );\n        }\n        return [];\n    }\n\n    if (this.skip) {\n        if (typeof this.skip === \"function\") {\n            this.skip = this.skip();\n        }\n        if (this.skip) {\n            return [];\n        }\n    }\n    if (this.options.inline) {\n        var contents = new Anonymous(this.root, 0,\n          {\n              filename: this.importedFilename,\n              reference: this.path.currentFileInfo && this.path.currentFileInfo.reference\n          }, true, true);\n\n        return this.features ? new Media([contents], this.features.value) : [contents];\n    } else if (this.css) {\n        var newImport = new Import(this.evalPath(context), features, this.options, this.index);\n        if (!newImport.css && this.error) {\n            throw this.error;\n        }\n        return newImport;\n    } else {\n        ruleset = new Ruleset(null, this.root.rules.slice(0));\n        ruleset.evalImports(context);\n\n        return this.features ? new Media(ruleset.rules, this.features.value) : ruleset.rules;\n    }\n};\nmodule.exports = Import;\n\n},{\"./anonymous\":46,\"./media\":66,\"./node\":70,\"./quoted\":73,\"./ruleset\":76,\"./url\":80}],62:[function(require,module,exports){\nvar tree = {};\n\ntree.Node = require('./node');\ntree.Alpha = require('./alpha');\ntree.Color = require('./color');\ntree.Directive = require('./directive');\ntree.DetachedRuleset = require('./detached-ruleset');\ntree.Operation = require('./operation');\ntree.Dimension = require('./dimension');\ntree.Unit = require('./unit');\ntree.Keyword = require('./keyword');\ntree.Variable = require('./variable');\ntree.Ruleset = require('./ruleset');\ntree.Element = require('./element');\ntree.Attribute = require('./attribute');\ntree.Combinator = require('./combinator');\ntree.Selector = require('./selector');\ntree.Quoted = require('./quoted');\ntree.Expression = require('./expression');\ntree.Rule = require('./rule');\ntree.Call = require('./call');\ntree.URL = require('./url');\ntree.Import = require('./import');\ntree.mixin = {\n    Call: require('./mixin-call'),\n    Definition: require('./mixin-definition')\n};\ntree.Comment = require('./comment');\ntree.Anonymous = require('./anonymous');\ntree.Value = require('./value');\ntree.JavaScript = require('./javascript');\ntree.Assignment = require('./assignment');\ntree.Condition = require('./condition');\ntree.Paren = require('./paren');\ntree.Media = require('./media');\ntree.UnicodeDescriptor = require('./unicode-descriptor');\ntree.Negative = require('./negative');\ntree.Extend = require('./extend');\ntree.RulesetCall = require('./ruleset-call');\n\nmodule.exports = tree;\n\n},{\"./alpha\":45,\"./anonymous\":46,\"./assignment\":47,\"./attribute\":48,\"./call\":49,\"./color\":50,\"./combinator\":51,\"./comment\":52,\"./condition\":53,\"./detached-ruleset\":55,\"./dimension\":56,\"./directive\":57,\"./element\":58,\"./expression\":59,\"./extend\":60,\"./import\":61,\"./javascript\":63,\"./keyword\":65,\"./media\":66,\"./mixin-call\":67,\"./mixin-definition\":68,\"./negative\":69,\"./node\":70,\"./operation\":71,\"./paren\":72,\"./quoted\":73,\"./rule\":74,\"./ruleset\":76,\"./ruleset-call\":75,\"./selector\":77,\"./unicode-descriptor\":78,\"./unit\":79,\"./url\":80,\"./value\":81,\"./variable\":82}],63:[function(require,module,exports){\nvar JsEvalNode = require(\"./js-eval-node\"),\n    Dimension = require(\"./dimension\"),\n    Quoted = require(\"./quoted\"),\n    Anonymous = require(\"./anonymous\");\n\nvar JavaScript = function (string, escaped, index, currentFileInfo) {\n    this.escaped = escaped;\n    this.expression = string;\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n};\nJavaScript.prototype = new JsEvalNode();\nJavaScript.prototype.type = \"JavaScript\";\nJavaScript.prototype.eval = function(context) {\n    var result = this.evaluateJavaScript(this.expression, context);\n\n    if (typeof result === 'number') {\n        return new Dimension(result);\n    } else if (typeof result === 'string') {\n        return new Quoted('\"' + result + '\"', result, this.escaped, this.index);\n    } else if (Array.isArray(result)) {\n        return new Anonymous(result.join(', '));\n    } else {\n        return new Anonymous(result);\n    }\n};\n\nmodule.exports = JavaScript;\n\n},{\"./anonymous\":46,\"./dimension\":56,\"./js-eval-node\":64,\"./quoted\":73}],64:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Variable = require(\"./variable\");\n\nvar JsEvalNode = function() {\n};\nJsEvalNode.prototype = new Node();\n\nJsEvalNode.prototype.evaluateJavaScript = function (expression, context) {\n    var result,\n        that = this,\n        evalContext = {};\n\n    if (context.javascriptEnabled !== undefined && !context.javascriptEnabled) {\n        throw { message: \"You are using JavaScript, which has been disabled.\",\n            filename: this.currentFileInfo.filename,\n            index: this.index };\n    }\n\n    expression = expression.replace(/@\\{([\\w-]+)\\}/g, function (_, name) {\n        return that.jsify(new Variable('@' + name, that.index, that.currentFileInfo).eval(context));\n    });\n\n    try {\n        expression = new Function('return (' + expression + ')');\n    } catch (e) {\n        throw { message: \"JavaScript evaluation error: \" + e.message + \" from `\" + expression + \"`\" ,\n            filename: this.currentFileInfo.filename,\n            index: this.index };\n    }\n\n    var variables = context.frames[0].variables();\n    for (var k in variables) {\n        if (variables.hasOwnProperty(k)) {\n            /*jshint loopfunc:true */\n            evalContext[k.slice(1)] = {\n                value: variables[k].value,\n                toJS: function () {\n                    return this.value.eval(context).toCSS();\n                }\n            };\n        }\n    }\n\n    try {\n        result = expression.call(evalContext);\n    } catch (e) {\n        throw { message: \"JavaScript evaluation error: '\" + e.name + ': ' + e.message.replace(/[\"]/g, \"'\") + \"'\" ,\n            filename: this.currentFileInfo.filename,\n            index: this.index };\n    }\n    return result;\n};\nJsEvalNode.prototype.jsify = function (obj) {\n    if (Array.isArray(obj.value) && (obj.value.length > 1)) {\n        return '[' + obj.value.map(function (v) { return v.toCSS(); }).join(', ') + ']';\n    } else {\n        return obj.toCSS();\n    }\n};\n\nmodule.exports = JsEvalNode;\n\n},{\"./node\":70,\"./variable\":82}],65:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Keyword = function (value) { this.value = value; };\nKeyword.prototype = new Node();\nKeyword.prototype.type = \"Keyword\";\nKeyword.prototype.genCSS = function (context, output) {\n    if (this.value === '%') { throw { type: \"Syntax\", message: \"Invalid % without number\" }; }\n    output.add(this.value);\n};\n\nKeyword.True = new Keyword('true');\nKeyword.False = new Keyword('false');\n\nmodule.exports = Keyword;\n\n},{\"./node\":70}],66:[function(require,module,exports){\nvar Ruleset = require(\"./ruleset\"),\n    Value = require(\"./value\"),\n    Selector = require(\"./selector\"),\n    Anonymous = require(\"./anonymous\"),\n    Expression = require(\"./expression\"),\n    Directive = require(\"./directive\");\n\nvar Media = function (value, features, index, currentFileInfo, visibilityInfo) {\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n\n    var selectors = (new Selector([], null, null, this.index, this.currentFileInfo)).createEmptySelectors();\n\n    this.features = new Value(features);\n    this.rules = [new Ruleset(selectors, value)];\n    this.rules[0].allowImports = true;\n    this.copyVisibilityInfo(visibilityInfo);\n    this.allowRoot = true;\n};\nMedia.prototype = new Directive();\nMedia.prototype.type = \"Media\";\nMedia.prototype.isRulesetLike = true;\nMedia.prototype.accept = function (visitor) {\n    if (this.features) {\n        this.features = visitor.visit(this.features);\n    }\n    if (this.rules) {\n        this.rules = visitor.visitArray(this.rules);\n    }\n};\nMedia.prototype.genCSS = function (context, output) {\n    output.add('@media ', this.currentFileInfo, this.index);\n    this.features.genCSS(context, output);\n    this.outputRuleset(context, output, this.rules);\n};\nMedia.prototype.eval = function (context) {\n    if (!context.mediaBlocks) {\n        context.mediaBlocks = [];\n        context.mediaPath = [];\n    }\n\n    var media = new Media(null, [], this.index, this.currentFileInfo, this.visibilityInfo());\n    if (this.debugInfo) {\n        this.rules[0].debugInfo = this.debugInfo;\n        media.debugInfo = this.debugInfo;\n    }\n    var strictMathBypass = false;\n    if (!context.strictMath) {\n        strictMathBypass = true;\n        context.strictMath = true;\n    }\n    try {\n        media.features = this.features.eval(context);\n    }\n    finally {\n        if (strictMathBypass) {\n            context.strictMath = false;\n        }\n    }\n\n    context.mediaPath.push(media);\n    context.mediaBlocks.push(media);\n\n    this.rules[0].functionRegistry = context.frames[0].functionRegistry.inherit();\n    context.frames.unshift(this.rules[0]);\n    media.rules = [this.rules[0].eval(context)];\n    context.frames.shift();\n\n    context.mediaPath.pop();\n\n    return context.mediaPath.length === 0 ? media.evalTop(context) :\n                media.evalNested(context);\n};\nMedia.prototype.evalTop = function (context) {\n    var result = this;\n\n    // Render all dependent Media blocks.\n    if (context.mediaBlocks.length > 1) {\n        var selectors = (new Selector([], null, null, this.index, this.currentFileInfo)).createEmptySelectors();\n        result = new Ruleset(selectors, context.mediaBlocks);\n        result.multiMedia = true;\n        result.copyVisibilityInfo(this.visibilityInfo());\n    }\n\n    delete context.mediaBlocks;\n    delete context.mediaPath;\n\n    return result;\n};\nMedia.prototype.evalNested = function (context) {\n    var i, value,\n        path = context.mediaPath.concat([this]);\n\n    // Extract the media-query conditions separated with `,` (OR).\n    for (i = 0; i < path.length; i++) {\n        value = path[i].features instanceof Value ?\n                    path[i].features.value : path[i].features;\n        path[i] = Array.isArray(value) ? value : [value];\n    }\n\n    // Trace all permutations to generate the resulting media-query.\n    //\n    // (a, b and c) with nested (d, e) ->\n    //    a and d\n    //    a and e\n    //    b and c and d\n    //    b and c and e\n    this.features = new Value(this.permute(path).map(function (path) {\n        path = path.map(function (fragment) {\n            return fragment.toCSS ? fragment : new Anonymous(fragment);\n        });\n\n        for (i = path.length - 1; i > 0; i--) {\n            path.splice(i, 0, new Anonymous(\"and\"));\n        }\n\n        return new Expression(path);\n    }));\n\n    // Fake a tree-node that doesn't output anything.\n    return new Ruleset([], []);\n};\nMedia.prototype.permute = function (arr) {\n    if (arr.length === 0) {\n        return [];\n    } else if (arr.length === 1) {\n        return arr[0];\n    } else {\n        var result = [];\n        var rest = this.permute(arr.slice(1));\n        for (var i = 0; i < rest.length; i++) {\n            for (var j = 0; j < arr[0].length; j++) {\n                result.push([arr[0][j]].concat(rest[i]));\n            }\n        }\n        return result;\n    }\n};\nMedia.prototype.bubbleSelectors = function (selectors) {\n    if (!selectors) {\n        return;\n    }\n    this.rules = [new Ruleset(selectors.slice(0), [this.rules[0]])];\n};\nmodule.exports = Media;\n\n},{\"./anonymous\":46,\"./directive\":57,\"./expression\":59,\"./ruleset\":76,\"./selector\":77,\"./value\":81}],67:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Selector = require(\"./selector\"),\n    MixinDefinition = require(\"./mixin-definition\"),\n    defaultFunc = require(\"../functions/default\");\n\nvar MixinCall = function (elements, args, index, currentFileInfo, important) {\n    this.selector = new Selector(elements);\n    this.arguments = args || [];\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n    this.important = important;\n    this.allowRoot = true;\n};\nMixinCall.prototype = new Node();\nMixinCall.prototype.type = \"MixinCall\";\nMixinCall.prototype.accept = function (visitor) {\n    if (this.selector) {\n        this.selector = visitor.visit(this.selector);\n    }\n    if (this.arguments.length) {\n        this.arguments = visitor.visitArray(this.arguments);\n    }\n};\nMixinCall.prototype.eval = function (context) {\n    var mixins, mixin, mixinPath, args = [], arg, argValue,\n        rules = [], match = false, i, m, f, isRecursive, isOneFound,\n        candidates = [], candidate, conditionResult = [], defaultResult, defFalseEitherCase = -1,\n        defNone = 0, defTrue = 1, defFalse = 2, count, originalRuleset, noArgumentsFilter;\n\n    function calcDefGroup(mixin, mixinPath) {\n        var f, p, namespace;\n\n        for (f = 0; f < 2; f++) {\n            conditionResult[f] = true;\n            defaultFunc.value(f);\n            for (p = 0; p < mixinPath.length && conditionResult[f]; p++) {\n                namespace = mixinPath[p];\n                if (namespace.matchCondition) {\n                    conditionResult[f] = conditionResult[f] && namespace.matchCondition(null, context);\n                }\n            }\n            if (mixin.matchCondition) {\n                conditionResult[f] = conditionResult[f] && mixin.matchCondition(args, context);\n            }\n        }\n        if (conditionResult[0] || conditionResult[1]) {\n            if (conditionResult[0] != conditionResult[1]) {\n                return conditionResult[1] ?\n                    defTrue : defFalse;\n            }\n\n            return defNone;\n        }\n        return defFalseEitherCase;\n    }\n\n    for (i = 0; i < this.arguments.length; i++) {\n        arg = this.arguments[i];\n        argValue = arg.value.eval(context);\n        if (arg.expand && Array.isArray(argValue.value)) {\n            argValue = argValue.value;\n            for (m = 0; m < argValue.length; m++) {\n                args.push({value: argValue[m]});\n            }\n        } else {\n            args.push({name: arg.name, value: argValue});\n        }\n    }\n\n    noArgumentsFilter = function(rule) {return rule.matchArgs(null, context);};\n\n    for (i = 0; i < context.frames.length; i++) {\n        if ((mixins = context.frames[i].find(this.selector, null, noArgumentsFilter)).length > 0) {\n            isOneFound = true;\n\n            // To make `default()` function independent of definition order we have two \"subpasses\" here.\n            // At first we evaluate each guard *twice* (with `default() == true` and `default() == false`),\n            // and build candidate list with corresponding flags. Then, when we know all possible matches,\n            // we make a final decision.\n\n            for (m = 0; m < mixins.length; m++) {\n                mixin = mixins[m].rule;\n                mixinPath = mixins[m].path;\n                isRecursive = false;\n                for (f = 0; f < context.frames.length; f++) {\n                    if ((!(mixin instanceof MixinDefinition)) && mixin === (context.frames[f].originalRuleset || context.frames[f])) {\n                        isRecursive = true;\n                        break;\n                    }\n                }\n                if (isRecursive) {\n                    continue;\n                }\n\n                if (mixin.matchArgs(args, context)) {\n                    candidate = {mixin: mixin, group: calcDefGroup(mixin, mixinPath)};\n\n                    if (candidate.group !== defFalseEitherCase) {\n                        candidates.push(candidate);\n                    }\n\n                    match = true;\n                }\n            }\n\n            defaultFunc.reset();\n\n            count = [0, 0, 0];\n            for (m = 0; m < candidates.length; m++) {\n                count[candidates[m].group]++;\n            }\n\n            if (count[defNone] > 0) {\n                defaultResult = defFalse;\n            } else {\n                defaultResult = defTrue;\n                if ((count[defTrue] + count[defFalse]) > 1) {\n                    throw { type: 'Runtime',\n                        message: 'Ambiguous use of `default()` found when matching for `' + this.format(args) + '`',\n                        index: this.index, filename: this.currentFileInfo.filename };\n                }\n            }\n\n            for (m = 0; m < candidates.length; m++) {\n                candidate = candidates[m].group;\n                if ((candidate === defNone) || (candidate === defaultResult)) {\n                    try {\n                        mixin = candidates[m].mixin;\n                        if (!(mixin instanceof MixinDefinition)) {\n                            originalRuleset = mixin.originalRuleset || mixin;\n                            mixin = new MixinDefinition(\"\", [], mixin.rules, null, false, null, originalRuleset.visibilityInfo());\n                            mixin.originalRuleset = originalRuleset;\n                        }\n                        var newRules = mixin.evalCall(context, args, this.important).rules;\n                        this._setVisibilityToReplacement(newRules);\n                        Array.prototype.push.apply(rules, newRules);\n                    } catch (e) {\n                        throw { message: e.message, index: this.index, filename: this.currentFileInfo.filename, stack: e.stack };\n                    }\n                }\n            }\n\n            if (match) {\n                return rules;\n            }\n        }\n    }\n    if (isOneFound) {\n        throw { type:    'Runtime',\n            message: 'No matching definition was found for `' + this.format(args) + '`',\n            index:   this.index, filename: this.currentFileInfo.filename };\n    } else {\n        throw { type:    'Name',\n            message: this.selector.toCSS().trim() + \" is undefined\",\n            index:   this.index, filename: this.currentFileInfo.filename };\n    }\n};\n\nMixinCall.prototype._setVisibilityToReplacement = function (replacement) {\n    var i, rule;\n    if (this.blocksVisibility()) {\n        for (i = 0; i < replacement.length; i++) {\n            rule = replacement[i];\n            rule.addVisibilityBlock();\n        }\n    }\n};\nMixinCall.prototype.format = function (args) {\n    return this.selector.toCSS().trim() + '(' +\n        (args ? args.map(function (a) {\n            var argValue = \"\";\n            if (a.name) {\n                argValue += a.name + \":\";\n            }\n            if (a.value.toCSS) {\n                argValue += a.value.toCSS();\n            } else {\n                argValue += \"???\";\n            }\n            return argValue;\n        }).join(', ') : \"\") + \")\";\n};\nmodule.exports = MixinCall;\n\n},{\"../functions/default\":20,\"./mixin-definition\":68,\"./node\":70,\"./selector\":77}],68:[function(require,module,exports){\nvar Selector = require(\"./selector\"),\n    Element = require(\"./element\"),\n    Ruleset = require(\"./ruleset\"),\n    Rule = require(\"./rule\"),\n    Expression = require(\"./expression\"),\n    contexts = require(\"../contexts\");\n\nvar Definition = function (name, params, rules, condition, variadic, frames, visibilityInfo) {\n    this.name = name;\n    this.selectors = [new Selector([new Element(null, name, this.index, this.currentFileInfo)])];\n    this.params = params;\n    this.condition = condition;\n    this.variadic = variadic;\n    this.arity = params.length;\n    this.rules = rules;\n    this._lookups = {};\n    var optionalParameters = [];\n    this.required = params.reduce(function (count, p) {\n        if (!p.name || (p.name && !p.value)) {\n            return count + 1;\n        }\n        else {\n            optionalParameters.push(p.name);\n            return count;\n        }\n    }, 0);\n    this.optionalParameters = optionalParameters;\n    this.frames = frames;\n    this.copyVisibilityInfo(visibilityInfo);\n    this.allowRoot = true;\n};\nDefinition.prototype = new Ruleset();\nDefinition.prototype.type = \"MixinDefinition\";\nDefinition.prototype.evalFirst = true;\nDefinition.prototype.accept = function (visitor) {\n    if (this.params && this.params.length) {\n        this.params = visitor.visitArray(this.params);\n    }\n    this.rules = visitor.visitArray(this.rules);\n    if (this.condition) {\n        this.condition = visitor.visit(this.condition);\n    }\n};\nDefinition.prototype.evalParams = function (context, mixinEnv, args, evaldArguments) {\n    /*jshint boss:true */\n    var frame = new Ruleset(null, null),\n        varargs, arg,\n        params = this.params.slice(0),\n        i, j, val, name, isNamedFound, argIndex, argsLength = 0;\n\n    if (mixinEnv.frames && mixinEnv.frames[0] && mixinEnv.frames[0].functionRegistry) {\n        frame.functionRegistry = mixinEnv.frames[0].functionRegistry.inherit();\n    }\n    mixinEnv = new contexts.Eval(mixinEnv, [frame].concat(mixinEnv.frames));\n\n    if (args) {\n        args = args.slice(0);\n        argsLength = args.length;\n\n        for (i = 0; i < argsLength; i++) {\n            arg = args[i];\n            if (name = (arg && arg.name)) {\n                isNamedFound = false;\n                for (j = 0; j < params.length; j++) {\n                    if (!evaldArguments[j] && name === params[j].name) {\n                        evaldArguments[j] = arg.value.eval(context);\n                        frame.prependRule(new Rule(name, arg.value.eval(context)));\n                        isNamedFound = true;\n                        break;\n                    }\n                }\n                if (isNamedFound) {\n                    args.splice(i, 1);\n                    i--;\n                    continue;\n                } else {\n                    throw { type: 'Runtime', message: \"Named argument for \" + this.name +\n                        ' ' + args[i].name + ' not found' };\n                }\n            }\n        }\n    }\n    argIndex = 0;\n    for (i = 0; i < params.length; i++) {\n        if (evaldArguments[i]) { continue; }\n\n        arg = args && args[argIndex];\n\n        if (name = params[i].name) {\n            if (params[i].variadic) {\n                varargs = [];\n                for (j = argIndex; j < argsLength; j++) {\n                    varargs.push(args[j].value.eval(context));\n                }\n                frame.prependRule(new Rule(name, new Expression(varargs).eval(context)));\n            } else {\n                val = arg && arg.value;\n                if (val) {\n                    val = val.eval(context);\n                } else if (params[i].value) {\n                    val = params[i].value.eval(mixinEnv);\n                    frame.resetCache();\n                } else {\n                    throw { type: 'Runtime', message: \"wrong number of arguments for \" + this.name +\n                        ' (' + argsLength + ' for ' + this.arity + ')' };\n                }\n\n                frame.prependRule(new Rule(name, val));\n                evaldArguments[i] = val;\n            }\n        }\n\n        if (params[i].variadic && args) {\n            for (j = argIndex; j < argsLength; j++) {\n                evaldArguments[j] = args[j].value.eval(context);\n            }\n        }\n        argIndex++;\n    }\n\n    return frame;\n};\nDefinition.prototype.makeImportant = function() {\n    var rules = !this.rules ? this.rules : this.rules.map(function (r) {\n        if (r.makeImportant) {\n            return r.makeImportant(true);\n        } else {\n            return r;\n        }\n    });\n    var result = new Definition(this.name, this.params, rules, this.condition, this.variadic, this.frames);\n    return result;\n};\nDefinition.prototype.eval = function (context) {\n    return new Definition(this.name, this.params, this.rules, this.condition, this.variadic, this.frames || context.frames.slice(0));\n};\nDefinition.prototype.evalCall = function (context, args, important) {\n    var _arguments = [],\n        mixinFrames = this.frames ? this.frames.concat(context.frames) : context.frames,\n        frame = this.evalParams(context, new contexts.Eval(context, mixinFrames), args, _arguments),\n        rules, ruleset;\n\n    frame.prependRule(new Rule('@arguments', new Expression(_arguments).eval(context)));\n\n    rules = this.rules.slice(0);\n\n    ruleset = new Ruleset(null, rules);\n    ruleset.originalRuleset = this;\n    ruleset = ruleset.eval(new contexts.Eval(context, [this, frame].concat(mixinFrames)));\n    if (important) {\n        ruleset = ruleset.makeImportant();\n    }\n    return ruleset;\n};\nDefinition.prototype.matchCondition = function (args, context) {\n    if (this.condition && !this.condition.eval(\n        new contexts.Eval(context,\n            [this.evalParams(context, /* the parameter variables*/\n                new contexts.Eval(context, this.frames ? this.frames.concat(context.frames) : context.frames), args, [])]\n            .concat(this.frames || []) // the parent namespace/mixin frames\n            .concat(context.frames)))) { // the current environment frames\n        return false;\n    }\n    return true;\n};\nDefinition.prototype.matchArgs = function (args, context) {\n    var allArgsCnt = (args && args.length) || 0, len, optionalParameters = this.optionalParameters;\n    var requiredArgsCnt = !args ? 0 : args.reduce(function (count, p) {\n        if (optionalParameters.indexOf(p.name) < 0) {\n            return count + 1;\n        } else {\n            return count;\n        }\n    }, 0);\n\n    if (! this.variadic) {\n        if (requiredArgsCnt < this.required) {\n            return false;\n        }\n        if (allArgsCnt > this.params.length) {\n            return false;\n        }\n    } else {\n        if (requiredArgsCnt < (this.required - 1)) {\n            return false;\n        }\n    }\n\n    // check patterns\n    len = Math.min(requiredArgsCnt, this.arity);\n\n    for (var i = 0; i < len; i++) {\n        if (!this.params[i].name && !this.params[i].variadic) {\n            if (args[i].value.eval(context).toCSS() != this.params[i].value.eval(context).toCSS()) {\n                return false;\n            }\n        }\n    }\n    return true;\n};\nmodule.exports = Definition;\n\n},{\"../contexts\":11,\"./element\":58,\"./expression\":59,\"./rule\":74,\"./ruleset\":76,\"./selector\":77}],69:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Operation = require(\"./operation\"),\n    Dimension = require(\"./dimension\");\n\nvar Negative = function (node) {\n    this.value = node;\n};\nNegative.prototype = new Node();\nNegative.prototype.type = \"Negative\";\nNegative.prototype.genCSS = function (context, output) {\n    output.add('-');\n    this.value.genCSS(context, output);\n};\nNegative.prototype.eval = function (context) {\n    if (context.isMathOn()) {\n        return (new Operation('*', [new Dimension(-1), this.value])).eval(context);\n    }\n    return new Negative(this.value.eval(context));\n};\nmodule.exports = Negative;\n\n},{\"./dimension\":56,\"./node\":70,\"./operation\":71}],70:[function(require,module,exports){\nvar Node = function() {\n};\nNode.prototype.toCSS = function (context) {\n    var strs = [];\n    this.genCSS(context, {\n        add: function(chunk, fileInfo, index) {\n            strs.push(chunk);\n        },\n        isEmpty: function () {\n            return strs.length === 0;\n        }\n    });\n    return strs.join('');\n};\nNode.prototype.genCSS = function (context, output) {\n    output.add(this.value);\n};\nNode.prototype.accept = function (visitor) {\n    this.value = visitor.visit(this.value);\n};\nNode.prototype.eval = function () { return this; };\nNode.prototype._operate = function (context, op, a, b) {\n    switch (op) {\n        case '+': return a + b;\n        case '-': return a - b;\n        case '*': return a * b;\n        case '/': return a / b;\n    }\n};\nNode.prototype.fround = function(context, value) {\n    var precision = context && context.numPrecision;\n    //add \"epsilon\" to ensure numbers like 1.000000005 (represented as 1.000000004999....) are properly rounded...\n    return (precision == null) ? value : Number((value + 2e-16).toFixed(precision));\n};\nNode.compare = function (a, b) {\n    /* returns:\n     -1: a < b\n     0: a = b\n     1: a > b\n     and *any* other value for a != b (e.g. undefined, NaN, -2 etc.) */\n\n    if ((a.compare) &&\n        // for \"symmetric results\" force toCSS-based comparison\n        // of Quoted or Anonymous if either value is one of those\n        !(b.type === \"Quoted\" || b.type === \"Anonymous\")) {\n        return a.compare(b);\n    } else if (b.compare) {\n        return -b.compare(a);\n    } else if (a.type !== b.type) {\n        return undefined;\n    }\n\n    a = a.value;\n    b = b.value;\n    if (!Array.isArray(a)) {\n        return a === b ? 0 : undefined;\n    }\n    if (a.length !== b.length) {\n        return undefined;\n    }\n    for (var i = 0; i < a.length; i++) {\n        if (Node.compare(a[i], b[i]) !== 0) {\n            return undefined;\n        }\n    }\n    return 0;\n};\n\nNode.numericCompare = function (a, b) {\n    return a  <  b ? -1\n        : a === b ?  0\n        : a  >  b ?  1 : undefined;\n};\n// Returns true if this node represents root of ast imported by reference\nNode.prototype.blocksVisibility = function () {\n    if (this.visibilityBlocks == null) {\n        this.visibilityBlocks = 0;\n    }\n    return this.visibilityBlocks !== 0;\n};\nNode.prototype.addVisibilityBlock = function () {\n    if (this.visibilityBlocks == null) {\n        this.visibilityBlocks = 0;\n    }\n    this.visibilityBlocks = this.visibilityBlocks + 1;\n};\nNode.prototype.removeVisibilityBlock = function () {\n    if (this.visibilityBlocks == null) {\n        this.visibilityBlocks = 0;\n    }\n    this.visibilityBlocks = this.visibilityBlocks - 1;\n};\n//Turns on node visibility - if called node will be shown in output regardless\n//of whether it comes from import by reference or not\nNode.prototype.ensureVisibility = function () {\n    this.nodeVisible = true;\n};\n//Turns off node visibility - if called node will NOT be shown in output regardless\n//of whether it comes from import by reference or not\nNode.prototype.ensureInvisibility = function () {\n    this.nodeVisible = false;\n};\n// return values:\n// false - the node must not be visible\n// true - the node must be visible\n// undefined or null - the node has the same visibility as its parent\nNode.prototype.isVisible = function () {\n    return this.nodeVisible;\n};\nNode.prototype.visibilityInfo = function() {\n    return {\n        visibilityBlocks: this.visibilityBlocks,\n        nodeVisible: this.nodeVisible\n    };\n};\nNode.prototype.copyVisibilityInfo = function(info) {\n    if (!info) {\n        return;\n    }\n    this.visibilityBlocks = info.visibilityBlocks;\n    this.nodeVisible = info.nodeVisible;\n};\nmodule.exports = Node;\n\n},{}],71:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Color = require(\"./color\"),\n    Dimension = require(\"./dimension\");\n\nvar Operation = function (op, operands, isSpaced) {\n    this.op = op.trim();\n    this.operands = operands;\n    this.isSpaced = isSpaced;\n};\nOperation.prototype = new Node();\nOperation.prototype.type = \"Operation\";\nOperation.prototype.accept = function (visitor) {\n    this.operands = visitor.visit(this.operands);\n};\nOperation.prototype.eval = function (context) {\n    var a = this.operands[0].eval(context),\n        b = this.operands[1].eval(context);\n\n    if (context.isMathOn()) {\n        if (a instanceof Dimension && b instanceof Color) {\n            a = a.toColor();\n        }\n        if (b instanceof Dimension && a instanceof Color) {\n            b = b.toColor();\n        }\n        if (!a.operate) {\n            throw { type: \"Operation\",\n                    message: \"Operation on an invalid type\" };\n        }\n\n        return a.operate(context, this.op, b);\n    } else {\n        return new Operation(this.op, [a, b], this.isSpaced);\n    }\n};\nOperation.prototype.genCSS = function (context, output) {\n    this.operands[0].genCSS(context, output);\n    if (this.isSpaced) {\n        output.add(\" \");\n    }\n    output.add(this.op);\n    if (this.isSpaced) {\n        output.add(\" \");\n    }\n    this.operands[1].genCSS(context, output);\n};\n\nmodule.exports = Operation;\n\n},{\"./color\":50,\"./dimension\":56,\"./node\":70}],72:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Paren = function (node) {\n    this.value = node;\n};\nParen.prototype = new Node();\nParen.prototype.type = \"Paren\";\nParen.prototype.genCSS = function (context, output) {\n    output.add('(');\n    this.value.genCSS(context, output);\n    output.add(')');\n};\nParen.prototype.eval = function (context) {\n    return new Paren(this.value.eval(context));\n};\nmodule.exports = Paren;\n\n},{\"./node\":70}],73:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    JsEvalNode = require(\"./js-eval-node\"),\n    Variable = require(\"./variable\");\n\nvar Quoted = function (str, content, escaped, index, currentFileInfo) {\n    this.escaped = (escaped == null) ? true : escaped;\n    this.value = content || '';\n    this.quote = str.charAt(0);\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n};\nQuoted.prototype = new JsEvalNode();\nQuoted.prototype.type = \"Quoted\";\nQuoted.prototype.genCSS = function (context, output) {\n    if (!this.escaped) {\n        output.add(this.quote, this.currentFileInfo, this.index);\n    }\n    output.add(this.value);\n    if (!this.escaped) {\n        output.add(this.quote);\n    }\n};\nQuoted.prototype.containsVariables = function() {\n    return this.value.match(/(`([^`]+)`)|@\\{([\\w-]+)\\}/);\n};\nQuoted.prototype.eval = function (context) {\n    var that = this, value = this.value;\n    var javascriptReplacement = function (_, exp) {\n        return String(that.evaluateJavaScript(exp, context));\n    };\n    var interpolationReplacement = function (_, name) {\n        var v = new Variable('@' + name, that.index, that.currentFileInfo).eval(context, true);\n        return (v instanceof Quoted) ? v.value : v.toCSS();\n    };\n    function iterativeReplace(value, regexp, replacementFnc) {\n        var evaluatedValue = value;\n        do {\n            value = evaluatedValue;\n            evaluatedValue = value.replace(regexp, replacementFnc);\n        } while (value !== evaluatedValue);\n        return evaluatedValue;\n    }\n    value = iterativeReplace(value, /`([^`]+)`/g, javascriptReplacement);\n    value = iterativeReplace(value, /@\\{([\\w-]+)\\}/g, interpolationReplacement);\n    return new Quoted(this.quote + value + this.quote, value, this.escaped, this.index, this.currentFileInfo);\n};\nQuoted.prototype.compare = function (other) {\n    // when comparing quoted strings allow the quote to differ\n    if (other.type === \"Quoted\" && !this.escaped && !other.escaped) {\n        return Node.numericCompare(this.value, other.value);\n    } else {\n        return other.toCSS && this.toCSS() === other.toCSS() ? 0 : undefined;\n    }\n};\nmodule.exports = Quoted;\n\n},{\"./js-eval-node\":64,\"./node\":70,\"./variable\":82}],74:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Value = require(\"./value\"),\n    Keyword = require(\"./keyword\");\n\nvar Rule = function (name, value, important, merge, index, currentFileInfo, inline, variable) {\n    this.name = name;\n    this.value = (value instanceof Node) ? value : new Value([value]); //value instanceof tree.Value || value instanceof tree.Ruleset ??\n    this.important = important ? ' ' + important.trim() : '';\n    this.merge = merge;\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n    this.inline = inline || false;\n    this.variable = (variable !== undefined) ? variable\n        : (name.charAt && (name.charAt(0) === '@'));\n    this.allowRoot = true;\n};\n\nfunction evalName(context, name) {\n    var value = \"\", i, n = name.length,\n        output = {add: function (s) {value += s;}};\n    for (i = 0; i < n; i++) {\n        name[i].eval(context).genCSS(context, output);\n    }\n    return value;\n}\n\nRule.prototype = new Node();\nRule.prototype.type = \"Rule\";\nRule.prototype.genCSS = function (context, output) {\n    output.add(this.name + (context.compress ? ':' : ': '), this.currentFileInfo, this.index);\n    try {\n        this.value.genCSS(context, output);\n    }\n    catch(e) {\n        e.index = this.index;\n        e.filename = this.currentFileInfo.filename;\n        throw e;\n    }\n    output.add(this.important + ((this.inline || (context.lastRule && context.compress)) ? \"\" : \";\"), this.currentFileInfo, this.index);\n};\nRule.prototype.eval = function (context) {\n    var strictMathBypass = false, name = this.name, evaldValue, variable = this.variable;\n    if (typeof name !== \"string\") {\n        // expand 'primitive' name directly to get\n        // things faster (~10% for benchmark.less):\n        name = (name.length === 1) && (name[0] instanceof Keyword) ?\n                name[0].value : evalName(context, name);\n        variable = false; // never treat expanded interpolation as new variable name\n    }\n    if (name === \"font\" && !context.strictMath) {\n        strictMathBypass = true;\n        context.strictMath = true;\n    }\n    try {\n        context.importantScope.push({});\n        evaldValue = this.value.eval(context);\n\n        if (!this.variable && evaldValue.type === \"DetachedRuleset\") {\n            throw { message: \"Rulesets cannot be evaluated on a property.\",\n                    index: this.index, filename: this.currentFileInfo.filename };\n        }\n        var important = this.important,\n            importantResult = context.importantScope.pop();\n        if (!important && importantResult.important) {\n            important = importantResult.important;\n        }\n\n        return new Rule(name,\n                          evaldValue,\n                          important,\n                          this.merge,\n                          this.index, this.currentFileInfo, this.inline,\n                              variable);\n    }\n    catch(e) {\n        if (typeof e.index !== 'number') {\n            e.index = this.index;\n            e.filename = this.currentFileInfo.filename;\n        }\n        throw e;\n    }\n    finally {\n        if (strictMathBypass) {\n            context.strictMath = false;\n        }\n    }\n};\nRule.prototype.makeImportant = function () {\n    return new Rule(this.name,\n                          this.value,\n                          \"!important\",\n                          this.merge,\n                          this.index, this.currentFileInfo, this.inline);\n};\n\nmodule.exports = Rule;\n},{\"./keyword\":65,\"./node\":70,\"./value\":81}],75:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Variable = require(\"./variable\");\n\nvar RulesetCall = function (variable) {\n    this.variable = variable;\n    this.allowRoot = true;\n};\nRulesetCall.prototype = new Node();\nRulesetCall.prototype.type = \"RulesetCall\";\nRulesetCall.prototype.eval = function (context) {\n    var detachedRuleset = new Variable(this.variable).eval(context);\n    return detachedRuleset.callEval(context);\n};\nmodule.exports = RulesetCall;\n\n},{\"./node\":70,\"./variable\":82}],76:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Rule = require(\"./rule\"),\n    Selector = require(\"./selector\"),\n    Element = require(\"./element\"),\n    Paren = require(\"./paren\"),\n    contexts = require(\"../contexts\"),\n    globalFunctionRegistry = require(\"../functions/function-registry\"),\n    defaultFunc = require(\"../functions/default\"),\n    getDebugInfo = require(\"./debug-info\");\n\nvar Ruleset = function (selectors, rules, strictImports, visibilityInfo) {\n    this.selectors = selectors;\n    this.rules = rules;\n    this._lookups = {};\n    this.strictImports = strictImports;\n    this.copyVisibilityInfo(visibilityInfo);\n    this.allowRoot = true;\n};\nRuleset.prototype = new Node();\nRuleset.prototype.type = \"Ruleset\";\nRuleset.prototype.isRuleset = true;\nRuleset.prototype.isRulesetLike = true;\nRuleset.prototype.accept = function (visitor) {\n    if (this.paths) {\n        this.paths = visitor.visitArray(this.paths, true);\n    } else if (this.selectors) {\n        this.selectors = visitor.visitArray(this.selectors);\n    }\n    if (this.rules && this.rules.length) {\n        this.rules = visitor.visitArray(this.rules);\n    }\n};\nRuleset.prototype.eval = function (context) {\n    var thisSelectors = this.selectors, selectors,\n        selCnt, selector, i, hasOnePassingSelector = false;\n\n    if (thisSelectors && (selCnt = thisSelectors.length)) {\n        selectors = [];\n        defaultFunc.error({\n            type: \"Syntax\",\n            message: \"it is currently only allowed in parametric mixin guards,\"\n        });\n        for (i = 0; i < selCnt; i++) {\n            selector = thisSelectors[i].eval(context);\n            selectors.push(selector);\n            if (selector.evaldCondition) {\n                hasOnePassingSelector = true;\n            }\n        }\n        defaultFunc.reset();\n    } else {\n        hasOnePassingSelector = true;\n    }\n\n    var rules = this.rules ? this.rules.slice(0) : null,\n        ruleset = new Ruleset(selectors, rules, this.strictImports, this.visibilityInfo()),\n        rule, subRule;\n\n    ruleset.originalRuleset = this;\n    ruleset.root = this.root;\n    ruleset.firstRoot = this.firstRoot;\n    ruleset.allowImports = this.allowImports;\n\n    if (this.debugInfo) {\n        ruleset.debugInfo = this.debugInfo;\n    }\n\n    if (!hasOnePassingSelector) {\n        rules.length = 0;\n    }\n\n    // inherit a function registry from the frames stack when possible;\n    // otherwise from the global registry\n    ruleset.functionRegistry = (function (frames) {\n        var i = 0,\n            n = frames.length,\n            found;\n        for ( ; i !== n ; ++i ) {\n            found = frames[ i ].functionRegistry;\n            if ( found ) { return found; }\n        }\n        return globalFunctionRegistry;\n    }(context.frames)).inherit();\n\n    // push the current ruleset to the frames stack\n    var ctxFrames = context.frames;\n    ctxFrames.unshift(ruleset);\n\n    // currrent selectors\n    var ctxSelectors = context.selectors;\n    if (!ctxSelectors) {\n        context.selectors = ctxSelectors = [];\n    }\n    ctxSelectors.unshift(this.selectors);\n\n    // Evaluate imports\n    if (ruleset.root || ruleset.allowImports || !ruleset.strictImports) {\n        ruleset.evalImports(context);\n    }\n\n    // Store the frames around mixin definitions,\n    // so they can be evaluated like closures when the time comes.\n    var rsRules = ruleset.rules, rsRuleCnt = rsRules ? rsRules.length : 0;\n    for (i = 0; i < rsRuleCnt; i++) {\n        if (rsRules[i].evalFirst) {\n            rsRules[i] = rsRules[i].eval(context);\n        }\n    }\n\n    var mediaBlockCount = (context.mediaBlocks && context.mediaBlocks.length) || 0;\n\n    // Evaluate mixin calls.\n    for (i = 0; i < rsRuleCnt; i++) {\n        if (rsRules[i].type === \"MixinCall\") {\n            /*jshint loopfunc:true */\n            rules = rsRules[i].eval(context).filter(function(r) {\n                if ((r instanceof Rule) && r.variable) {\n                    // do not pollute the scope if the variable is\n                    // already there. consider returning false here\n                    // but we need a way to \"return\" variable from mixins\n                    return !(ruleset.variable(r.name));\n                }\n                return true;\n            });\n            rsRules.splice.apply(rsRules, [i, 1].concat(rules));\n            rsRuleCnt += rules.length - 1;\n            i += rules.length - 1;\n            ruleset.resetCache();\n        } else if (rsRules[i].type === \"RulesetCall\") {\n            /*jshint loopfunc:true */\n            rules = rsRules[i].eval(context).rules.filter(function(r) {\n                if ((r instanceof Rule) && r.variable) {\n                    // do not pollute the scope at all\n                    return false;\n                }\n                return true;\n            });\n            rsRules.splice.apply(rsRules, [i, 1].concat(rules));\n            rsRuleCnt += rules.length - 1;\n            i += rules.length - 1;\n            ruleset.resetCache();\n        }\n    }\n\n    // Evaluate everything else\n    for (i = 0; i < rsRules.length; i++) {\n        rule = rsRules[i];\n        if (!rule.evalFirst) {\n            rsRules[i] = rule = rule.eval ? rule.eval(context) : rule;\n        }\n    }\n\n    // Evaluate everything else\n    for (i = 0; i < rsRules.length; i++) {\n        rule = rsRules[i];\n        // for rulesets, check if it is a css guard and can be removed\n        if (rule instanceof Ruleset && rule.selectors && rule.selectors.length === 1) {\n            // check if it can be folded in (e.g. & where)\n            if (rule.selectors[0].isJustParentSelector()) {\n                rsRules.splice(i--, 1);\n\n                for (var j = 0; j < rule.rules.length; j++) {\n                    subRule = rule.rules[j];\n                    subRule.copyVisibilityInfo(rule.visibilityInfo());\n                    if (!(subRule instanceof Rule) || !subRule.variable) {\n                        rsRules.splice(++i, 0, subRule);\n                    }\n                }\n            }\n        }\n    }\n\n    // Pop the stack\n    ctxFrames.shift();\n    ctxSelectors.shift();\n\n    if (context.mediaBlocks) {\n        for (i = mediaBlockCount; i < context.mediaBlocks.length; i++) {\n            context.mediaBlocks[i].bubbleSelectors(selectors);\n        }\n    }\n\n    return ruleset;\n};\nRuleset.prototype.evalImports = function(context) {\n    var rules = this.rules, i, importRules;\n    if (!rules) { return; }\n\n    for (i = 0; i < rules.length; i++) {\n        if (rules[i].type === \"Import\") {\n            importRules = rules[i].eval(context);\n            if (importRules && (importRules.length || importRules.length === 0)) {\n                rules.splice.apply(rules, [i, 1].concat(importRules));\n                i+= importRules.length - 1;\n            } else {\n                rules.splice(i, 1, importRules);\n            }\n            this.resetCache();\n        }\n    }\n};\nRuleset.prototype.makeImportant = function() {\n    var result = new Ruleset(this.selectors, this.rules.map(function (r) {\n        if (r.makeImportant) {\n            return r.makeImportant();\n        } else {\n            return r;\n        }\n    }), this.strictImports, this.visibilityInfo());\n\n    return result;\n};\nRuleset.prototype.matchArgs = function (args) {\n    return !args || args.length === 0;\n};\n// lets you call a css selector with a guard\nRuleset.prototype.matchCondition = function (args, context) {\n    var lastSelector = this.selectors[this.selectors.length - 1];\n    if (!lastSelector.evaldCondition) {\n        return false;\n    }\n    if (lastSelector.condition &&\n        !lastSelector.condition.eval(\n            new contexts.Eval(context,\n                context.frames))) {\n        return false;\n    }\n    return true;\n};\nRuleset.prototype.resetCache = function () {\n    this._rulesets = null;\n    this._variables = null;\n    this._lookups = {};\n};\nRuleset.prototype.variables = function () {\n    if (!this._variables) {\n        this._variables = !this.rules ? {} : this.rules.reduce(function (hash, r) {\n            if (r instanceof Rule && r.variable === true) {\n                hash[r.name] = r;\n            }\n            // when evaluating variables in an import statement, imports have not been eval'd\n            // so we need to go inside import statements.\n            // guard against root being a string (in the case of inlined less)\n            if (r.type === \"Import\" && r.root && r.root.variables) {\n                var vars = r.root.variables();\n                for (var name in vars) {\n                    if (vars.hasOwnProperty(name)) {\n                        hash[name] = vars[name];\n                    }\n                }\n            }\n            return hash;\n        }, {});\n    }\n    return this._variables;\n};\nRuleset.prototype.variable = function (name) {\n    return this.variables()[name];\n};\nRuleset.prototype.rulesets = function () {\n    if (!this.rules) { return []; }\n\n    var filtRules = [], rules = this.rules, cnt = rules.length,\n        i, rule;\n\n    for (i = 0; i < cnt; i++) {\n        rule = rules[i];\n        if (rule.isRuleset) {\n            filtRules.push(rule);\n        }\n    }\n\n    return filtRules;\n};\nRuleset.prototype.prependRule = function (rule) {\n    var rules = this.rules;\n    if (rules) {\n        rules.unshift(rule);\n    } else {\n        this.rules = [ rule ];\n    }\n};\nRuleset.prototype.find = function (selector, self, filter) {\n    self = self || this;\n    var rules = [], match, foundMixins,\n        key = selector.toCSS();\n\n    if (key in this._lookups) { return this._lookups[key]; }\n\n    this.rulesets().forEach(function (rule) {\n        if (rule !== self) {\n            for (var j = 0; j < rule.selectors.length; j++) {\n                match = selector.match(rule.selectors[j]);\n                if (match) {\n                    if (selector.elements.length > match) {\n                        if (!filter || filter(rule)) {\n                            foundMixins = rule.find(new Selector(selector.elements.slice(match)), self, filter);\n                            for (var i = 0; i < foundMixins.length; ++i) {\n                                foundMixins[i].path.push(rule);\n                            }\n                            Array.prototype.push.apply(rules, foundMixins);\n                        }\n                    } else {\n                        rules.push({ rule: rule, path: []});\n                    }\n                    break;\n                }\n            }\n        }\n    });\n    this._lookups[key] = rules;\n    return rules;\n};\nRuleset.prototype.genCSS = function (context, output) {\n    var i, j,\n        charsetRuleNodes = [],\n        ruleNodes = [],\n        debugInfo,     // Line number debugging\n        rule,\n        path;\n\n    context.tabLevel = (context.tabLevel || 0);\n\n    if (!this.root) {\n        context.tabLevel++;\n    }\n\n    var tabRuleStr = context.compress ? '' : Array(context.tabLevel + 1).join(\"  \"),\n        tabSetStr = context.compress ? '' : Array(context.tabLevel).join(\"  \"),\n        sep;\n\n    function isRulesetLikeNode(rule) {\n        // if it has nested rules, then it should be treated like a ruleset\n        // medias and comments do not have nested rules, but should be treated like rulesets anyway\n        // some directives and anonymous nodes are ruleset like, others are not\n        if (typeof rule.isRulesetLike === \"boolean\") {\n            return rule.isRulesetLike;\n        } else if (typeof rule.isRulesetLike === \"function\") {\n            return rule.isRulesetLike();\n        }\n\n        //anything else is assumed to be a rule\n        return false;\n    }\n\n    var charsetNodeIndex = 0;\n    var importNodeIndex = 0;\n    for (i = 0; i < this.rules.length; i++) {\n        rule = this.rules[i];\n        if (rule.type === \"Comment\") {\n            if (importNodeIndex === i) {\n                importNodeIndex++;\n            }\n            ruleNodes.push(rule);\n        } else if (rule.isCharset && rule.isCharset()) {\n            ruleNodes.splice(charsetNodeIndex, 0, rule);\n            charsetNodeIndex++;\n            importNodeIndex++;\n        } else if (rule.type === \"Import\") {\n            ruleNodes.splice(importNodeIndex, 0, rule);\n            importNodeIndex++;\n        } else {\n            ruleNodes.push(rule);\n        }\n    }\n    ruleNodes = charsetRuleNodes.concat(ruleNodes);\n\n    // If this is the root node, we don't render\n    // a selector, or {}.\n    if (!this.root) {\n        debugInfo = getDebugInfo(context, this, tabSetStr);\n\n        if (debugInfo) {\n            output.add(debugInfo);\n            output.add(tabSetStr);\n        }\n\n        var paths = this.paths, pathCnt = paths.length,\n            pathSubCnt;\n\n        sep = context.compress ? ',' : (',\\n' + tabSetStr);\n\n        for (i = 0; i < pathCnt; i++) {\n            path = paths[i];\n            if (!(pathSubCnt = path.length)) { continue; }\n            if (i > 0) { output.add(sep); }\n\n            context.firstSelector = true;\n            path[0].genCSS(context, output);\n\n            context.firstSelector = false;\n            for (j = 1; j < pathSubCnt; j++) {\n                path[j].genCSS(context, output);\n            }\n        }\n\n        output.add((context.compress ? '{' : ' {\\n') + tabRuleStr);\n    }\n\n    // Compile rules and rulesets\n    for (i = 0; i < ruleNodes.length; i++) {\n        rule = ruleNodes[i];\n\n        if (i + 1 === ruleNodes.length) {\n            context.lastRule = true;\n        }\n\n        var currentLastRule = context.lastRule;\n        if (isRulesetLikeNode(rule)) {\n            context.lastRule = false;\n        }\n\n        if (rule.genCSS) {\n            rule.genCSS(context, output);\n        } else if (rule.value) {\n            output.add(rule.value.toString());\n        }\n\n        context.lastRule = currentLastRule;\n\n        if (!context.lastRule) {\n            output.add(context.compress ? '' : ('\\n' + tabRuleStr));\n        } else {\n            context.lastRule = false;\n        }\n    }\n\n    if (!this.root) {\n        output.add((context.compress ? '}' : '\\n' + tabSetStr + '}'));\n        context.tabLevel--;\n    }\n\n    if (!output.isEmpty() && !context.compress && this.firstRoot) {\n        output.add('\\n');\n    }\n};\n\nRuleset.prototype.joinSelectors = function (paths, context, selectors) {\n    for (var s = 0; s < selectors.length; s++) {\n        this.joinSelector(paths, context, selectors[s]);\n    }\n};\n\nRuleset.prototype.joinSelector = function (paths, context, selector) {\n\n    function createParenthesis(elementsToPak, originalElement) {\n        var replacementParen, j;\n        if (elementsToPak.length === 0) {\n            replacementParen = new Paren(elementsToPak[0]);\n        } else {\n            var insideParent = [];\n            for (j = 0; j < elementsToPak.length; j++) {\n                insideParent.push(new Element(null, elementsToPak[j], originalElement.index, originalElement.currentFileInfo));\n            }\n            replacementParen = new Paren(new Selector(insideParent));\n        }\n        return replacementParen;\n    }\n\n    function createSelector(containedElement, originalElement) {\n        var element, selector;\n        element = new Element(null, containedElement, originalElement.index, originalElement.currentFileInfo);\n        selector = new Selector([element]);\n        return selector;\n    }\n\n    // joins selector path from `beginningPath` with selector path in `addPath`\n    // `replacedElement` contains element that is being replaced by `addPath`\n    // returns concatenated path\n    function addReplacementIntoPath(beginningPath, addPath, replacedElement, originalSelector) {\n        var newSelectorPath, lastSelector, newJoinedSelector;\n        // our new selector path\n        newSelectorPath = [];\n\n        //construct the joined selector - if & is the first thing this will be empty,\n        // if not newJoinedSelector will be the last set of elements in the selector\n        if (beginningPath.length > 0) {\n            newSelectorPath = beginningPath.slice(0);\n            lastSelector = newSelectorPath.pop();\n            newJoinedSelector = originalSelector.createDerived(lastSelector.elements.slice(0));\n        }\n        else {\n            newJoinedSelector = originalSelector.createDerived([]);\n        }\n\n        if (addPath.length > 0) {\n            // /deep/ is a combinator that is valid without anything in front of it\n            // so if the & does not have a combinator that is \"\" or \" \" then\n            // and there is a combinator on the parent, then grab that.\n            // this also allows + a { & .b { .a & { ... though not sure why you would want to do that\n            var combinator = replacedElement.combinator, parentEl = addPath[0].elements[0];\n            if (combinator.emptyOrWhitespace && !parentEl.combinator.emptyOrWhitespace) {\n                combinator = parentEl.combinator;\n            }\n            // join the elements so far with the first part of the parent\n            newJoinedSelector.elements.push(new Element(combinator, parentEl.value, replacedElement.index, replacedElement.currentFileInfo));\n            newJoinedSelector.elements = newJoinedSelector.elements.concat(addPath[0].elements.slice(1));\n        }\n\n        // now add the joined selector - but only if it is not empty\n        if (newJoinedSelector.elements.length !== 0) {\n            newSelectorPath.push(newJoinedSelector);\n        }\n\n        //put together the parent selectors after the join (e.g. the rest of the parent)\n        if (addPath.length > 1) {\n            var restOfPath = addPath.slice(1);\n            restOfPath = restOfPath.map(function (selector) {\n                return selector.createDerived(selector.elements, []);\n            });\n            newSelectorPath = newSelectorPath.concat(restOfPath);\n        }\n        return newSelectorPath;\n    }\n\n    // joins selector path from `beginningPath` with every selector path in `addPaths` array\n    // `replacedElement` contains element that is being replaced by `addPath`\n    // returns array with all concatenated paths\n    function addAllReplacementsIntoPath( beginningPath, addPaths, replacedElement, originalSelector, result) {\n        var j;\n        for (j = 0; j < beginningPath.length; j++) {\n            var newSelectorPath = addReplacementIntoPath(beginningPath[j], addPaths, replacedElement, originalSelector);\n            result.push(newSelectorPath);\n        }\n        return result;\n    }\n\n    function mergeElementsOnToSelectors(elements, selectors) {\n        var i, sel;\n\n        if (elements.length === 0) {\n            return ;\n        }\n        if (selectors.length === 0) {\n            selectors.push([ new Selector(elements) ]);\n            return;\n        }\n\n        for (i = 0; i < selectors.length; i++) {\n            sel = selectors[i];\n\n            // if the previous thing in sel is a parent this needs to join on to it\n            if (sel.length > 0) {\n                sel[sel.length - 1] = sel[sel.length - 1].createDerived(sel[sel.length - 1].elements.concat(elements));\n            }\n            else {\n                sel.push(new Selector(elements));\n            }\n        }\n    }\n\n    // replace all parent selectors inside `inSelector` by content of `context` array\n    // resulting selectors are returned inside `paths` array\n    // returns true if `inSelector` contained at least one parent selector\n    function replaceParentSelector(paths, context, inSelector) {\n        // The paths are [[Selector]]\n        // The first list is a list of comma separated selectors\n        // The inner list is a list of inheritance separated selectors\n        // e.g.\n        // .a, .b {\n        //   .c {\n        //   }\n        // }\n        // == [[.a] [.c]] [[.b] [.c]]\n        //\n        var i, j, k, currentElements, newSelectors, selectorsMultiplied, sel, el, hadParentSelector = false, length, lastSelector;\n        function findNestedSelector(element) {\n            var maybeSelector;\n            if (element.value.type !== 'Paren') {\n                return null;\n            }\n\n            maybeSelector = element.value.value;\n            if (maybeSelector.type !== 'Selector') {\n                return null;\n            }\n\n            return maybeSelector;\n        }\n\n        // the elements from the current selector so far\n        currentElements = [];\n        // the current list of new selectors to add to the path.\n        // We will build it up. We initiate it with one empty selector as we \"multiply\" the new selectors\n        // by the parents\n        newSelectors = [\n            []\n        ];\n\n        for (i = 0; i < inSelector.elements.length; i++) {\n            el = inSelector.elements[i];\n            // non parent reference elements just get added\n            if (el.value !== \"&\") {\n                var nestedSelector = findNestedSelector(el);\n                if (nestedSelector != null) {\n                    // merge the current list of non parent selector elements\n                    // on to the current list of selectors to add\n                    mergeElementsOnToSelectors(currentElements, newSelectors);\n\n                    var nestedPaths = [], replaced, replacedNewSelectors = [];\n                    replaced = replaceParentSelector(nestedPaths, context, nestedSelector);\n                    hadParentSelector = hadParentSelector || replaced;\n                    //the nestedPaths array should have only one member - replaceParentSelector does not multiply selectors\n                    for (k = 0; k < nestedPaths.length; k++) {\n                        var replacementSelector = createSelector(createParenthesis(nestedPaths[k], el), el);\n                        addAllReplacementsIntoPath(newSelectors, [replacementSelector], el, inSelector, replacedNewSelectors);\n                    }\n                    newSelectors = replacedNewSelectors;\n                    currentElements = [];\n\n                } else {\n                    currentElements.push(el);\n                }\n\n            } else {\n                hadParentSelector = true;\n                // the new list of selectors to add\n                selectorsMultiplied = [];\n\n                // merge the current list of non parent selector elements\n                // on to the current list of selectors to add\n                mergeElementsOnToSelectors(currentElements, newSelectors);\n\n                // loop through our current selectors\n                for (j = 0; j < newSelectors.length; j++) {\n                    sel = newSelectors[j];\n                    // if we don't have any parent paths, the & might be in a mixin so that it can be used\n                    // whether there are parents or not\n                    if (context.length === 0) {\n                        // the combinator used on el should now be applied to the next element instead so that\n                        // it is not lost\n                        if (sel.length > 0) {\n                            sel[0].elements.push(new Element(el.combinator, '', el.index, el.currentFileInfo));\n                        }\n                        selectorsMultiplied.push(sel);\n                    }\n                    else {\n                        // and the parent selectors\n                        for (k = 0; k < context.length; k++) {\n                            // We need to put the current selectors\n                            // then join the last selector's elements on to the parents selectors\n                            var newSelectorPath = addReplacementIntoPath(sel, context[k], el, inSelector);\n                            // add that to our new set of selectors\n                            selectorsMultiplied.push(newSelectorPath);\n                        }\n                    }\n                }\n\n                // our new selectors has been multiplied, so reset the state\n                newSelectors = selectorsMultiplied;\n                currentElements = [];\n            }\n        }\n\n        // if we have any elements left over (e.g. .a& .b == .b)\n        // add them on to all the current selectors\n        mergeElementsOnToSelectors(currentElements, newSelectors);\n\n        for (i = 0; i < newSelectors.length; i++) {\n            length = newSelectors[i].length;\n            if (length > 0) {\n                paths.push(newSelectors[i]);\n                lastSelector = newSelectors[i][length - 1];\n                newSelectors[i][length - 1] = lastSelector.createDerived(lastSelector.elements, inSelector.extendList);\n                //newSelectors[i][length - 1].copyVisibilityInfo(inSelector.visibilityInfo());\n            }\n        }\n\n        return hadParentSelector;\n    }\n\n    function deriveSelector(visibilityInfo, deriveFrom) {\n        var newSelector = deriveFrom.createDerived(deriveFrom.elements, deriveFrom.extendList, deriveFrom.evaldCondition);\n        newSelector.copyVisibilityInfo(visibilityInfo);\n        return newSelector;\n    }\n\n    // joinSelector code follows\n    var i, newPaths, hadParentSelector;\n\n    newPaths = [];\n    hadParentSelector = replaceParentSelector(newPaths, context, selector);\n\n    if (!hadParentSelector) {\n        if (context.length > 0) {\n            newPaths = [];\n            for (i = 0; i < context.length; i++) {\n                //var concatenated = [];\n                //context[i].forEach(function(entry) {\n                //    var newEntry = entry.createDerived(entry.elements, entry.extendList, entry.evaldCondition);\n                //    newEntry.copyVisibilityInfo(selector.visibilityInfo());\n                //    concatenated.push(newEntry);\n                //}, this);\n                var concatenated = context[i].map(deriveSelector.bind(this, selector.visibilityInfo()));\n\n                concatenated.push(selector);\n                newPaths.push(concatenated);\n            }\n        }\n        else {\n            newPaths = [[selector]];\n        }\n    }\n\n    for (i = 0; i < newPaths.length; i++) {\n        paths.push(newPaths[i]);\n    }\n\n};\nmodule.exports = Ruleset;\n\n},{\"../contexts\":11,\"../functions/default\":20,\"../functions/function-registry\":22,\"./debug-info\":54,\"./element\":58,\"./node\":70,\"./paren\":72,\"./rule\":74,\"./selector\":77}],77:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Element = require(\"./element\");\n\nvar Selector = function (elements, extendList, condition, index, currentFileInfo, visibilityInfo) {\n    this.elements = elements;\n    this.extendList = extendList;\n    this.condition = condition;\n    this.currentFileInfo = currentFileInfo || {};\n    if (!condition) {\n        this.evaldCondition = true;\n    }\n    this.copyVisibilityInfo(visibilityInfo);\n};\nSelector.prototype = new Node();\nSelector.prototype.type = \"Selector\";\nSelector.prototype.accept = function (visitor) {\n    if (this.elements) {\n        this.elements = visitor.visitArray(this.elements);\n    }\n    if (this.extendList) {\n        this.extendList = visitor.visitArray(this.extendList);\n    }\n    if (this.condition) {\n        this.condition = visitor.visit(this.condition);\n    }\n};\nSelector.prototype.createDerived = function(elements, extendList, evaldCondition) {\n    var info = this.visibilityInfo();\n    evaldCondition = (evaldCondition != null) ? evaldCondition : this.evaldCondition;\n    var newSelector = new Selector(elements, extendList || this.extendList, null, this.index, this.currentFileInfo, info);\n    newSelector.evaldCondition = evaldCondition;\n    newSelector.mediaEmpty = this.mediaEmpty;\n    return newSelector;\n};\nSelector.prototype.createEmptySelectors = function() {\n    var el = new Element('', '&', this.index, this.currentFileInfo),\n        sels = [new Selector([el], null, null, this.index, this.currentFileInfo)];\n    sels[0].mediaEmpty = true;\n    return sels;\n};\nSelector.prototype.match = function (other) {\n    var elements = this.elements,\n        len = elements.length,\n        olen, i;\n\n    other.CacheElements();\n\n    olen = other._elements.length;\n    if (olen === 0 || len < olen) {\n        return 0;\n    } else {\n        for (i = 0; i < olen; i++) {\n            if (elements[i].value !== other._elements[i]) {\n                return 0;\n            }\n        }\n    }\n\n    return olen; // return number of matched elements\n};\nSelector.prototype.CacheElements = function() {\n    if (this._elements) {\n        return;\n    }\n\n    var elements = this.elements.map( function(v) {\n        return v.combinator.value + (v.value.value || v.value);\n    }).join(\"\").match(/[,&#\\*\\.\\w-]([\\w-]|(\\\\.))*/g);\n\n    if (elements) {\n        if (elements[0] === \"&\") {\n            elements.shift();\n        }\n    } else {\n        elements = [];\n    }\n\n    this._elements = elements;\n};\nSelector.prototype.isJustParentSelector = function() {\n    return !this.mediaEmpty &&\n        this.elements.length === 1 &&\n        this.elements[0].value === '&' &&\n        (this.elements[0].combinator.value === ' ' || this.elements[0].combinator.value === '');\n};\nSelector.prototype.eval = function (context) {\n    var evaldCondition = this.condition && this.condition.eval(context),\n        elements = this.elements, extendList = this.extendList;\n\n    elements = elements && elements.map(function (e) { return e.eval(context); });\n    extendList = extendList && extendList.map(function(extend) { return extend.eval(context); });\n\n    return this.createDerived(elements, extendList, evaldCondition);\n};\nSelector.prototype.genCSS = function (context, output) {\n    var i, element;\n    if ((!context || !context.firstSelector) && this.elements[0].combinator.value === \"\") {\n        output.add(' ', this.currentFileInfo, this.index);\n    }\n    if (!this._css) {\n        //TODO caching? speed comparison?\n        for (i = 0; i < this.elements.length; i++) {\n            element = this.elements[i];\n            element.genCSS(context, output);\n        }\n    }\n};\nSelector.prototype.getIsOutput = function() {\n    return this.evaldCondition;\n};\nmodule.exports = Selector;\n\n},{\"./element\":58,\"./node\":70}],78:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar UnicodeDescriptor = function (value) {\n    this.value = value;\n};\nUnicodeDescriptor.prototype = new Node();\nUnicodeDescriptor.prototype.type = \"UnicodeDescriptor\";\n\nmodule.exports = UnicodeDescriptor;\n\n},{\"./node\":70}],79:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    unitConversions = require(\"../data/unit-conversions\");\n\nvar Unit = function (numerator, denominator, backupUnit) {\n    this.numerator = numerator ? numerator.slice(0).sort() : [];\n    this.denominator = denominator ? denominator.slice(0).sort() : [];\n    if (backupUnit) {\n        this.backupUnit = backupUnit;\n    } else if (numerator && numerator.length) {\n        this.backupUnit = numerator[0];\n    }\n};\n\nUnit.prototype = new Node();\nUnit.prototype.type = \"Unit\";\nUnit.prototype.clone = function () {\n    return new Unit(this.numerator.slice(0), this.denominator.slice(0), this.backupUnit);\n};\nUnit.prototype.genCSS = function (context, output) {\n    // Dimension checks the unit is singular and throws an error if in strict math mode.\n    var strictUnits = context && context.strictUnits;\n    if (this.numerator.length === 1) {\n        output.add(this.numerator[0]); // the ideal situation\n    } else if (!strictUnits && this.backupUnit) {\n        output.add(this.backupUnit);\n    } else if (!strictUnits && this.denominator.length) {\n        output.add(this.denominator[0]);\n    }\n};\nUnit.prototype.toString = function () {\n    var i, returnStr = this.numerator.join(\"*\");\n    for (i = 0; i < this.denominator.length; i++) {\n        returnStr += \"/\" + this.denominator[i];\n    }\n    return returnStr;\n};\nUnit.prototype.compare = function (other) {\n    return this.is(other.toString()) ? 0 : undefined;\n};\nUnit.prototype.is = function (unitString) {\n    return this.toString().toUpperCase() === unitString.toUpperCase();\n};\nUnit.prototype.isLength = function () {\n    return Boolean(this.toCSS().match(/px|em|%|in|cm|mm|pc|pt|ex/));\n};\nUnit.prototype.isEmpty = function () {\n    return this.numerator.length === 0 && this.denominator.length === 0;\n};\nUnit.prototype.isSingular = function() {\n    return this.numerator.length <= 1 && this.denominator.length === 0;\n};\nUnit.prototype.map = function(callback) {\n    var i;\n\n    for (i = 0; i < this.numerator.length; i++) {\n        this.numerator[i] = callback(this.numerator[i], false);\n    }\n\n    for (i = 0; i < this.denominator.length; i++) {\n        this.denominator[i] = callback(this.denominator[i], true);\n    }\n};\nUnit.prototype.usedUnits = function() {\n    var group, result = {}, mapUnit, groupName;\n\n    mapUnit = function (atomicUnit) {\n        /*jshint loopfunc:true */\n        if (group.hasOwnProperty(atomicUnit) && !result[groupName]) {\n            result[groupName] = atomicUnit;\n        }\n\n        return atomicUnit;\n    };\n\n    for (groupName in unitConversions) {\n        if (unitConversions.hasOwnProperty(groupName)) {\n            group = unitConversions[groupName];\n\n            this.map(mapUnit);\n        }\n    }\n\n    return result;\n};\nUnit.prototype.cancel = function () {\n    var counter = {}, atomicUnit, i;\n\n    for (i = 0; i < this.numerator.length; i++) {\n        atomicUnit = this.numerator[i];\n        counter[atomicUnit] = (counter[atomicUnit] || 0) + 1;\n    }\n\n    for (i = 0; i < this.denominator.length; i++) {\n        atomicUnit = this.denominator[i];\n        counter[atomicUnit] = (counter[atomicUnit] || 0) - 1;\n    }\n\n    this.numerator = [];\n    this.denominator = [];\n\n    for (atomicUnit in counter) {\n        if (counter.hasOwnProperty(atomicUnit)) {\n            var count = counter[atomicUnit];\n\n            if (count > 0) {\n                for (i = 0; i < count; i++) {\n                    this.numerator.push(atomicUnit);\n                }\n            } else if (count < 0) {\n                for (i = 0; i < -count; i++) {\n                    this.denominator.push(atomicUnit);\n                }\n            }\n        }\n    }\n\n    this.numerator.sort();\n    this.denominator.sort();\n};\nmodule.exports = Unit;\n\n},{\"../data/unit-conversions\":14,\"./node\":70}],80:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar URL = function (val, index, currentFileInfo, isEvald) {\n    this.value = val;\n    this.currentFileInfo = currentFileInfo;\n    this.index = index;\n    this.isEvald = isEvald;\n};\nURL.prototype = new Node();\nURL.prototype.type = \"Url\";\nURL.prototype.accept = function (visitor) {\n    this.value = visitor.visit(this.value);\n};\nURL.prototype.genCSS = function (context, output) {\n    output.add(\"url(\");\n    this.value.genCSS(context, output);\n    output.add(\")\");\n};\nURL.prototype.eval = function (context) {\n    var val = this.value.eval(context),\n        rootpath;\n\n    if (!this.isEvald) {\n        // Add the base path if the URL is relative\n        rootpath = this.currentFileInfo && this.currentFileInfo.rootpath;\n        if (rootpath &&\n            typeof val.value === \"string\" &&\n            context.isPathRelative(val.value)) {\n\n            if (!val.quote) {\n                rootpath = rootpath.replace(/[\\(\\)'\"\\s]/g, function(match) { return \"\\\\\" + match; });\n            }\n            val.value = rootpath + val.value;\n        }\n\n        val.value = context.normalizePath(val.value);\n\n        // Add url args if enabled\n        if (context.urlArgs) {\n            if (!val.value.match(/^\\s*data:/)) {\n                var delimiter = val.value.indexOf('?') === -1 ? '?' : '&';\n                var urlArgs = delimiter + context.urlArgs;\n                if (val.value.indexOf('#') !== -1) {\n                    val.value = val.value.replace('#', urlArgs + '#');\n                } else {\n                    val.value += urlArgs;\n                }\n            }\n        }\n    }\n\n    return new URL(val, this.index, this.currentFileInfo, true);\n};\nmodule.exports = URL;\n\n},{\"./node\":70}],81:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Value = function (value) {\n    this.value = value;\n    if (!value) {\n        throw new Error(\"Value requires an array argument\");\n    }\n};\nValue.prototype = new Node();\nValue.prototype.type = \"Value\";\nValue.prototype.accept = function (visitor) {\n    if (this.value) {\n        this.value = visitor.visitArray(this.value);\n    }\n};\nValue.prototype.eval = function (context) {\n    if (this.value.length === 1) {\n        return this.value[0].eval(context);\n    } else {\n        return new Value(this.value.map(function (v) {\n            return v.eval(context);\n        }));\n    }\n};\nValue.prototype.genCSS = function (context, output) {\n    var i;\n    for (i = 0; i < this.value.length; i++) {\n        this.value[i].genCSS(context, output);\n        if (i + 1 < this.value.length) {\n            output.add((context && context.compress) ? ',' : ', ');\n        }\n    }\n};\nmodule.exports = Value;\n\n},{\"./node\":70}],82:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Variable = function (name, index, currentFileInfo) {\n    this.name = name;\n    this.index = index;\n    this.currentFileInfo = currentFileInfo || {};\n};\nVariable.prototype = new Node();\nVariable.prototype.type = \"Variable\";\nVariable.prototype.eval = function (context) {\n    var variable, name = this.name;\n\n    if (name.indexOf('@@') === 0) {\n        name = '@' + new Variable(name.slice(1), this.index, this.currentFileInfo).eval(context).value;\n    }\n\n    if (this.evaluating) {\n        throw { type: 'Name',\n                message: \"Recursive variable definition for \" + name,\n                filename: this.currentFileInfo.filename,\n                index: this.index };\n    }\n\n    this.evaluating = true;\n\n    variable = this.find(context.frames, function (frame) {\n        var v = frame.variable(name);\n        if (v) {\n            if (v.important) {\n                var importantScope = context.importantScope[context.importantScope.length - 1];\n                importantScope.important = v.important;\n            }\n            return v.value.eval(context);\n        }\n    });\n    if (variable) {\n        this.evaluating = false;\n        return variable;\n    } else {\n        throw { type: 'Name',\n                message: \"variable \" + name + \" is undefined\",\n                filename: this.currentFileInfo.filename,\n                index: this.index };\n    }\n};\nVariable.prototype.find = function (obj, fun) {\n    for (var i = 0, r; i < obj.length; i++) {\n        r = fun.call(obj, obj[i]);\n        if (r) { return r; }\n    }\n    return null;\n};\nmodule.exports = Variable;\n\n},{\"./node\":70}],83:[function(require,module,exports){\nmodule.exports = {\n    getLocation: function(index, inputStream) {\n        var n = index + 1,\n            line = null,\n            column = -1;\n\n        while (--n >= 0 && inputStream.charAt(n) !== '\\n') {\n            column++;\n        }\n\n        if (typeof index === 'number') {\n            line = (inputStream.slice(0, index).match(/\\n/g) || \"\").length;\n        }\n\n        return {\n            line: line,\n            column: column\n        };\n    }\n};\n\n},{}],84:[function(require,module,exports){\nvar tree = require(\"../tree\"),\n    Visitor = require(\"./visitor\"),\n    logger = require(\"../logger\");\n\n/*jshint loopfunc:true */\n\nvar ExtendFinderVisitor = function() {\n    this._visitor = new Visitor(this);\n    this.contexts = [];\n    this.allExtendsStack = [[]];\n};\n\nExtendFinderVisitor.prototype = {\n    run: function (root) {\n        root = this._visitor.visit(root);\n        root.allExtends = this.allExtendsStack[0];\n        return root;\n    },\n    visitRule: function (ruleNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n    visitMixinDefinition: function (mixinDefinitionNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n    visitRuleset: function (rulesetNode, visitArgs) {\n        if (rulesetNode.root) {\n            return;\n        }\n\n        var i, j, extend, allSelectorsExtendList = [], extendList;\n\n        // get &:extend(.a); rules which apply to all selectors in this ruleset\n        var rules = rulesetNode.rules, ruleCnt = rules ? rules.length : 0;\n        for (i = 0; i < ruleCnt; i++) {\n            if (rulesetNode.rules[i] instanceof tree.Extend) {\n                allSelectorsExtendList.push(rules[i]);\n                rulesetNode.extendOnEveryPath = true;\n            }\n        }\n\n        // now find every selector and apply the extends that apply to all extends\n        // and the ones which apply to an individual extend\n        var paths = rulesetNode.paths;\n        for (i = 0; i < paths.length; i++) {\n            var selectorPath = paths[i],\n                selector = selectorPath[selectorPath.length - 1],\n                selExtendList = selector.extendList;\n\n            extendList = selExtendList ? selExtendList.slice(0).concat(allSelectorsExtendList)\n                                       : allSelectorsExtendList;\n\n            if (extendList) {\n                extendList = extendList.map(function(allSelectorsExtend) {\n                    return allSelectorsExtend.clone();\n                });\n            }\n\n            for (j = 0; j < extendList.length; j++) {\n                this.foundExtends = true;\n                extend = extendList[j];\n                extend.findSelfSelectors(selectorPath);\n                extend.ruleset = rulesetNode;\n                if (j === 0) { extend.firstExtendOnThisSelectorPath = true; }\n                this.allExtendsStack[this.allExtendsStack.length - 1].push(extend);\n            }\n        }\n\n        this.contexts.push(rulesetNode.selectors);\n    },\n    visitRulesetOut: function (rulesetNode) {\n        if (!rulesetNode.root) {\n            this.contexts.length = this.contexts.length - 1;\n        }\n    },\n    visitMedia: function (mediaNode, visitArgs) {\n        mediaNode.allExtends = [];\n        this.allExtendsStack.push(mediaNode.allExtends);\n    },\n    visitMediaOut: function (mediaNode) {\n        this.allExtendsStack.length = this.allExtendsStack.length - 1;\n    },\n    visitDirective: function (directiveNode, visitArgs) {\n        directiveNode.allExtends = [];\n        this.allExtendsStack.push(directiveNode.allExtends);\n    },\n    visitDirectiveOut: function (directiveNode) {\n        this.allExtendsStack.length = this.allExtendsStack.length - 1;\n    }\n};\n\nvar ProcessExtendsVisitor = function() {\n    this._visitor = new Visitor(this);\n};\n\nProcessExtendsVisitor.prototype = {\n    run: function(root) {\n        var extendFinder = new ExtendFinderVisitor();\n        this.extendIndices = {};\n        extendFinder.run(root);\n        if (!extendFinder.foundExtends) { return root; }\n        root.allExtends = root.allExtends.concat(this.doExtendChaining(root.allExtends, root.allExtends));\n        this.allExtendsStack = [root.allExtends];\n        var newRoot = this._visitor.visit(root);\n        this.checkExtendsForNonMatched(root.allExtends);\n        return newRoot;\n    },\n    checkExtendsForNonMatched: function(extendList) {\n        var indices = this.extendIndices;\n        extendList.filter(function(extend) {\n            return !extend.hasFoundMatches && extend.parent_ids.length == 1;\n        }).forEach(function(extend) {\n                var selector = \"_unknown_\";\n                try {\n                    selector = extend.selector.toCSS({});\n                }\n                catch(_) {}\n\n                if (!indices[extend.index + ' ' + selector]) {\n                    indices[extend.index + ' ' + selector] = true;\n                    logger.warn(\"extend '\" + selector + \"' has no matches\");\n                }\n            });\n    },\n    doExtendChaining: function (extendsList, extendsListTarget, iterationCount) {\n        //\n        // chaining is different from normal extension.. if we extend an extend then we are not just copying, altering\n        // and pasting the selector we would do normally, but we are also adding an extend with the same target selector\n        // this means this new extend can then go and alter other extends\n        //\n        // this method deals with all the chaining work - without it, extend is flat and doesn't work on other extend selectors\n        // this is also the most expensive.. and a match on one selector can cause an extension of a selector we had already\n        // processed if we look at each selector at a time, as is done in visitRuleset\n\n        var extendIndex, targetExtendIndex, matches, extendsToAdd = [], newSelector, extendVisitor = this, selectorPath,\n            extend, targetExtend, newExtend;\n\n        iterationCount = iterationCount || 0;\n\n        //loop through comparing every extend with every target extend.\n        // a target extend is the one on the ruleset we are looking at copy/edit/pasting in place\n        // e.g.  .a:extend(.b) {}  and .b:extend(.c) {} then the first extend extends the second one\n        // and the second is the target.\n        // the separation into two lists allows us to process a subset of chains with a bigger set, as is the\n        // case when processing media queries\n        for (extendIndex = 0; extendIndex < extendsList.length; extendIndex++) {\n            for (targetExtendIndex = 0; targetExtendIndex < extendsListTarget.length; targetExtendIndex++) {\n\n                extend = extendsList[extendIndex];\n                targetExtend = extendsListTarget[targetExtendIndex];\n\n                // look for circular references\n                if ( extend.parent_ids.indexOf( targetExtend.object_id ) >= 0 ) { continue; }\n\n                // find a match in the target extends self selector (the bit before :extend)\n                selectorPath = [targetExtend.selfSelectors[0]];\n                matches = extendVisitor.findMatch(extend, selectorPath);\n\n                if (matches.length) {\n                    extend.hasFoundMatches = true;\n\n                    // we found a match, so for each self selector..\n                    extend.selfSelectors.forEach(function(selfSelector) {\n                        var info = targetExtend.visibilityInfo();\n\n                        // process the extend as usual\n                        newSelector = extendVisitor.extendSelector(matches, selectorPath, selfSelector, extend.isVisible());\n\n                        // but now we create a new extend from it\n                        newExtend = new(tree.Extend)(targetExtend.selector, targetExtend.option, 0, targetExtend.currentFileInfo, info);\n                        newExtend.selfSelectors = newSelector;\n\n                        // add the extend onto the list of extends for that selector\n                        newSelector[newSelector.length - 1].extendList = [newExtend];\n\n                        // record that we need to add it.\n                        extendsToAdd.push(newExtend);\n                        newExtend.ruleset = targetExtend.ruleset;\n\n                        //remember its parents for circular references\n                        newExtend.parent_ids = newExtend.parent_ids.concat(targetExtend.parent_ids, extend.parent_ids);\n\n                        // only process the selector once.. if we have :extend(.a,.b) then multiple\n                        // extends will look at the same selector path, so when extending\n                        // we know that any others will be duplicates in terms of what is added to the css\n                        if (targetExtend.firstExtendOnThisSelectorPath) {\n                            newExtend.firstExtendOnThisSelectorPath = true;\n                            targetExtend.ruleset.paths.push(newSelector);\n                        }\n                    });\n                }\n            }\n        }\n\n        if (extendsToAdd.length) {\n            // try to detect circular references to stop a stack overflow.\n            // may no longer be needed.\n            this.extendChainCount++;\n            if (iterationCount > 100) {\n                var selectorOne = \"{unable to calculate}\";\n                var selectorTwo = \"{unable to calculate}\";\n                try {\n                    selectorOne = extendsToAdd[0].selfSelectors[0].toCSS();\n                    selectorTwo = extendsToAdd[0].selector.toCSS();\n                }\n                catch(e) {}\n                throw { message: \"extend circular reference detected. One of the circular extends is currently:\" +\n                    selectorOne + \":extend(\" + selectorTwo + \")\"};\n            }\n\n            // now process the new extends on the existing rules so that we can handle a extending b extending c extending\n            // d extending e...\n            return extendsToAdd.concat(extendVisitor.doExtendChaining(extendsToAdd, extendsListTarget, iterationCount + 1));\n        } else {\n            return extendsToAdd;\n        }\n    },\n    visitRule: function (ruleNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n    visitMixinDefinition: function (mixinDefinitionNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n    visitSelector: function (selectorNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n    visitRuleset: function (rulesetNode, visitArgs) {\n        if (rulesetNode.root) {\n            return;\n        }\n        var matches, pathIndex, extendIndex, allExtends = this.allExtendsStack[this.allExtendsStack.length - 1],\n            selectorsToAdd = [], extendVisitor = this, selectorPath;\n\n        // look at each selector path in the ruleset, find any extend matches and then copy, find and replace\n\n        for (extendIndex = 0; extendIndex < allExtends.length; extendIndex++) {\n            for (pathIndex = 0; pathIndex < rulesetNode.paths.length; pathIndex++) {\n                selectorPath = rulesetNode.paths[pathIndex];\n\n                // extending extends happens initially, before the main pass\n                if (rulesetNode.extendOnEveryPath) { continue; }\n                var extendList = selectorPath[selectorPath.length - 1].extendList;\n                if (extendList && extendList.length) { continue; }\n\n                matches = this.findMatch(allExtends[extendIndex], selectorPath);\n\n                if (matches.length) {\n                    allExtends[extendIndex].hasFoundMatches = true;\n\n                    allExtends[extendIndex].selfSelectors.forEach(function(selfSelector) {\n                        var extendedSelectors;\n                        extendedSelectors = extendVisitor.extendSelector(matches, selectorPath, selfSelector, allExtends[extendIndex].isVisible());\n                        selectorsToAdd.push(extendedSelectors);\n                    });\n                }\n            }\n        }\n        rulesetNode.paths = rulesetNode.paths.concat(selectorsToAdd);\n    },\n    findMatch: function (extend, haystackSelectorPath) {\n        //\n        // look through the haystack selector path to try and find the needle - extend.selector\n        // returns an array of selector matches that can then be replaced\n        //\n        var haystackSelectorIndex, hackstackSelector, hackstackElementIndex, haystackElement,\n            targetCombinator, i,\n            extendVisitor = this,\n            needleElements = extend.selector.elements,\n            potentialMatches = [], potentialMatch, matches = [];\n\n        // loop through the haystack elements\n        for (haystackSelectorIndex = 0; haystackSelectorIndex < haystackSelectorPath.length; haystackSelectorIndex++) {\n            hackstackSelector = haystackSelectorPath[haystackSelectorIndex];\n\n            for (hackstackElementIndex = 0; hackstackElementIndex < hackstackSelector.elements.length; hackstackElementIndex++) {\n\n                haystackElement = hackstackSelector.elements[hackstackElementIndex];\n\n                // if we allow elements before our match we can add a potential match every time. otherwise only at the first element.\n                if (extend.allowBefore || (haystackSelectorIndex === 0 && hackstackElementIndex === 0)) {\n                    potentialMatches.push({pathIndex: haystackSelectorIndex, index: hackstackElementIndex, matched: 0,\n                        initialCombinator: haystackElement.combinator});\n                }\n\n                for (i = 0; i < potentialMatches.length; i++) {\n                    potentialMatch = potentialMatches[i];\n\n                    // selectors add \" \" onto the first element. When we use & it joins the selectors together, but if we don't\n                    // then each selector in haystackSelectorPath has a space before it added in the toCSS phase. so we need to\n                    // work out what the resulting combinator will be\n                    targetCombinator = haystackElement.combinator.value;\n                    if (targetCombinator === '' && hackstackElementIndex === 0) {\n                        targetCombinator = ' ';\n                    }\n\n                    // if we don't match, null our match to indicate failure\n                    if (!extendVisitor.isElementValuesEqual(needleElements[potentialMatch.matched].value, haystackElement.value) ||\n                        (potentialMatch.matched > 0 && needleElements[potentialMatch.matched].combinator.value !== targetCombinator)) {\n                        potentialMatch = null;\n                    } else {\n                        potentialMatch.matched++;\n                    }\n\n                    // if we are still valid and have finished, test whether we have elements after and whether these are allowed\n                    if (potentialMatch) {\n                        potentialMatch.finished = potentialMatch.matched === needleElements.length;\n                        if (potentialMatch.finished &&\n                            (!extend.allowAfter &&\n                                (hackstackElementIndex + 1 < hackstackSelector.elements.length || haystackSelectorIndex + 1 < haystackSelectorPath.length))) {\n                            potentialMatch = null;\n                        }\n                    }\n                    // if null we remove, if not, we are still valid, so either push as a valid match or continue\n                    if (potentialMatch) {\n                        if (potentialMatch.finished) {\n                            potentialMatch.length = needleElements.length;\n                            potentialMatch.endPathIndex = haystackSelectorIndex;\n                            potentialMatch.endPathElementIndex = hackstackElementIndex + 1; // index after end of match\n                            potentialMatches.length = 0; // we don't allow matches to overlap, so start matching again\n                            matches.push(potentialMatch);\n                        }\n                    } else {\n                        potentialMatches.splice(i, 1);\n                        i--;\n                    }\n                }\n            }\n        }\n        return matches;\n    },\n    isElementValuesEqual: function(elementValue1, elementValue2) {\n        if (typeof elementValue1 === \"string\" || typeof elementValue2 === \"string\") {\n            return elementValue1 === elementValue2;\n        }\n        if (elementValue1 instanceof tree.Attribute) {\n            if (elementValue1.op !== elementValue2.op || elementValue1.key !== elementValue2.key) {\n                return false;\n            }\n            if (!elementValue1.value || !elementValue2.value) {\n                if (elementValue1.value || elementValue2.value) {\n                    return false;\n                }\n                return true;\n            }\n            elementValue1 = elementValue1.value.value || elementValue1.value;\n            elementValue2 = elementValue2.value.value || elementValue2.value;\n            return elementValue1 === elementValue2;\n        }\n        elementValue1 = elementValue1.value;\n        elementValue2 = elementValue2.value;\n        if (elementValue1 instanceof tree.Selector) {\n            if (!(elementValue2 instanceof tree.Selector) || elementValue1.elements.length !== elementValue2.elements.length) {\n                return false;\n            }\n            for (var i = 0; i  < elementValue1.elements.length; i++) {\n                if (elementValue1.elements[i].combinator.value !== elementValue2.elements[i].combinator.value) {\n                    if (i !== 0 || (elementValue1.elements[i].combinator.value || ' ') !== (elementValue2.elements[i].combinator.value || ' ')) {\n                        return false;\n                    }\n                }\n                if (!this.isElementValuesEqual(elementValue1.elements[i].value, elementValue2.elements[i].value)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    },\n    extendSelector:function (matches, selectorPath, replacementSelector, isVisible) {\n\n        //for a set of matches, replace each match with the replacement selector\n\n        var currentSelectorPathIndex = 0,\n            currentSelectorPathElementIndex = 0,\n            path = [],\n            matchIndex,\n            selector,\n            firstElement,\n            match,\n            newElements;\n\n        for (matchIndex = 0; matchIndex < matches.length; matchIndex++) {\n            match = matches[matchIndex];\n            selector = selectorPath[match.pathIndex];\n            firstElement = new tree.Element(\n                match.initialCombinator,\n                replacementSelector.elements[0].value,\n                replacementSelector.elements[0].index,\n                replacementSelector.elements[0].currentFileInfo\n            );\n\n            if (match.pathIndex > currentSelectorPathIndex && currentSelectorPathElementIndex > 0) {\n                path[path.length - 1].elements = path[path.length - 1]\n                    .elements.concat(selectorPath[currentSelectorPathIndex].elements.slice(currentSelectorPathElementIndex));\n                currentSelectorPathElementIndex = 0;\n                currentSelectorPathIndex++;\n            }\n\n            newElements = selector.elements\n                .slice(currentSelectorPathElementIndex, match.index)\n                .concat([firstElement])\n                .concat(replacementSelector.elements.slice(1));\n\n            if (currentSelectorPathIndex === match.pathIndex && matchIndex > 0) {\n                path[path.length - 1].elements =\n                    path[path.length - 1].elements.concat(newElements);\n            } else {\n                path = path.concat(selectorPath.slice(currentSelectorPathIndex, match.pathIndex));\n\n                path.push(new tree.Selector(\n                    newElements\n                ));\n            }\n            currentSelectorPathIndex = match.endPathIndex;\n            currentSelectorPathElementIndex = match.endPathElementIndex;\n            if (currentSelectorPathElementIndex >= selectorPath[currentSelectorPathIndex].elements.length) {\n                currentSelectorPathElementIndex = 0;\n                currentSelectorPathIndex++;\n            }\n        }\n\n        if (currentSelectorPathIndex < selectorPath.length && currentSelectorPathElementIndex > 0) {\n            path[path.length - 1].elements = path[path.length - 1]\n                .elements.concat(selectorPath[currentSelectorPathIndex].elements.slice(currentSelectorPathElementIndex));\n            currentSelectorPathIndex++;\n        }\n\n        path = path.concat(selectorPath.slice(currentSelectorPathIndex, selectorPath.length));\n        path = path.map(function (currentValue) {\n            // we can re-use elements here, because the visibility property matters only for selectors\n            var derived = currentValue.createDerived(currentValue.elements);\n            if (isVisible) {\n                derived.ensureVisibility();\n            } else {\n                derived.ensureInvisibility();\n            }\n            return derived;\n        });\n        return path;\n    },\n    visitMedia: function (mediaNode, visitArgs) {\n        var newAllExtends = mediaNode.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length - 1]);\n        newAllExtends = newAllExtends.concat(this.doExtendChaining(newAllExtends, mediaNode.allExtends));\n        this.allExtendsStack.push(newAllExtends);\n    },\n    visitMediaOut: function (mediaNode) {\n        var lastIndex = this.allExtendsStack.length - 1;\n        this.allExtendsStack.length = lastIndex;\n    },\n    visitDirective: function (directiveNode, visitArgs) {\n        var newAllExtends = directiveNode.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length - 1]);\n        newAllExtends = newAllExtends.concat(this.doExtendChaining(newAllExtends, directiveNode.allExtends));\n        this.allExtendsStack.push(newAllExtends);\n    },\n    visitDirectiveOut: function (directiveNode) {\n        var lastIndex = this.allExtendsStack.length - 1;\n        this.allExtendsStack.length = lastIndex;\n    }\n};\n\nmodule.exports = ProcessExtendsVisitor;\n\n},{\"../logger\":33,\"../tree\":62,\"./visitor\":91}],85:[function(require,module,exports){\nfunction ImportSequencer(onSequencerEmpty) {\n    this.imports = [];\n    this.variableImports = [];\n    this._onSequencerEmpty = onSequencerEmpty;\n    this._currentDepth = 0;\n}\n\nImportSequencer.prototype.addImport = function(callback) {\n    var importSequencer = this,\n        importItem = {\n            callback: callback,\n            args: null,\n            isReady: false\n        };\n    this.imports.push(importItem);\n    return function() {\n        importItem.args = Array.prototype.slice.call(arguments, 0);\n        importItem.isReady = true;\n        importSequencer.tryRun();\n    };\n};\n\nImportSequencer.prototype.addVariableImport = function(callback) {\n    this.variableImports.push(callback);\n};\n\nImportSequencer.prototype.tryRun = function() {\n    this._currentDepth++;\n    try {\n        while (true) {\n            while (this.imports.length > 0) {\n                var importItem = this.imports[0];\n                if (!importItem.isReady) {\n                    return;\n                }\n                this.imports = this.imports.slice(1);\n                importItem.callback.apply(null, importItem.args);\n            }\n            if (this.variableImports.length === 0) {\n                break;\n            }\n            var variableImport = this.variableImports[0];\n            this.variableImports = this.variableImports.slice(1);\n            variableImport();\n        }\n    } finally {\n        this._currentDepth--;\n    }\n    if (this._currentDepth === 0 && this._onSequencerEmpty) {\n        this._onSequencerEmpty();\n    }\n};\n\nmodule.exports = ImportSequencer;\n\n},{}],86:[function(require,module,exports){\nvar contexts = require(\"../contexts\"),\n    Visitor = require(\"./visitor\"),\n    ImportSequencer = require(\"./import-sequencer\");\n\nvar ImportVisitor = function(importer, finish) {\n\n    this._visitor = new Visitor(this);\n    this._importer = importer;\n    this._finish = finish;\n    this.context = new contexts.Eval();\n    this.importCount = 0;\n    this.onceFileDetectionMap = {};\n    this.recursionDetector = {};\n    this._sequencer = new ImportSequencer(this._onSequencerEmpty.bind(this));\n};\n\nImportVisitor.prototype = {\n    isReplacing: false,\n    run: function (root) {\n        try {\n            // process the contents\n            this._visitor.visit(root);\n        }\n        catch(e) {\n            this.error = e;\n        }\n\n        this.isFinished = true;\n        this._sequencer.tryRun();\n    },\n    _onSequencerEmpty: function() {\n        if (!this.isFinished) {\n            return;\n        }\n        this._finish(this.error);\n    },\n    visitImport: function (importNode, visitArgs) {\n        var inlineCSS = importNode.options.inline;\n\n        if (!importNode.css || inlineCSS) {\n\n            var context = new contexts.Eval(this.context, this.context.frames.slice(0));\n            var importParent = context.frames[0];\n\n            this.importCount++;\n            if (importNode.isVariableImport()) {\n                this._sequencer.addVariableImport(this.processImportNode.bind(this, importNode, context, importParent));\n            } else {\n                this.processImportNode(importNode, context, importParent);\n            }\n        }\n        visitArgs.visitDeeper = false;\n    },\n    processImportNode: function(importNode, context, importParent) {\n        var evaldImportNode,\n            inlineCSS = importNode.options.inline;\n\n        try {\n            evaldImportNode = importNode.evalForImport(context);\n        } catch(e) {\n            if (!e.filename) { e.index = importNode.index; e.filename = importNode.currentFileInfo.filename; }\n            // attempt to eval properly and treat as css\n            importNode.css = true;\n            // if that fails, this error will be thrown\n            importNode.error = e;\n        }\n\n        if (evaldImportNode && (!evaldImportNode.css || inlineCSS)) {\n\n            if (evaldImportNode.options.multiple) {\n                context.importMultiple = true;\n            }\n\n            // try appending if we haven't determined if it is css or not\n            var tryAppendLessExtension = evaldImportNode.css === undefined;\n\n            for (var i = 0; i < importParent.rules.length; i++) {\n                if (importParent.rules[i] === importNode) {\n                    importParent.rules[i] = evaldImportNode;\n                    break;\n                }\n            }\n\n            var onImported = this.onImported.bind(this, evaldImportNode, context),\n                sequencedOnImported = this._sequencer.addImport(onImported);\n\n            this._importer.push(evaldImportNode.getPath(), tryAppendLessExtension, evaldImportNode.currentFileInfo,\n                evaldImportNode.options, sequencedOnImported);\n        } else {\n            this.importCount--;\n            if (this.isFinished) {\n                this._sequencer.tryRun();\n            }\n        }\n    },\n    onImported: function (importNode, context, e, root, importedAtRoot, fullPath) {\n        if (e) {\n            if (!e.filename) {\n                e.index = importNode.index; e.filename = importNode.currentFileInfo.filename;\n            }\n            this.error = e;\n        }\n\n        var importVisitor = this,\n            inlineCSS = importNode.options.inline,\n            isPlugin = importNode.options.plugin,\n            isOptional = importNode.options.optional,\n            duplicateImport = importedAtRoot || fullPath in importVisitor.recursionDetector;\n\n        if (!context.importMultiple) {\n            if (duplicateImport) {\n                importNode.skip = true;\n            } else {\n                importNode.skip = function() {\n                    if (fullPath in importVisitor.onceFileDetectionMap) {\n                        return true;\n                    }\n                    importVisitor.onceFileDetectionMap[fullPath] = true;\n                    return false;\n                };\n            }\n        }\n\n        if (!fullPath && isOptional) {\n            importNode.skip = true;\n        }\n\n        if (root) {\n            importNode.root = root;\n            importNode.importedFilename = fullPath;\n\n            if (!inlineCSS && !isPlugin && (context.importMultiple || !duplicateImport)) {\n                importVisitor.recursionDetector[fullPath] = true;\n\n                var oldContext = this.context;\n                this.context = context;\n                try {\n                    this._visitor.visit(root);\n                } catch (e) {\n                    this.error = e;\n                }\n                this.context = oldContext;\n            }\n        }\n\n        importVisitor.importCount--;\n\n        if (importVisitor.isFinished) {\n            importVisitor._sequencer.tryRun();\n        }\n    },\n    visitRule: function (ruleNode, visitArgs) {\n        if (ruleNode.value.type === \"DetachedRuleset\") {\n            this.context.frames.unshift(ruleNode);\n        } else {\n            visitArgs.visitDeeper = false;\n        }\n    },\n    visitRuleOut : function(ruleNode) {\n        if (ruleNode.value.type === \"DetachedRuleset\") {\n            this.context.frames.shift();\n        }\n    },\n    visitDirective: function (directiveNode, visitArgs) {\n        this.context.frames.unshift(directiveNode);\n    },\n    visitDirectiveOut: function (directiveNode) {\n        this.context.frames.shift();\n    },\n    visitMixinDefinition: function (mixinDefinitionNode, visitArgs) {\n        this.context.frames.unshift(mixinDefinitionNode);\n    },\n    visitMixinDefinitionOut: function (mixinDefinitionNode) {\n        this.context.frames.shift();\n    },\n    visitRuleset: function (rulesetNode, visitArgs) {\n        this.context.frames.unshift(rulesetNode);\n    },\n    visitRulesetOut: function (rulesetNode) {\n        this.context.frames.shift();\n    },\n    visitMedia: function (mediaNode, visitArgs) {\n        this.context.frames.unshift(mediaNode.rules[0]);\n    },\n    visitMediaOut: function (mediaNode) {\n        this.context.frames.shift();\n    }\n};\nmodule.exports = ImportVisitor;\n\n},{\"../contexts\":11,\"./import-sequencer\":85,\"./visitor\":91}],87:[function(require,module,exports){\nvar visitors = {\n    Visitor: require(\"./visitor\"),\n    ImportVisitor: require('./import-visitor'),\n    MarkVisibleSelectorsVisitor: require(\"./set-tree-visibility-visitor\"),\n    ExtendVisitor: require('./extend-visitor'),\n    JoinSelectorVisitor: require('./join-selector-visitor'),\n    ToCSSVisitor: require('./to-css-visitor')\n};\n\nmodule.exports = visitors;\n\n},{\"./extend-visitor\":84,\"./import-visitor\":86,\"./join-selector-visitor\":88,\"./set-tree-visibility-visitor\":89,\"./to-css-visitor\":90,\"./visitor\":91}],88:[function(require,module,exports){\nvar Visitor = require(\"./visitor\");\n\nvar JoinSelectorVisitor = function() {\n    this.contexts = [[]];\n    this._visitor = new Visitor(this);\n};\n\nJoinSelectorVisitor.prototype = {\n    run: function (root) {\n        return this._visitor.visit(root);\n    },\n    visitRule: function (ruleNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n    visitMixinDefinition: function (mixinDefinitionNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n\n    visitRuleset: function (rulesetNode, visitArgs) {\n        var context = this.contexts[this.contexts.length - 1],\n            paths = [], selectors;\n\n        this.contexts.push(paths);\n\n        if (! rulesetNode.root) {\n            selectors = rulesetNode.selectors;\n            if (selectors) {\n                selectors = selectors.filter(function(selector) { return selector.getIsOutput(); });\n                rulesetNode.selectors = selectors.length ? selectors : (selectors = null);\n                if (selectors) { rulesetNode.joinSelectors(paths, context, selectors); }\n            }\n            if (!selectors) { rulesetNode.rules = null; }\n            rulesetNode.paths = paths;\n        }\n    },\n    visitRulesetOut: function (rulesetNode) {\n        this.contexts.length = this.contexts.length - 1;\n    },\n    visitMedia: function (mediaNode, visitArgs) {\n        var context = this.contexts[this.contexts.length - 1];\n        mediaNode.rules[0].root = (context.length === 0 || context[0].multiMedia);\n    },\n    visitDirective: function (directiveNode, visitArgs) {\n        var context = this.contexts[this.contexts.length - 1];\n        if (directiveNode.rules && directiveNode.rules.length) {\n            directiveNode.rules[0].root = (directiveNode.isRooted || context.length === 0 || null);\n        }\n    }\n};\n\nmodule.exports = JoinSelectorVisitor;\n\n},{\"./visitor\":91}],89:[function(require,module,exports){\nvar SetTreeVisibilityVisitor = function(visible) {\n    this.visible = visible;\n};\nSetTreeVisibilityVisitor.prototype.run = function(root) {\n    this.visit(root);\n};\nSetTreeVisibilityVisitor.prototype.visitArray = function(nodes) {\n    if (!nodes) {\n        return nodes;\n    }\n\n    var cnt = nodes.length, i;\n    for (i = 0; i < cnt; i++) {\n        this.visit(nodes[i]);\n    }\n    return nodes;\n};\nSetTreeVisibilityVisitor.prototype.visit = function(node) {\n    if (!node) {\n        return node;\n    }\n    if (node.constructor === Array) {\n        return this.visitArray(node);\n    }\n\n    if (!node.blocksVisibility || node.blocksVisibility()) {\n        return node;\n    }\n    if (this.visible) {\n        node.ensureVisibility();\n    } else {\n        node.ensureInvisibility();\n    }\n\n    node.accept(this);\n    return node;\n};\nmodule.exports = SetTreeVisibilityVisitor;\n},{}],90:[function(require,module,exports){\nvar tree = require(\"../tree\"),\n    Visitor = require(\"./visitor\");\n\nvar CSSVisitorUtils = function(context) {\n    this._visitor = new Visitor(this);\n    this._context = context;\n};\n\nCSSVisitorUtils.prototype = {\n    containsSilentNonBlockedChild: function(bodyRules) {\n        var rule;\n        if (bodyRules == null) {\n            return false;\n        }\n        for (var r = 0; r < bodyRules.length; r++) {\n            rule = bodyRules[r];\n            if (rule.isSilent && rule.isSilent(this._context) && !rule.blocksVisibility()) {\n                //the directive contains something that was referenced (likely by extend)\n                //therefore it needs to be shown in output too\n                return true;\n            }\n        }\n        return false;\n    },\n\n    keepOnlyVisibleChilds: function(owner) {\n        if (owner == null || owner.rules == null) {\n            return ;\n        }\n\n        owner.rules = owner.rules.filter(function(thing) {\n                return thing.isVisible();\n            }\n        );\n    },\n\n    isEmpty: function(owner) {\n        if (owner == null || owner.rules == null) {\n            return true;\n        }\n        return owner.rules.length === 0;\n    },\n\n    hasVisibleSelector: function(rulesetNode) {\n        if (rulesetNode == null || rulesetNode.paths == null) {\n            return false;\n        }\n        return rulesetNode.paths.length > 0;\n    },\n\n    resolveVisibility: function (node, originalRules) {\n        if (!node.blocksVisibility()) {\n            if (this.isEmpty(node) && !this.containsSilentNonBlockedChild(originalRules)) {\n                return ;\n            }\n\n            return node;\n        }\n\n        var compiledRulesBody = node.rules[0];\n        this.keepOnlyVisibleChilds(compiledRulesBody);\n\n        if (this.isEmpty(compiledRulesBody)) {\n            return ;\n        }\n\n        node.ensureVisibility();\n        node.removeVisibilityBlock();\n\n        return node;\n    },\n\n    isVisibleRuleset: function(rulesetNode) {\n        if (rulesetNode.firstRoot) {\n            return true;\n        }\n\n        if (this.isEmpty(rulesetNode)) {\n            return false;\n        }\n\n        if (!rulesetNode.root && !this.hasVisibleSelector(rulesetNode)) {\n            return false;\n        }\n\n        return true;\n    }\n\n};\n\nvar ToCSSVisitor = function(context) {\n    this._visitor = new Visitor(this);\n    this._context = context;\n    this.utils = new CSSVisitorUtils(context);\n};\n\nToCSSVisitor.prototype = {\n    isReplacing: true,\n    run: function (root) {\n        return this._visitor.visit(root);\n    },\n\n    visitRule: function (ruleNode, visitArgs) {\n        if (ruleNode.blocksVisibility() || ruleNode.variable) {\n            return;\n        }\n        return ruleNode;\n    },\n\n    visitMixinDefinition: function (mixinNode, visitArgs) {\n        // mixin definitions do not get eval'd - this means they keep state\n        // so we have to clear that state here so it isn't used if toCSS is called twice\n        mixinNode.frames = [];\n    },\n\n    visitExtend: function (extendNode, visitArgs) {\n    },\n\n    visitComment: function (commentNode, visitArgs) {\n        if (commentNode.blocksVisibility() || commentNode.isSilent(this._context)) {\n            return;\n        }\n        return commentNode;\n    },\n\n    visitMedia: function(mediaNode, visitArgs) {\n        var originalRules = mediaNode.rules[0].rules;\n        mediaNode.accept(this._visitor);\n        visitArgs.visitDeeper = false;\n\n        return this.utils.resolveVisibility(mediaNode, originalRules);\n    },\n\n    visitImport: function (importNode, visitArgs) {\n        if (importNode.blocksVisibility()) {\n            return ;\n        }\n        return importNode;\n    },\n\n    visitDirective: function(directiveNode, visitArgs) {\n        if (directiveNode.rules && directiveNode.rules.length) {\n            return this.visitDirectiveWithBody(directiveNode, visitArgs);\n        } else {\n            return this.visitDirectiveWithoutBody(directiveNode, visitArgs);\n        }\n    },\n\n    visitDirectiveWithBody: function(directiveNode, visitArgs) {\n        //if there is only one nested ruleset and that one has no path, then it is\n        //just fake ruleset\n        function hasFakeRuleset(directiveNode) {\n            var bodyRules = directiveNode.rules;\n            return bodyRules.length === 1 && (!bodyRules[0].paths || bodyRules[0].paths.length === 0);\n        }\n        function getBodyRules(directiveNode) {\n            var nodeRules = directiveNode.rules;\n            if (hasFakeRuleset(directiveNode)) {\n                return nodeRules[0].rules;\n            }\n\n            return nodeRules;\n        }\n        //it is still true that it is only one ruleset in array\n        //this is last such moment\n        //process childs\n        var originalRules = getBodyRules(directiveNode);\n        directiveNode.accept(this._visitor);\n        visitArgs.visitDeeper = false;\n\n        if (!this.utils.isEmpty(directiveNode)) {\n            this._mergeRules(directiveNode.rules[0].rules);\n        }\n\n        return this.utils.resolveVisibility(directiveNode, originalRules);\n    },\n\n    visitDirectiveWithoutBody: function(directiveNode, visitArgs) {\n        if (directiveNode.blocksVisibility()) {\n            return;\n        }\n\n        if (directiveNode.name === \"@charset\") {\n            // Only output the debug info together with subsequent @charset definitions\n            // a comment (or @media statement) before the actual @charset directive would\n            // be considered illegal css as it has to be on the first line\n            if (this.charset) {\n                if (directiveNode.debugInfo) {\n                    var comment = new tree.Comment(\"/* \" + directiveNode.toCSS(this._context).replace(/\\n/g, \"\") + \" */\\n\");\n                    comment.debugInfo = directiveNode.debugInfo;\n                    return this._visitor.visit(comment);\n                }\n                return;\n            }\n            this.charset = true;\n        }\n\n        return directiveNode;\n    },\n\n    checkValidNodes: function(rules, isRoot) {\n        if (!rules) {\n            return;\n        }\n\n        for (var i = 0; i < rules.length; i++) {\n            var ruleNode = rules[i];\n            if (isRoot && ruleNode instanceof tree.Rule && !ruleNode.variable) {\n                throw { message: \"Properties must be inside selector blocks. They cannot be in the root\",\n                    index: ruleNode.index, filename: ruleNode.currentFileInfo && ruleNode.currentFileInfo.filename};\n            }\n            if (ruleNode instanceof tree.Call) {\n                throw { message: \"Function '\" + ruleNode.name + \"' is undefined\",\n                    index: ruleNode.index, filename: ruleNode.currentFileInfo && ruleNode.currentFileInfo.filename};\n            }\n            if (ruleNode.type && !ruleNode.allowRoot) {\n                throw { message: ruleNode.type + \" node returned by a function is not valid here\",\n                    index: ruleNode.index, filename: ruleNode.currentFileInfo && ruleNode.currentFileInfo.filename};\n            }\n        }\n    },\n\n    visitRuleset: function (rulesetNode, visitArgs) {\n        //at this point rulesets are nested into each other\n        var rule, rulesets = [];\n\n        this.checkValidNodes(rulesetNode.rules, rulesetNode.firstRoot);\n\n        if (! rulesetNode.root) {\n            //remove invisible paths\n            this._compileRulesetPaths(rulesetNode);\n\n            // remove rulesets from this ruleset body and compile them separately\n            var nodeRules = rulesetNode.rules, nodeRuleCnt = nodeRules ? nodeRules.length : 0;\n            for (var i = 0; i < nodeRuleCnt; ) {\n                rule = nodeRules[i];\n                if (rule && rule.rules) {\n                    // visit because we are moving them out from being a child\n                    rulesets.push(this._visitor.visit(rule));\n                    nodeRules.splice(i, 1);\n                    nodeRuleCnt--;\n                    continue;\n                }\n                i++;\n            }\n            // accept the visitor to remove rules and refactor itself\n            // then we can decide nogw whether we want it or not\n            // compile body\n            if (nodeRuleCnt > 0) {\n                rulesetNode.accept(this._visitor);\n            } else {\n                rulesetNode.rules = null;\n            }\n            visitArgs.visitDeeper = false;\n\n        } else { //if (! rulesetNode.root) {\n            rulesetNode.accept(this._visitor);\n            visitArgs.visitDeeper = false;\n        }\n\n        if (rulesetNode.rules) {\n            this._mergeRules(rulesetNode.rules);\n            this._removeDuplicateRules(rulesetNode.rules);\n        }\n\n        //now decide whether we keep the ruleset\n        if (this.utils.isVisibleRuleset(rulesetNode)) {\n            rulesetNode.ensureVisibility();\n            rulesets.splice(0, 0, rulesetNode);\n        }\n\n        if (rulesets.length === 1) {\n            return rulesets[0];\n        }\n        return rulesets;\n    },\n\n    _compileRulesetPaths: function(rulesetNode) {\n        if (rulesetNode.paths) {\n            rulesetNode.paths = rulesetNode.paths\n                .filter(function(p) {\n                    var i;\n                    if (p[0].elements[0].combinator.value === ' ') {\n                        p[0].elements[0].combinator = new(tree.Combinator)('');\n                    }\n                    for (i = 0; i < p.length; i++) {\n                        if (p[i].isVisible() && p[i].getIsOutput()) {\n                            return true;\n                        }\n                    }\n                    return false;\n                });\n        }\n    },\n\n    _removeDuplicateRules: function(rules) {\n        if (!rules) { return; }\n\n        // remove duplicates\n        var ruleCache = {},\n            ruleList, rule, i;\n\n        for (i = rules.length - 1; i >= 0 ; i--) {\n            rule = rules[i];\n            if (rule instanceof tree.Rule) {\n                if (!ruleCache[rule.name]) {\n                    ruleCache[rule.name] = rule;\n                } else {\n                    ruleList = ruleCache[rule.name];\n                    if (ruleList instanceof tree.Rule) {\n                        ruleList = ruleCache[rule.name] = [ruleCache[rule.name].toCSS(this._context)];\n                    }\n                    var ruleCSS = rule.toCSS(this._context);\n                    if (ruleList.indexOf(ruleCSS) !== -1) {\n                        rules.splice(i, 1);\n                    } else {\n                        ruleList.push(ruleCSS);\n                    }\n                }\n            }\n        }\n    },\n\n    _mergeRules: function (rules) {\n        if (!rules) { return; }\n\n        var groups = {},\n            parts,\n            rule,\n            key;\n\n        for (var i = 0; i < rules.length; i++) {\n            rule = rules[i];\n\n            if ((rule instanceof tree.Rule) && rule.merge) {\n                key = [rule.name,\n                    rule.important ? \"!\" : \"\"].join(\",\");\n\n                if (!groups[key]) {\n                    groups[key] = [];\n                } else {\n                    rules.splice(i--, 1);\n                }\n\n                groups[key].push(rule);\n            }\n        }\n\n        Object.keys(groups).map(function (k) {\n\n            function toExpression(values) {\n                return new (tree.Expression)(values.map(function (p) {\n                    return p.value;\n                }));\n            }\n\n            function toValue(values) {\n                return new (tree.Value)(values.map(function (p) {\n                    return p;\n                }));\n            }\n\n            parts = groups[k];\n\n            if (parts.length > 1) {\n                rule = parts[0];\n                var spacedGroups = [];\n                var lastSpacedGroup = [];\n                parts.map(function (p) {\n                    if (p.merge === \"+\") {\n                        if (lastSpacedGroup.length > 0) {\n                            spacedGroups.push(toExpression(lastSpacedGroup));\n                        }\n                        lastSpacedGroup = [];\n                    }\n                    lastSpacedGroup.push(p);\n                });\n                spacedGroups.push(toExpression(lastSpacedGroup));\n                rule.value = toValue(spacedGroups);\n            }\n        });\n    },\n\n    visitAnonymous: function(anonymousNode, visitArgs) {\n        if (anonymousNode.blocksVisibility()) {\n            return ;\n        }\n        anonymousNode.accept(this._visitor);\n        return anonymousNode;\n    }\n};\n\nmodule.exports = ToCSSVisitor;\n\n},{\"../tree\":62,\"./visitor\":91}],91:[function(require,module,exports){\nvar tree = require(\"../tree\");\n\nvar _visitArgs = { visitDeeper: true },\n    _hasIndexed = false;\n\nfunction _noop(node) {\n    return node;\n}\n\nfunction indexNodeTypes(parent, ticker) {\n    // add .typeIndex to tree node types for lookup table\n    var key, child;\n    for (key in parent) {\n        if (parent.hasOwnProperty(key)) {\n            child = parent[key];\n            switch (typeof child) {\n                case \"function\":\n                    // ignore bound functions directly on tree which do not have a prototype\n                    // or aren't nodes\n                    if (child.prototype && child.prototype.type) {\n                        child.prototype.typeIndex = ticker++;\n                    }\n                    break;\n                case \"object\":\n                    ticker = indexNodeTypes(child, ticker);\n                    break;\n            }\n        }\n    }\n    return ticker;\n}\n\nvar Visitor = function(implementation) {\n    this._implementation = implementation;\n    this._visitFnCache = [];\n\n    if (!_hasIndexed) {\n        indexNodeTypes(tree, 1);\n        _hasIndexed = true;\n    }\n};\n\nVisitor.prototype = {\n    visit: function(node) {\n        if (!node) {\n            return node;\n        }\n\n        var nodeTypeIndex = node.typeIndex;\n        if (!nodeTypeIndex) {\n            return node;\n        }\n\n        var visitFnCache = this._visitFnCache,\n            impl = this._implementation,\n            aryIndx = nodeTypeIndex << 1,\n            outAryIndex = aryIndx | 1,\n            func = visitFnCache[aryIndx],\n            funcOut = visitFnCache[outAryIndex],\n            visitArgs = _visitArgs,\n            fnName;\n\n        visitArgs.visitDeeper = true;\n\n        if (!func) {\n            fnName = \"visit\" + node.type;\n            func = impl[fnName] || _noop;\n            funcOut = impl[fnName + \"Out\"] || _noop;\n            visitFnCache[aryIndx] = func;\n            visitFnCache[outAryIndex] = funcOut;\n        }\n\n        if (func !== _noop) {\n            var newNode = func.call(impl, node, visitArgs);\n            if (impl.isReplacing) {\n                node = newNode;\n            }\n        }\n\n        if (visitArgs.visitDeeper && node && node.accept) {\n            node.accept(this);\n        }\n\n        if (funcOut != _noop) {\n            funcOut.call(impl, node);\n        }\n\n        return node;\n    },\n    visitArray: function(nodes, nonReplacing) {\n        if (!nodes) {\n            return nodes;\n        }\n\n        var cnt = nodes.length, i;\n\n        // Non-replacing\n        if (nonReplacing || !this._implementation.isReplacing) {\n            for (i = 0; i < cnt; i++) {\n                this.visit(nodes[i]);\n            }\n            return nodes;\n        }\n\n        // Replacing\n        var out = [];\n        for (i = 0; i < cnt; i++) {\n            var evald = this.visit(nodes[i]);\n            if (evald === undefined) { continue; }\n            if (!evald.splice) {\n                out.push(evald);\n            } else if (evald.length) {\n                this.flatten(evald, out);\n            }\n        }\n        return out;\n    },\n    flatten: function(arr, out) {\n        if (!out) {\n            out = [];\n        }\n\n        var cnt, i, item,\n            nestedCnt, j, nestedItem;\n\n        for (i = 0, cnt = arr.length; i < cnt; i++) {\n            item = arr[i];\n            if (item === undefined) {\n                continue;\n            }\n            if (!item.splice) {\n                out.push(item);\n                continue;\n            }\n\n            for (j = 0, nestedCnt = item.length; j < nestedCnt; j++) {\n                nestedItem = item[j];\n                if (nestedItem === undefined) {\n                    continue;\n                }\n                if (!nestedItem.splice) {\n                    out.push(nestedItem);\n                } else if (nestedItem.length) {\n                    this.flatten(nestedItem, out);\n                }\n            }\n        }\n\n        return out;\n    }\n};\nmodule.exports = Visitor;\n\n},{\"../tree\":62}],92:[function(require,module,exports){\n\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n\n},{\"./raw\":93}],93:[function(require,module,exports){\n(function (global){\n\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\nvar BrowserMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],94:[function(require,module,exports){\n'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('not a function');\n  }\n  this._45 = 0;\n  this._81 = 0;\n  this._65 = null;\n  this._54 = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._10 = null;\nPromise._97 = null;\nPromise._61 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n};\nfunction handle(self, deferred) {\n  while (self._81 === 3) {\n    self = self._65;\n  }\n  if (Promise._10) {\n    Promise._10(self);\n  }\n  if (self._81 === 0) {\n    if (self._45 === 0) {\n      self._45 = 1;\n      self._54 = deferred;\n      return;\n    }\n    if (self._45 === 1) {\n      self._45 = 2;\n      self._54 = [self._54, deferred];\n      return;\n    }\n    self._54.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._81 === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._81 === 1) {\n        resolve(deferred.promise, self._65);\n      } else {\n        reject(deferred.promise, self._65);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._65);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._81 = 3;\n      self._65 = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._81 = 1;\n  self._65 = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._81 = 2;\n  self._65 = newValue;\n  if (Promise._97) {\n    Promise._97(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._45 === 1) {\n    handle(self, self._54);\n    self._54 = null;\n  }\n  if (self._45 === 2) {\n    for (var i = 0; i < self._54.length; i++) {\n      handle(self, self._54[i]);\n    }\n    self._54 = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  })\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n\n},{\"asap/raw\":93}],95:[function(require,module,exports){\n'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._61);\n  p._81 = 1;\n  p._65 = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._81 === 3) {\n            val = val._65;\n          }\n          if (val._81 === 1) return res(i, val._65);\n          if (val._81 === 2) reject(val._65);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\n},{\"./core.js\":94}],96:[function(require,module,exports){\n// should work in any browser without browserify\n\nif (typeof Promise.prototype.done !== 'function') {\n  Promise.prototype.done = function (onFulfilled, onRejected) {\n    var self = arguments.length ? this.then.apply(this, arguments) : this\n    self.then(null, function (err) {\n      setTimeout(function () {\n        throw err\n      }, 0)\n    })\n  }\n}\n},{}],97:[function(require,module,exports){\n// not \"use strict\" so we can declare global \"Promise\"\n\nvar asap = require('asap');\n\nif (typeof Promise === 'undefined') {\n  Promise = require('./lib/core.js')\n  require('./lib/es6-extensions.js')\n}\n\nrequire('./polyfill-done.js');\n\n},{\"./lib/core.js\":94,\"./lib/es6-extensions.js\":95,\"./polyfill-done.js\":96,\"asap\":92}]},{},[2])(2)\n});"]}