{"version":3,"sources":["../../../../source/js/lib/vendor/CollapsibleLists.js"],"names":["CollapsibleLists","createClickListener","node","e","window","event","li","target","srcElement","nodeName","parentNode","toggle","open","className","match","uls","getElementsByTagName","index","length","style","display","replace","this","apply","doNotRecurse","document","applyTo","subUls","subIndex","lis","addEventListener","preventDefault","attachEvent","returnValue"],"mappings":"AAcA,GAAIA,kBACA,GAAI,YAkFF,QAASC,GAAoBC,GAG3B,MAAO,UAASC,GAGTA,IAAGA,EAAIC,OAAOC,MAInB,KADA,GAAIC,GAAMH,EAAEI,OAASJ,EAAEI,OAASJ,EAAEK,WACZ,MAAfF,EAAGG,UAAkBH,EAAKA,EAAGI,UAGhCJ,IAAMJ,GAAMS,EAAOT,IAW3B,QAASS,GAAOT,GAOd,IAAK,GAJDU,GAAOV,EAAKW,UAAUC,MAAM,mCAG5BC,EAAMb,EAAKc,qBAAqB,MAC3BC,EAAQ,EAAGA,EAAQF,EAAIG,OAAQD,IAAS,CAI/C,IADA,GAAIX,GAAKS,EAAIE,GACS,MAAfX,EAAGG,UAAkBH,EAAKA,EAAGI,UAGhCJ,IAAMJ,IAAMa,EAAIE,GAAOE,MAAMC,QAAWR,EAAO,QAAU,QAK/DV,EAAKW,UACDX,EAAKW,UAAUQ,QACX,yCAA0C,IAG9CN,EAAIG,OAAS,IACfhB,EAAKW,WAAa,oBAAsBD,EAAO,OAAS,WA5H5DU,KAAKC,MAAQ,SAASC,GAIpB,IAAK,GADDT,GAAMU,SAAST,qBAAqB,MAC/BC,EAAQ,EAAGA,EAAQF,EAAIG,OAAQD,IAGtC,GAAIF,EAAIE,GAAOJ,UAAUC,MAAM,+BAG7BQ,KAAKI,QAAQX,EAAIE,IAAQ,IAGpBO,GAIH,IAAK,GADDG,GAASZ,EAAIE,GAAOD,qBAAqB,MACpCY,EAAW,EAAGA,EAAWD,EAAOT,OAAQU,IAC/CD,EAAOC,GAAUf,WAAa,oBAgBxCS,KAAKI,QAAU,SAASxB,EAAMsB,GAI5B,IAAK,GADDK,GAAM3B,EAAKc,qBAAqB,MAC3BC,EAAQ,EAAGA,EAAQY,EAAIX,OAAQD,IAGjCO,GAAgBtB,GAAQ2B,EAAIZ,GAAOP,aAGlCmB,EAAIZ,GAAOa,iBACbD,EAAIZ,GAAOa,iBACP,YAAa,SAAU3B,GAAIA,EAAE4B,mBAAqB,GAEtDF,EAAIZ,GAAOe,YACP,gBAAiB,WAAY3B,MAAM4B,aAAc,IAInDJ,EAAIZ,GAAOa,iBACbD,EAAIZ,GAAOa,iBACP,QAAS7B,EAAoB4B,EAAIZ,KAAS,GAE9CY,EAAIZ,GAAOe,YACP,UAAW/B,EAAoB4B,EAAIZ,KAIzCN,EAAOkB,EAAIZ","file":"CollapsibleLists.min.js","sourcesContent":["/*\r\n\r\nCollapsibleLists.js\r\n\r\nAn object allowing lists to dynamically expand and collapse\r\n\r\nCreated by Stephen Morley - http://code.stephenmorley.org/ - and released under\r\nthe terms of the CC0 1.0 Universal legal code:\r\n\r\nhttp://creativecommons.org/publicdomain/zero/1.0/legalcode\r\n\r\n*/\r\n\r\n// create the CollapsibleLists object\r\nvar CollapsibleLists =\r\n    new function(){\r\n\r\n      /* Makes all lists with the class 'collapsibleList' collapsible. The\r\n       * parameter is:\r\n       *\r\n       * doNotRecurse - true if sub-lists should not be made collapsible\r\n       */\r\n      this.apply = function(doNotRecurse){\r\n\r\n        // loop over the unordered lists\r\n        var uls = document.getElementsByTagName('ul');\r\n        for (var index = 0; index < uls.length; index ++){\r\n\r\n          // check whether this list should be made collapsible\r\n          if (uls[index].className.match(/(^| )collapsibleList( |$)/)){\r\n\r\n            // make this list collapsible\r\n            this.applyTo(uls[index], true);\r\n\r\n            // check whether sub-lists should also be made collapsible\r\n            if (!doNotRecurse){\r\n\r\n              // add the collapsibleList class to the sub-lists\r\n              var subUls = uls[index].getElementsByTagName('ul');\r\n              for (var subIndex = 0; subIndex < subUls.length; subIndex ++){\r\n                subUls[subIndex].className += ' collapsibleList';\r\n              }\r\n\r\n            }\r\n\r\n          }\r\n\r\n        }\r\n\r\n      };\r\n\r\n      /* Makes the specified list collapsible. The parameters are:\r\n       *\r\n       * node         - the list element\r\n       * doNotRecurse - true if sub-lists should not be made collapsible\r\n       */\r\n      this.applyTo = function(node, doNotRecurse){\r\n\r\n        // loop over the list items within this node\r\n        var lis = node.getElementsByTagName('li');\r\n        for (var index = 0; index < lis.length; index ++){\r\n\r\n          // check whether this list item should be collapsible\r\n          if (!doNotRecurse || node == lis[index].parentNode){\r\n\r\n            // prevent text from being selected unintentionally\r\n            if (lis[index].addEventListener){\r\n              lis[index].addEventListener(\r\n                  'mousedown', function (e){ e.preventDefault(); }, false);\r\n            }else{\r\n              lis[index].attachEvent(\r\n                  'onselectstart', function(){ event.returnValue = false; });\r\n            }\r\n\r\n            // add the click listener\r\n            if (lis[index].addEventListener){\r\n              lis[index].addEventListener(\r\n                  'click', createClickListener(lis[index]), false);\r\n            }else{\r\n              lis[index].attachEvent(\r\n                  'onclick', createClickListener(lis[index]));\r\n            }\r\n\r\n            // close the unordered lists within this list item\r\n            toggle(lis[index]);\r\n\r\n          }\r\n\r\n        }\r\n\r\n      };\r\n\r\n      /* Returns a function that toggles the display status of any unordered\r\n       * list elements within the specified node. The parameter is:\r\n       *\r\n       * node - the node containing the unordered list elements\r\n       */\r\n      function createClickListener(node){\r\n\r\n        // return the function\r\n        return function(e){\r\n\r\n          // ensure the event object is defined\r\n          if (!e) e = window.event;\r\n\r\n          // find the list item containing the target of the event\r\n          var li = (e.target ? e.target : e.srcElement);\r\n          while (li.nodeName != 'LI') li = li.parentNode;\r\n\r\n          // toggle the state of the node if it was the target of the event\r\n          if (li == node) toggle(node);\r\n\r\n        };\r\n\r\n      }\r\n\r\n      /* Opens or closes the unordered list elements directly within the\r\n       * specified node. The parameter is:\r\n       *\r\n       * node - the node containing the unordered list elements\r\n       */\r\n      function toggle(node){\r\n\r\n        // determine whether to open or close the unordered lists\r\n        var open = node.className.match(/(^| )collapsibleListClosed( |$)/);\r\n\r\n        // loop over the unordered list elements with the node\r\n        var uls = node.getElementsByTagName('ul');\r\n        for (var index = 0; index < uls.length; index ++){\r\n\r\n          // find the parent list item of this unordered list\r\n          var li = uls[index];\r\n          while (li.nodeName != 'LI') li = li.parentNode;\r\n\r\n          // style the unordered list if it is directly within this node\r\n          if (li == node) uls[index].style.display = (open ? 'block' : 'none');\r\n\r\n        }\r\n\r\n        // remove the current class from the node\r\n        node.className =\r\n            node.className.replace(\r\n                /(^| )collapsibleList(Open|Closed)( |$)/, '');\r\n\r\n        // if the node contains unordered lists, set its class\r\n        if (uls.length > 0){\r\n          node.className += ' collapsibleList' + (open ? 'Open' : 'Closed');\r\n        }\r\n\r\n      }\r\n\r\n    }();\r\n"]}