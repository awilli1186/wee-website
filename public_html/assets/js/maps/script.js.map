{"version":3,"sources":["../../../../node_modules/wee-core/temp/?","../../../../node_modules/wee-core/js/wee.js","../../../../node_modules/wee-core/js/wee.animate.js","../../../../node_modules/wee-core/js/wee.assets.js","../../../../node_modules/wee-core/js/wee.data.js","../../../../node_modules/wee-core/js/wee.dom.js","../../../../node_modules/wee-core/js/wee.events.js","../../../../node_modules/wee-core/js/wee.history.js","../../../../node_modules/wee-core/js/wee.routes.js","../../../../node_modules/wee-core/js/wee.screen.js","../../../../node_modules/wee-core/js/wee.view.js","../../../../node_modules/wee-core/js/wee.view.diff.js","../../../../node_modules/wee-core/js/wee.chain.js","../../../../node_modules/wee-core/js/chain/wee.chain.animate.js","../../../../node_modules/wee-core/js/chain/wee.chain.dom.js","../../../../node_modules/wee-core/js/chain/wee.chain.events.js","../../../../node_modules/wee-core/js/chain/wee.chain.view.js","../../../../node_modules/wee-core/temp/views.js","../../../../source/js/build/vendor/tinyscrollbar.js","../../../../source/js/build/blog.js","../../../../source/js/build/code.js","../../../../source/js/build/common.js","../../../../source/js/build/docs.js","../../../../source/js/build/link.js","../../../../source/js/build/search.js","../../../../source/js/build/sidebar.js","../../../../source/js/build/structure.js","../../../../source/js/custom/script.js"],"names":["exports","global","Wee","W","U","web","window","scope","env","range","D","document","store","$","observe","refs","_storage","obj","key","create","data","segs","split","pop","forEach","hasOwnProperty","_copy","_set","obs","val","options","stored","seg","_val","_trigger","_get","fallback","set","_has","resp","$isObject","Array","isArray","indexOf","_add","type","prepend","root","$toArray","concat","unshift","push","_merge","$extend","_drop","i","splice","isNaN","_observe","fn","orig","upd","Object","keys","length","_equals","arr","opts","map","join","el","recursive","value","args","diff","_diff","$exec","once","$type","_extend","slice","_contains","source","target","_html","contains","object","deep","src","len","a","b","aType","_arrEquals","_objEquals","every","aKeys","sort","aObj","bObj","after","before","_canExec","_$","WeeAlias","_body","body","_doc","documentElement","_slice","_win","make","name","pub","priv","base","basePubConst","basePrivConst","_construct","$private","_make","extend","c","this","selector","context","ref","filter","sel","trim","WeeSelector","test","pre","getElementById","substr","getElementsByClassName","getElementsByTagName","querySelectorAll","e","$parseHTML","childNodes","nodeType","call","html","createRange","selectNode","createContextualFragment","child","div","createElement","createDocumentFragment","innerHTML","firstChild","appendChild","$set","$get","$push","$concat","$merge","$has","$drop","$observe","$unobserve","$trigger","$each","conf","els","_selArray","reverse","$env","rules","fb","host","location","hostname","rule","$envSecure","protocol","fns","response","apply","bool","arguments","$diff","$equals","$isArray","$isFunction","$isString","$map","res","$serialize","encodeURIComponent","replace","$unserialize","str","decodeURIComponent","$setRef","getAttribute","$setVar","_castString","prototype","toString","toLowerCase","$unique","array","$chain","controller","method","parseInt","JSON","parse","model","id","Public","Private","core","$destroy","_destruct","$public","pubDest","basePubDest","basePrivDest","ready","readyState","addEventListener","module","undefined","raf","easings","ease","t","linear","process","prop","cssValue","scroll","bodyScroll","getComputedStyle","css","unit","setValue","update","style","dir","dist","Math","abs","start","Date","now","duration","complete","animate","tween","values","requestAnimationFrame","cb","setTimeout","addEasing","groups","loaded","groupId","_load","js","path","async","onload","_done","group","onerror","_fail","head","link","rel","href","img","Image","assets","load","files","ext","file","noCache","cache","remove","parentNode","removeChild","poll","hasErrors","error","success","version","_change","x","code","status","exec","_success","responseText","json","_jsonp","jsonpCallback","jsonp","_getUrl","request","headers","dt","url","XMLHttpRequest","send","onreadystatechange","contentTypeHeader","toUpperCase","processData","stringify","serialize","open","Accept","setRequestHeader","_getSelected","select","option","selected","_getClass","SVGElement","className","_setClass","setAttribute","_getSibling","match","index","$index","$children","$parent","$is","_toCamel","_toDashed","$addClass","func","cn","names","$after","aft","par","cel","$clone","insertBefore","nextSibling","$remove","$append","app","$attr","$before","bef","parent","children","$filter","cloneNode","$closest","$contains","descendant","$contents","$css","$data","attributes","attr","$empty","$eq","$find","$first","$hasClass","some","RegExp","$height","height","innerHeight","scrollHeight","offsetHeight","marginTop","marginBottom","$hide","$html","nodeName","atob","outerHTML","$insertAfter","$insertBefore","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","$last","$next","$not","$offset","rect","getBoundingClientRect","offset","top","pageYOffset","left","pageXOffset","$parents","$position","offsetTop","offsetLeft","$prepend","$prev","$prop","$removeAttr","removeAttribute","$removeClass","$replaceWith","$scrollLeft","scrollLeft","$scrollTop","scrollTop","$serializeForm","elements","checked","$show","$siblings","siblings","$slice","end","$text","textContent","$toggle","$toggleClass","state","$val","opt","$width","width","innerWidth","scrollWidth","offsetWidth","marginLeft","marginRight","$wrap","wrap","$wrapInner","bound","custom","_bind","delegate","targ","evts","evt","ev","f","cont","_off","events","init","removeEventListener","on","off","event","binding","parts","String","trigger","preventDefault","stopPropagation","addEvent","E","H","support","pushState","entries","settings","_path","loc","pathname","search","hash","_isValid","hasAttribute","exts","extensions","_reset","history","bind","_process","prev","title","routes","uri","run","pushstate","popstate","partials","scrollRestoration","replaceState","prevConf","go","click","submit","each","form","l","full","metaKey","req","begin","sendEvents","successEvents","errorEvents","completeEvents","targets","X-PJAX","X-Requested-With","replaceEvent","action","replaceChild","scrollEvent","st","anim","processErrors","filters","num","Number","any","route","total","k","y","ran","negate","eq","query","segments","curr","addFilter","current","_addRule","callback","watch","_run","size","screen","_eq","sz","mn","min","mx","max","ex","parseFloat","getPropertyValue","sets","reset","namespace","esc","reg","pair","partial","single","tags","helpers","is","not","isEmpty","empty","notEmpty","views","_isEmpty","_embed","temp","m","tag","_render","depth","helper","exists","o","_parse","inner","cond","help","meth","sec","agg","arg","rv","_parseArgs","isObject",".","#","##","isPlainObject","item","$key","helps","view","render","$pause","$resume","template","addHelper","addView","specialElHandlers","OPTION","fromEl","toEl","INPUT","TEXTAREA","newValue","nodeValue","_morphAttrs","fromNode","toNode","attrName","attrValue","attrs","foundAttrs","specified","_moveChildren","curChild","nextChild","savedEls","unmatchedEls","removeNodeHelper","node","nestedInSavedEl","walkDiscardedChildNodes","removeNode","alreadyVisited","morphEl","tagName","curToNodeId","fromNextSibling","toNextSibling","savedEl","unmatchedEl","curToNodeChild","curFromNodeChild","outer","curFromNodeId","curFromNodeType","isCompatible","specialElHandler","morphedNode","savedElId","A","Get","copy","setRef","setVar","toArray","add","addClass","append","appendTo","clone","closest","contents","r","find","first","get","hasClass","hide","insertAfter","last","next","parents","position","prependTo","removeAttr","removeClass","replaceWith","show","text","toggle","toggleClass","wrapInner","Plugin","$container","_initialize","self","_setEvents","_setCss","$thumb","posiLabel","thumbPosition","$overview","contentPosition","$scrollbar","sizeLabel","trackSize","$track","thumbSize","hasTouchEvents","$viewport","ontouchstart","touches","_start","onmousedown","wheel","wheelEvent","_wheel","onmousewheel","_isAtBegin","_isAtEnd","contentSize","viewportSize","gotoMouse","hasContentToSroll","charAt","mousePosition","isHorizontal","clientX","clientY","$body","ontouchmove","touchLock","_drag","ontouchend","_end","onmousemove","onmouseup","evntObj","wheelSpeedDelta","deltaY","detail","wheelDelta","deltaMode","wheelSpeed","trackRatio","dispatchEvent","moveEvent","wheelLock","mousePositionNew","thumbPositionDelta","thumbPositionNew","defaults","_defaults","_name","pluginName","axis","createEvent","initEvent","contentRatio","scrollTo","sizeLabelCap","scrcls","thumbSizeMin","tinyscrollbar","define","amd","disqus_shortname","hljs","highlightBlock","selectCode","getSelection","selectNodeContents","removeAllRanges","addRange","$header","$switch","$nav","$pull","setScheme","$el","outlineClass","dark","getCookie","d","setTime","getTime","cookie","toUTCString","sidebar","initScrolling","ga","$navLinks","activeClass","$link","section","$search","searchExpanded","focus","keydown","keyCode","keyup","blur","$active","collapse","processing","$entries","hitsPerPage","x-algolia-api-key","x-algolia-application-id","$output","nbHits","content","isActive","$sidebarToggle","$headerNav","$primary","$footer","$topNav","$subnavLinks","active","scroller","resize","setOffsets","setActive","wrapper","$topnav","$subnav","offsets","$targ","CollapsibleLists","applyTo","$any:once","$seg","$any","structure","build","modules","blog","$slug","customize"],"mappings":"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","file":"../script.min.js","sourcesContent":[null,"// Wee (weepower.com)\n// Licensed under Apache 2 (http://www.apache.org/licenses/LICENSE-2.0)\n// DO NOT MODIFY\n\n/* global exports */\n/* jshint maxdepth: 4, maxparams: 6 */\n\nvar Wee;\n\n(function(W, U) {\n\t'use strict';\n\n\tvar web = typeof window != 'undefined',\n\t\tscope = web ? window : global,\n\t\tW = (function() {\n\t\t\tvar D = web ? document : {},\n\t\t\t\tstore = {\n\t\t\t\t\t$: {}\n\t\t\t\t},\n\t\t\t\tobserve = {},\n\t\t\t\trefs = {},\n\t\t\t\tenv,\n\t\t\t\trange,\n\n\t\t\t\t/**\n\t\t\t\t * Determine data storage root and key\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {boolean} [create=false]\n\t\t\t\t * @returns {Array} value\n\t\t\t\t */\n\t\t\t\t_storage = function(obj, key, create) {\n\t\t\t\t\tvar data = obj;\n\n\t\t\t\t\tif (typeof key == 'string') {\n\t\t\t\t\t\tvar segs = key.split('.');\n\t\t\t\t\t\tkey = segs.pop();\n\t\t\t\t\t\tdata = data.$;\n\n\t\t\t\t\t\tsegs.forEach(function(key) {\n\t\t\t\t\t\t\tdata = data.hasOwnProperty(key) ?\n\t\t\t\t\t\t\t\tdata[key] :\n\t\t\t\t\t\t\t\t(create ? data[key] = {} : []);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkey = '$';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [data, key, _copy(data[key])];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Set global variable\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_set = function(obj, obs, key, val, options) {\n\t\t\t\t\tvar stored = _storage(obj, key, true),\n\t\t\t\t\t\tseg = stored[1],\n\t\t\t\t\t\tdata = seg == '$' ?\n\t\t\t\t\t\t\t_val(key, val) :\n\t\t\t\t\t\t\t_val(val, options);\n\n\t\t\t\t\tstored[0][seg] = data;\n\n\t\t\t\t\t_trigger(obj, obs, key, stored[2], data, 'set');\n\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get global variable\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_get = function(obj, obs, key, fallback, set, options) {\n\t\t\t\t\tvar stored = _storage(obj, key),\n\t\t\t\t\t\tdata = stored[0];\n\n\t\t\t\t\tif (key) {\n\t\t\t\t\t\tif (data.hasOwnProperty(stored[1])) {\n\t\t\t\t\t\t\treturn data[stored[1]];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (fallback !== U) {\n\t\t\t\t\t\t\treturn set ?\n\t\t\t\t\t\t\t\t_set(obj, obs, key, fallback, options) :\n\t\t\t\t\t\t\t\t_val(fallback, options);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn data.$;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Check if storage criteria is set\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_has = function(obj, key, val) {\n\t\t\t\t\tvar data = _storage(obj, key),\n\t\t\t\t\t\tresp = data[0][data[1]];\n\n\t\t\t\t\tif (val !== U) {\n\t\t\t\t\t\tif (W.$isObject(resp)) {\n\t\t\t\t\t\t\treturn resp.hasOwnProperty(val);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Array.isArray(resp)) {\n\t\t\t\t\t\t\treturn resp.indexOf(val) > -1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn resp === val;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn resp !== U;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Push or concatenate values into global array\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_add = function(type, obj, obs, key, val, prepend) {\n\t\t\t\t\tvar stored = _storage(obj, key, true),\n\t\t\t\t\t\troot = stored[0],\n\t\t\t\t\t\tseg = stored[1];\n\t\t\t\t\troot[seg] = root[seg] || [];\n\n\t\t\t\t\tif (seg == '$') {\n\t\t\t\t\t\tprepend = val;\n\t\t\t\t\t\tval = key;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (! Array.isArray(root[seg])) {\n\t\t\t\t\t\troot[seg] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (type == 1) {\n\t\t\t\t\t\troot[seg] = prepend ?\n\t\t\t\t\t\t\tW.$toArray(val).concat(root[seg]) :\n\t\t\t\t\t\t\troot[seg].concat(val);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprepend ?\n\t\t\t\t\t\t\troot[seg].unshift(val) :\n\t\t\t\t\t\t\troot[seg].push(val);\n\t\t\t\t\t}\n\n\t\t\t\t\t_trigger(obj, obs, key, stored[2], root[seg],\n\t\t\t\t\t\ttype == 1 ? 'concat' : 'push');\n\n\t\t\t\t\treturn root[seg];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend object into into global storage\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_merge = function(obj, obs, key, val) {\n\t\t\t\t\tval === U ?\n\t\t\t\t\t\tkey = W.$extend(true, {}, obj.$, key) :\n\t\t\t\t\t\tval = W.$extend(true, {}, _get(obj, obs, key, {}), val);\n\n\t\t\t\t\treturn _set(obj, obs, key, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Remove key or value from global array\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_drop = function(obj, obs, key, val) {\n\t\t\t\t\tvar stored = _storage(obj, key),\n\t\t\t\t\t\troot = stored[0],\n\t\t\t\t\t\tseg = stored[1],\n\t\t\t\t\t\tresp = root[seg];\n\n\t\t\t\t\tif (val !== U) {\n\t\t\t\t\t\tif (resp !== U) {\n\t\t\t\t\t\t\tif (W.$isObject(resp)) {\n\t\t\t\t\t\t\t\tdelete root[key];\n\t\t\t\t\t\t\t} else if (typeof resp == 'string' && resp === val) {\n\t\t\t\t\t\t\t\tdelete root[seg];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar i = resp.indexOf(val);\n\n\t\t\t\t\t\t\t\tif (i > -1) {\n\t\t\t\t\t\t\t\t\tresp.splice(i, 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisNaN(seg) ?\n\t\t\t\t\t\t\tdelete root[seg] :\n\t\t\t\t\t\t\troot.splice(seg, 1);\n\t\t\t\t\t}\n\n\t\t\t\t\t_trigger(obj, obs, key, stored[2], root[seg], 'drop');\n\n\t\t\t\t\treturn val !== U ? root[seg] : root;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Attach callback to data storage change\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_observe = function(obs, key, fn, options) {\n\t\t\t\t\toptions = options || {};\n\t\t\t\t\toptions.fn = fn;\n\n\t\t\t\t\tobs[key] = obs[key] || [];\n\t\t\t\t\tobs[key].push(options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Fire callback from data storage change\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_trigger = function(obj, obs, key, orig, upd, type) {\n\t\t\t\t\tif (Object.keys(obs).length && (\n\t\t\t\t\t\ttype == 'trigger' ||\n\t\t\t\t\t\t! _equals(upd, orig)\n\t\t\t\t\t)) {\n\t\t\t\t\t\tif (typeof key != 'string') {\n\t\t\t\t\t\t\tkey = '';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar arr = [],\n\t\t\t\t\t\t\topts = key.split('.').map(function(seg) {\n\t\t\t\t\t\t\t\tarr.push(seg);\n\t\t\t\t\t\t\t\treturn arr.join('.');\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tfor (var val in obs) {\n\t\t\t\t\t\t\tif (opts.indexOf(val) > -1 || val == '*') {\n\t\t\t\t\t\t\t\tvar data = val == '*' ? obj.$ : upd;\n\n\t\t\t\t\t\t\t\tobs[val].forEach(function(el, i) {\n\t\t\t\t\t\t\t\t\tif (val === key || val == '*' || el.recursive) {\n\t\t\t\t\t\t\t\t\t\tif (! el.value || _equals(el.value, data)) {\n\t\t\t\t\t\t\t\t\t\t\tvar args = [\n\t\t\t\t\t\t\t\t\t\t\t\tel.recursive ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(obj, false, val) :\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\t\t\t\t\ttype\n\t\t\t\t\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\t\t\t\t\tif (el.diff) {\n\t\t\t\t\t\t\t\t\t\t\t\targs.push(_diff(orig, data));\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tW.$exec(el.fn, {\n\t\t\t\t\t\t\t\t\t\t\t\targs: args\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\tif (el.once) {\n\t\t\t\t\t\t\t\t\t\t\t\tobs[val].splice(i, 1);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Clone value to a new instance\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {*} val\n\t\t\t\t * @returns {*}\n\t\t\t\t */\n\t\t\t\t_copy = function(val) {\n\t\t\t\t\tvar type = W.$type(val);\n\n\t\t\t\t\tif (type == 'object') {\n\t\t\t\t\t\tval = _extend({}, val, true);\n\t\t\t\t\t} else if (type == 'array') {\n\t\t\t\t\t\tval = val.slice(0);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Check if a node contains another node\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {HTMLElement} source\n\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t * @returns {boolean} match\n\t\t\t\t */\n\t\t\t\t_contains = function(source, target) {\n\t\t\t\t\treturn (source === D ? W._html : source)\n\t\t\t\t\t\t.contains(target);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend target object with source object(s)\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} target\n\t\t\t\t * @param {object} object\n\t\t\t\t * @param {boolean} [deep=false]\n\t\t\t\t * @param {Array} [_set=[]]\n\t\t\t\t * @returns object\n\t\t\t\t */\n\t\t\t\t_extend = function(target, object, deep, _set) {\n\t\t\t\t\tif (! object) {\n\t\t\t\t\t\treturn target;\n\t\t\t\t\t}\n\n\t\t\t\t\t_set = _set || [];\n\n\t\t\t\t\tfor (var key in object) {\n\t\t\t\t\t\tvar src = object[key],\n\t\t\t\t\t\t\ttype = W.$type(src);\n\n\t\t\t\t\t\tif (deep && type == 'object') {\n\t\t\t\t\t\t\tvar len = _set.length,\n\t\t\t\t\t\t\t\ti = 0,\n\t\t\t\t\t\t\t\tval;\n\n\t\t\t\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\t\t\t\tif (_set[i] === src) {\n\t\t\t\t\t\t\t\t\tval = src;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (val) {\n\t\t\t\t\t\t\t\ttarget[key] = val;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_set.push(src);\n\t\t\t\t\t\t\t\ttarget[key] = _extend(target[key] || {}, src, deep, _set);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (src !== U) {\n\t\t\t\t\t\t\ttarget[key] = type == 'array' ? src.slice(0) : src;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn target;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two values for equality\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {*} a\n\t\t\t\t * @param {*} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t_equals = function(a, b) {\n\t\t\t\t\tif (a === b) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar aType = W.$type(a);\n\n\t\t\t\t\tif (aType != W.$type(b)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (aType == 'array') {\n\t\t\t\t\t\treturn _arrEquals(a, b);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (aType == 'object') {\n\t\t\t\t\t\treturn _objEquals(a, b);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (aType == 'date') {\n\t\t\t\t\t\treturn +a == +b; // jscs:ignore\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two arrays for equality\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {Array} a\n\t\t\t\t * @param {Array} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t_arrEquals = function(a, b) {\n\t\t\t\t\treturn a.length == b.length &&\n\t\t\t\t\t\ta.every(function(el, i) {\n\t\t\t\t\t\t\treturn _equals(el, b[i]);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two objects for equality\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} a\n\t\t\t\t * @param {object} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t_objEquals = function(a, b) {\n\t\t\t\t\tvar aKeys = Object.keys(a);\n\n\t\t\t\t\treturn _arrEquals(aKeys.sort(), Object.keys(b).sort()) &&\n\t\t\t\t\t\taKeys.every(function(i) {\n\t\t\t\t\t\t\treturn _equals(a[i], b[i]);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Generate a delta from two objects\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} a - original object\n\t\t\t\t * @param {object} b - updated object\n\t\t\t\t * @returns {object}\n\t\t\t\t */\n\t\t\t\t_diff = function(a, b) {\n\t\t\t\t\tvar aObj = W.$isObject(a),\n\t\t\t\t\t\tbObj = W.$isObject(b);\n\n\t\t\t\t\tif (! (aObj || bObj)) {\n\t\t\t\t\t\tvar type = 'u';\n\n\t\t\t\t\t\tif (_equals(a, b)) {\n\t\t\t\t\t\t\ttype = '-';\n\t\t\t\t\t\t} else if (a === U) {\n\t\t\t\t\t\t\ttype = 'c';\n\t\t\t\t\t\t} else if (b === U) {\n\t\t\t\t\t\t\ttype = 'd';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tafter: b,\n\t\t\t\t\t\t\tbefore: a,\n\t\t\t\t\t\t\ttype: type\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tvar diff = {};\n\n\t\t\t\t\tif (aObj) {\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tdiff[key] = _diff(\n\t\t\t\t\t\t\t\ta[key],\n\t\t\t\t\t\t\t\tb && bObj ? b[key] : U\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (bObj) {\n\t\t\t\t\t\tObject.keys(b).forEach(function(key) {\n\t\t\t\t\t\t\tif (! diff[key]) {\n\t\t\t\t\t\t\t\tdiff[key] = _diff(U, b[key]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn diff;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get value from function or directly\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {*} val\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @returns {*}\n\t\t\t\t */\n\t\t\t\t_val = function(val, options) {\n\t\t\t\t\treturn W._canExec(val) ?\n\t\t\t\t\t\tW.$exec(val, options) :\n\t\t\t\t\t\tval;\n\t\t\t\t};\n\n\t\t\treturn {\n\t\t\t\t_$: scope.WeeAlias || '$',\n\t\t\t\t_body: D.body,\n\t\t\t\t_doc: D,\n\t\t\t\t_html: D.documentElement,\n\t\t\t\t_slice: [].slice,\n\t\t\t\t_win: scope,\n\t\t\t\tfn: {\n\t\t\t\t\t/**\n\t\t\t\t\t * Create a namespaced controller\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} name\n\t\t\t\t\t * @param {object} pub - public methods and properties\n\t\t\t\t\t * @param {object} [priv] - private methods and properties\n\t\t\t\t\t */\n\t\t\t\t\tmake: function(name, pub, priv) {\n\t\t\t\t\t\tvar base,\n\t\t\t\t\t\t\tbasePubConst,\n\t\t\t\t\t\t\tbasePrivConst;\n\n\t\t\t\t\t\t// Check for base controller\n\t\t\t\t\t\tif (name.indexOf(':') > 0) {\n\t\t\t\t\t\t\tvar segs = name.split(':');\n\t\t\t\t\t\t\tbase = _copy(W[segs[1]]);\n\t\t\t\t\t\t\tbasePubConst = base._construct;\n\t\t\t\t\t\t\tbasePrivConst = base.$private._construct;\n\t\t\t\t\t\t\tname = segs[0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Create new controller instance\n\t\t\t\t\t\tW.fn[name] = W._make(name, pub, priv, base);\n\t\t\t\t\t\tW[name] = new W.fn[name](name);\n\n\t\t\t\t\t\t// Execute base constructors\n\t\t\t\t\t\tif (basePubConst) {\n\t\t\t\t\t\t\tbasePubConst();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (basePrivConst) {\n\t\t\t\t\t\t\tbasePrivConst();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Execute controller constructors\n\t\t\t\t\t\tif (W[name].$private._construct) {\n\t\t\t\t\t\t\tW[name].$private._construct();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (W[name]._construct) {\n\t\t\t\t\t\t\tW[name]._construct();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Extend controller with additional methods and properties\n\t\t\t\t\t *\n\t\t\t\t\t * @param {(object|string)} a - controller name or core methods\n\t\t\t\t\t * @param {object} [b] - public methods and properties\n\t\t\t\t\t * @param {object} [c] - private methods and properties\n\t\t\t\t\t */\n\t\t\t\t\textend: function(a, b, c) {\n\t\t\t\t\t\tif (W.$isObject(a)) {\n\t\t\t\t\t\t\t// Merge into the global object\n\t\t\t\t\t\t\t_extend(W, a);\n\t\t\t\t\t\t} else if (W.hasOwnProperty(a)) {\n\t\t\t\t\t\t\t// Merge the objects else create the controller\n\t\t\t\t\t\t\tif (c) {\n\t\t\t\t\t\t\t\tb.$private = c;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_extend(W[a], b, true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.make(a, b, c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get matches to specified selector or return parsed HTML\n\t\t\t\t *\n\t\t\t\t * @param {($|HTMLElement|string)} selector\n\t\t\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t\t\t * @returns {Array} elements\n\t\t\t\t */\n\t\t\t\t$: function(selector, context) {\n\t\t\t\t\tvar el = null,\n\t\t\t\t\t\tref = [];\n\n\t\t\t\t\tif (typeof selector != 'string') {\n\t\t\t\t\t\tel = selector;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (selector == 'window') {\n\t\t\t\t\t\t\treturn [scope];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (selector == 'document') {\n\t\t\t\t\t\t\treturn [D];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Return nothing if context doesn't exist\n\t\t\t\t\t\tcontext = context !== U ? W.$(context)[0] : D;\n\n\t\t\t\t\t\tif (! context) {\n\t\t\t\t\t\t\treturn ref;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Check for pre-cached elements\n\t\t\t\t\t\tif (selector.indexOf('ref:') > -1) {\n\t\t\t\t\t\t\tvar split = selector.split(',').filter(function(sel) {\n\t\t\t\t\t\t\t\tsel = sel.trim();\n\n\t\t\t\t\t\t\t\tif (sel.slice(0, 4) == 'ref:') {\n\t\t\t\t\t\t\t\t\tsel = sel.slice(4);\n\t\t\t\t\t\t\t\t\tsel = refs[sel];\n\n\t\t\t\t\t\t\t\t\t// Apply context filter if not document\n\t\t\t\t\t\t\t\t\tif (sel) {\n\t\t\t\t\t\t\t\t\t\tref = ref.concat(\n\t\t\t\t\t\t\t\t\t\t\tcontext === D ?\n\t\t\t\t\t\t\t\t\t\t\t\tsel :\n\t\t\t\t\t\t\t\t\t\t\t\tsel.filter(function(el) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn _contains(context, el);\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (split.length) {\n\t\t\t\t\t\t\t\tselector = split.join(',');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn ref;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Use third-party selector engine if defined\n\t\t\t\t\t\tif (scope.WeeSelector !== U) {\n\t\t\t\t\t\t\tel = scope.WeeSelector(selector, context);\n\t\t\t\t\t\t} else if (/^[#.]?[\\w-]+$/.test(selector)) {\n\t\t\t\t\t\t\tvar pre = selector[0];\n\n\t\t\t\t\t\t\tif (pre == '#') {\n\t\t\t\t\t\t\t\tel = D.getElementById(selector.substr(1));\n\t\t\t\t\t\t\t} else if (pre == '.') {\n\t\t\t\t\t\t\t\tel = context.getElementsByClassName(selector.substr(1));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel = context.getElementsByTagName(selector);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tel = context.querySelectorAll(selector);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tel = W.$parseHTML(selector).childNodes;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (! el) {\n\t\t\t\t\t\tel = ref;\n\t\t\t\t\t} else if (el.nodeType !== U || el === scope) {\n\t\t\t\t\t\tel = [el];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel = W._slice.call(el);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Join references if available\n\t\t\t\t\treturn ref.length ? el.concat(ref) : el;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Create document fragment from an HTML string\n\t\t\t\t *\n\t\t\t\t * @param {string} html\n\t\t\t\t * @returns {HTMLElement} element\n\t\t\t\t */\n\t\t\t\t$parseHTML: function(html) {\n\t\t\t\t\tvar el;\n\t\t\t\t\thtml = html.trim();\n\n\t\t\t\t\tif (! range) {\n\t\t\t\t\t\trange = D.createRange();\n\t\t\t\t\t\trange.selectNode(W._body);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (range && range.createContextualFragment) {\n\t\t\t\t\t\tel = range.createContextualFragment(html);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar div = D.createElement('div'),\n\t\t\t\t\t\t\tchild;\n\t\t\t\t\t\tel = D.createDocumentFragment();\n\n\t\t\t\t\t\tdiv.innerHTML = html;\n\n\t\t\t\t\t\twhile (child = div.firstChild) {\n\t\t\t\t\t\t\tel.appendChild(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn el;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Set global variable\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} val\n\t\t\t\t * @param {object} [options] - applicable if value is a callback\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {*} value\n\t\t\t\t */\n\t\t\t\t$set: function(key, val, options) {\n\t\t\t\t\treturn _set(store, observe, key, val, options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get global variable\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} [fallback]\n\t\t\t\t * @param {boolean} [set=false]\n\t\t\t\t * @param {object} [options] - available for fallback functions\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {*} value\n\t\t\t\t */\n\t\t\t\t$get: function(key, fallback, set, options) {\n\t\t\t\t\treturn _get(store, observe, key, fallback, set, options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Push value into global array\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} val\n\t\t\t\t * @param {boolean} [prepend=false]\n\t\t\t\t * @returns {Array|object} value\n\t\t\t\t */\n\t\t\t\t$push: function(key, val, prepend) {\n\t\t\t\t\treturn _add(2, store, observe, key, val, prepend);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Concatenate values into global storage\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} val\n\t\t\t\t * @param {boolean} [prepend=false]\n\t\t\t\t * @returns {Array|object} value\n\t\t\t\t */\n\t\t\t\t$concat: function(key, val, prepend) {\n\t\t\t\t\treturn _add(1, store, observe, key, val, prepend);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend object into global storage\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @returns {object} value\n\t\t\t\t */\n\t\t\t\t$merge: function(key, obj) {\n\t\t\t\t\treturn _merge(store, observe, key, obj);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Check if storage criteria is set\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} [val]\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$has: function(key, val) {\n\t\t\t\t\treturn _has(store, key, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Remove key or value from global array\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} [val]\n\t\t\t\t * @returns {Array|object} value\n\t\t\t\t */\n\t\t\t\t$drop: function(key, val) {\n\t\t\t\t\treturn _drop(store, observe, key, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Attach callback to data storage change\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {boolean} [options.diff=false]\n\t\t\t\t * @param {boolean} [options.once=false]\n\t\t\t\t * @param {boolean} [options.recursive=false]\n\t\t\t\t * @param {*} [options.value]\n\t\t\t\t */\n\t\t\t\t$observe: function(key, fn, options) {\n\t\t\t\t\t_observe(observe, key, fn, options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Remove callback from data storage change\n\t\t\t\t *\n\t\t\t\t * @param {string} [key]\n\t\t\t\t */\n\t\t\t\t$unobserve: function(key) {\n\t\t\t\t\tkey === U ?\n\t\t\t\t\t\tobserve = [] :\n\t\t\t\t\t\tdelete observe[key];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute matching observed callbacks\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t */\n\t\t\t\t$trigger: function(key) {\n\t\t\t\t\tvar val = _get(store, false, key);\n\n\t\t\t\t\t_trigger(store, observe, key, val, val, 'trigger');\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute function for each matching selection\n\t\t\t\t *\n\t\t\t\t * @param {($|Array|HTMLElement|string)} target\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {($|HTMLElement|string)} [options.context=document]\n\t\t\t\t * @param {boolean} [options.reverse=false]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t */\n\t\t\t\t$each: function(target, fn, options) {\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tvar conf = _extend({\n\t\t\t\t\t\t\t\targs: []\n\t\t\t\t\t\t\t}, options),\n\t\t\t\t\t\t\tels = W._selArray(target, conf),\n\t\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\t\tif (conf.reverse && ! els._$) {\n\t\t\t\t\t\t\tels = els.reverse();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (; i < els.length; i++) {\n\t\t\t\t\t\t\tvar el = els[i],\n\t\t\t\t\t\t\t\tval = W.$exec(fn, {\n\t\t\t\t\t\t\t\t\targs: [el, i].concat(conf.args),\n\t\t\t\t\t\t\t\t\tscope: conf.scope || el\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (val === false) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get current environment or set current environment against\n\t\t\t\t * specified object\n\t\t\t\t *\n\t\t\t\t * @param {object} [rules]\n\t\t\t\t * @param {string} [fallback=local]\n\t\t\t\t * @returns {string} environment\n\t\t\t\t */\n\t\t\t\t$env: function(rules, fallback) {\n\t\t\t\t\tvar fb = fallback || 'local';\n\n\t\t\t\t\tif (rules) {\n\t\t\t\t\t\tvar host = location.hostname;\n\n\t\t\t\t\t\tfor (var rule in rules) {\n\t\t\t\t\t\t\tvar val = rules[rule];\n\n\t\t\t\t\t\t\tif (val == host || _val(val, {\n\t\t\t\t\t\t\t\t\targs: host\n\t\t\t\t\t\t\t\t}) === true) {\n\t\t\t\t\t\t\t\tenv = rule;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (! env) {\n\t\t\t\t\t\t\tenv = fb;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn env || fb;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if the current environment is SSL encrypted\n\t\t\t\t *\n\t\t\t\t * @returns {boolean} secure\n\t\t\t\t */\n\t\t\t\t$envSecure: function() {\n\t\t\t\t\treturn location.protocol == 'https:';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute specified function or controller method\n\t\t\t\t *\n\t\t\t\t * @param {Array|function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {*} [response]\n\t\t\t\t */\n\t\t\t\t$exec: function(fn, options) {\n\t\t\t\t\toptions = options || {};\n\n\t\t\t\t\tvar fns = W.$toArray(fn),\n\t\t\t\t\t\tlen = fns.length,\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\t\tvar conf = _extend({\n\t\t\t\t\t\t\targs: []\n\t\t\t\t\t\t}, options || {});\n\t\t\t\t\t\tfn = fns[i];\n\n\t\t\t\t\t\tif (typeof fn == 'string') {\n\t\t\t\t\t\t\tvar segs = fn.split(':');\n\n\t\t\t\t\t\t\tif (W[segs[0]]) {\n\t\t\t\t\t\t\t\tfn = W[segs[0]][\n\t\t\t\t\t\t\t\t\tsegs.length > 1 ?\n\t\t\t\t\t\t\t\t\t\tsegs[1] :\n\t\t\t\t\t\t\t\t\t\t'init'\n\t\t\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\t\tif (! conf.scope) {\n\t\t\t\t\t\t\t\t\tconf.scope = W[segs[0]];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof fn == 'function') {\n\t\t\t\t\t\t\tvar response = fn.apply(\n\t\t\t\t\t\t\t\tconf.scope,\n\t\t\t\t\t\t\t\tW.$toArray(conf.args)\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (len === 1) {\n\t\t\t\t\t\t\t\treturn response;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend target object with source object(s)\n\t\t\t\t *\n\t\t\t\t * @param {(boolean|object)} deep - extend nested properties else target object\n\t\t\t\t * @param {object} [obj] - target object\n\t\t\t\t * @param {...object} [obj] - merged objects\n\t\t\t\t * @returns {object}\n\t\t\t\t */\n\t\t\t\t$extend: function(deep) {\n\t\t\t\t\tvar bool = typeof deep == 'boolean',\n\t\t\t\t\t\targs = W._slice.call(arguments).slice(bool ? 1 : 0),\n\t\t\t\t\t\ttarget = args[0] || {};\n\t\t\t\t\tdeep = bool ? deep : false;\n\n\t\t\t\t\targs.slice(1).forEach(function(source) {\n\t\t\t\t\t\ttarget = _extend(target, source, deep);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn target;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Generate a delta from two objects\n\t\t\t\t *\n\t\t\t\t * @param {object} a\n\t\t\t\t * @param {object} b\n\t\t\t\t * @returns {object}\n\t\t\t\t */\n\t\t\t\t$diff: function(a, b) {\n\t\t\t\t\treturn _diff(a, b);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two values for strict equality\n\t\t\t\t *\n\t\t\t\t * @param {*} a\n\t\t\t\t * @param {*} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$equals: function(a, b) {\n\t\t\t\t\treturn _equals(a, b);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is an array\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isArray: function(obj) {\n\t\t\t\t\treturn Array.isArray(obj);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is a function\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isFunction: function(obj) {\n\t\t\t\t\treturn W.$type(obj) == 'function';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is an object\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isObject: function(obj) {\n\t\t\t\t\treturn W.$type(obj) == 'object';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is a string\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isString: function(obj) {\n\t\t\t\t\treturn typeof obj == 'string';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Translate items in an array or selection to new array\n\t\t\t\t *\n\t\t\t\t * @param {($|Array|HTMLElement|string)} target - array or selector\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {Array}\n\t\t\t\t */\n\t\t\t\t$map: function(target, fn, options) {\n\t\t\t\t\tif (! Array.isArray(target)) {\n\t\t\t\t\t\ttarget = W._selArray(target, options);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar conf = _extend({\n\t\t\t\t\t\t\targs: []\n\t\t\t\t\t\t}, options),\n\t\t\t\t\t\tres = [],\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < target.length; i++) {\n\t\t\t\t\t\tvar el = target[i],\n\t\t\t\t\t\t\tval = W.$exec(fn, {\n\t\t\t\t\t\t\t\targs: [el, i].concat(conf.args),\n\t\t\t\t\t\t\t\tscope: conf.scope || el\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (val !== false) {\n\t\t\t\t\t\t\tres.push(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Serialize object\n\t\t\t\t *\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @returns {string} value\n\t\t\t\t */\n\t\t\t\t$serialize: function(obj) {\n\t\t\t\t\tvar arr = [];\n\n\t\t\t\t\tObject.keys(obj || {}).forEach(function(key) {\n\t\t\t\t\t\tvar val = obj[key];\n\t\t\t\t\t\tkey = encodeURIComponent(key);\n\n\t\t\t\t\t\tif (typeof val != 'object') {\n\t\t\t\t\t\t\tarr.push(key + '=' + encodeURIComponent(val));\n\t\t\t\t\t\t} else if (Array.isArray(val)) {\n\t\t\t\t\t\t\tval.forEach(function(el) {\n\t\t\t\t\t\t\t\tarr.push(key + '[]=' + encodeURIComponent(el));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn arr.length ? arr.join('&').replace(/%20/g, '+') : '';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Convert serialized string back into an object\n\t\t\t\t *\n\t\t\t\t * @param {string} str\n\t\t\t\t * @returns {object} value\n\t\t\t\t */\n\t\t\t\t$unserialize: function(str) {\n\t\t\t\t\tvar obj = {};\n\n\t\t\t\t\tdecodeURIComponent(str)\n\t\t\t\t\t\t.replace(/^\\?/, '')\n\t\t\t\t\t\t.split('&').forEach(function(el) {\n\t\t\t\t\t\t\tvar split = el.split('='),\n\t\t\t\t\t\t\t\tkey = split[0],\n\t\t\t\t\t\t\t\tval = split[1].replace('+', ' ') || '';\n\n\t\t\t\t\t\t\tif (obj[key]) {\n\t\t\t\t\t\t\t\tobj[key] = W.$toArray(obj[key]);\n\t\t\t\t\t\t\t\tobj[key].push(val);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tobj[key] = val;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\treturn obj;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Add ref elements to datastore\n\t\t\t\t *\n\t\t\t\t * @param {(HTMLElement|string)} [context=document]\n\t\t\t\t */\n\t\t\t\t$setRef: function(context) {\n\t\t\t\t\tcontext = context ? W.$(context)[0] : D;\n\n\t\t\t\t\t// Clear existing refs if reset\n\t\t\t\t\tObject.keys(refs).forEach(function(val) {\n\t\t\t\t\t\trefs[val] = refs[val].filter(function(el) {\n\t\t\t\t\t\t\treturn ! (\n\t\t\t\t\t\t\t\t! _contains(D, el) ||\n\t\t\t\t\t\t\t\t(_contains(context, el) && context !== el)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// Set refs from DOM\n\t\t\t\t\tW.$each('[data-ref]', function(el) {\n\t\t\t\t\t\tel.getAttribute('data-ref').split(/\\s+/)\n\t\t\t\t\t\t\t.forEach(function(val) {\n\t\t\t\t\t\t\t\trefs[val] = refs[val] || [];\n\t\t\t\t\t\t\t\trefs[val].push(el);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}, {\n\t\t\t\t\t\tcontext: context\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Add metadata variables to datastore\n\t\t\t\t *\n\t\t\t\t * @param {(HTMLElement|string)} [context=document]\n\t\t\t\t */\n\t\t\t\t$setVar: function(context) {\n\t\t\t\t\tW.$each('[data-set]', function(el) {\n\t\t\t\t\t\tvar key = el.getAttribute('data-set'),\n\t\t\t\t\t\t\tval = W._castString(el.getAttribute('data-value'));\n\n\t\t\t\t\t\tkey.slice(-2) == '[]' ?\n\t\t\t\t\t\t\t_add(2, store, observe, key.slice(0, -2), val) :\n\t\t\t\t\t\t\t_set(store, observe, key, val);\n\t\t\t\t\t}, {\n\t\t\t\t\t\tcontext: context\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Cast value to array if it isn't one\n\t\t\t\t *\n\t\t\t\t * @param {*} val\n\t\t\t\t * @returns {Array} value\n\t\t\t\t */\n\t\t\t\t$toArray: function(val) {\n\t\t\t\t\treturn val !== U ? (Array.isArray(val) ? val : [val]) : [];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine the JavaScript type of an object\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns string\n\t\t\t\t */\n\t\t\t\t$type: function(obj) {\n\t\t\t\t\treturn obj === U ? 'undefined' :\n\t\t\t\t\t\tObject.prototype.toString.call(obj)\n\t\t\t\t\t\t\t.replace(/^\\[object (.+)]$/, '$1')\n\t\t\t\t\t\t\t.toLowerCase();\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Create new array with only unique values from source array\n\t\t\t\t *\n\t\t\t\t * @param {Array} array\n\t\t\t\t * @returns {Array} unique values\n\t\t\t\t */\n\t\t\t\t$unique: function(array) {\n\t\t\t\t\treturn array.reverse().filter(function(el, i, arr) {\n\t\t\t\t\t\treturn arr.indexOf(el, i + 1) < 0;\n\t\t\t\t\t}).reverse();\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Fallback for non-existent chaining\n\t\t\t\t */\n\t\t\t\t$chain: function() {},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value can be executed as a function\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {*} fn\n\t\t\t\t * @returns {boolean} is executable\n\t\t\t\t */\n\t\t\t\t_canExec: function(fn) {\n\t\t\t\t\tif (typeof fn == 'string' && fn.indexOf(':') > -1) {\n\t\t\t\t\t\tvar split = fn.split(':'),\n\t\t\t\t\t\t\tcontroller = W[split[0]],\n\t\t\t\t\t\t\tmethod = split[1];\n\n\t\t\t\t\t\tif (controller && controller[method]) {\n\t\t\t\t\t\t\tfn = controller[method];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn typeof fn == 'function';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Cast string to most applicable data type\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {*} val\n\t\t\t\t */\n\t\t\t\t_castString: function(val) {\n\t\t\t\t\tif (typeof val == 'string') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tval = val == 'true' ? true :\n\t\t\t\t\t\t\t\tval == 'false' ? false :\n\t\t\t\t\t\t\t\tval == 'null' ? null :\n\t\t\t\t\t\t\t\tparseInt(val).toString() == val ? parseInt(val) :\n\t\t\t\t\t\t\t\t\t/^(?:\\{[\\w\\W]*}|\\[[\\w\\W]*])$/.test(val) ? JSON.parse(val) :\n\t\t\t\t\t\t\t\t\tval;\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend object storage with object or key -> val\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @param {(object|string)} a\n\t\t\t\t * @param {*} b\n\t\t\t\t */\n\t\t\t\t_extend: function(obj, a, b) {\n\t\t\t\t\tvar val = a;\n\n\t\t\t\t\tif (typeof a == 'string') {\n\t\t\t\t\t\tval = [];\n\t\t\t\t\t\tval[a] = b;\n\t\t\t\t\t}\n\n\t\t\t\t\t_extend(obj, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Convert selection to array\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {($|HTMLElement|string)} selector\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {(HTMLElement|string)} [options.context=document]\n\t\t\t\t * @returns {($|Array)} nodes\n\t\t\t\t */\n\t\t\t\t_selArray: function(selector, options) {\n\t\t\t\t\tif (selector && selector._$) {\n\t\t\t\t\t\treturn selector;\n\t\t\t\t\t}\n\n\t\t\t\t\toptions = options || {};\n\n\t\t\t\t\tvar el = typeof selector == 'string' ?\n\t\t\t\t\t\tW.$(selector, options.context) :\n\t\t\t\t\t\tselector;\n\n\t\t\t\t\treturn W.$toArray(el);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Return a new controller method\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {string} name\n\t\t\t\t * @param {object} pub\n\t\t\t\t * @param {object} [priv]\n\t\t\t\t * @param {(boolean|object)} base\n\t\t\t\t * @param {object} [model]\n\t\t\t\t * @returns {Function}\n\t\t\t\t */\n\t\t\t\t_make: function(name, pub, priv, base, model) {\n\t\t\t\t\treturn function(id) {\n\t\t\t\t\t\tvar Public = pub || {},\n\t\t\t\t\t\t\tPrivate = priv || {};\n\n\t\t\t\t\t\t// Ensure the current controller is not being extended\n\t\t\t\t\t\tif (name != '_tmp') {\n\t\t\t\t\t\t\tvar store = {\n\t\t\t\t\t\t\t\t\t$: model || {}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tobserve = {},\n\t\t\t\t\t\t\t\tcore = {\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Get value from controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {*}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$get: function(key, fallback, set, options) {\n\t\t\t\t\t\t\t\t\t\treturn _get(store, observe, key, fallback, set, options);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Set value in controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {*}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$set: function(key, val, options) {\n\t\t\t\t\t\t\t\t\t\treturn _set(store, observe, key, val, options);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Check if storage criteria is set\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {boolean}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$has: function(key, val) {\n\t\t\t\t\t\t\t\t\t\treturn _has(store, key, val);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Push value into controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$push: function(key, val, prepend) {\n\t\t\t\t\t\t\t\t\t\treturn _add(2, store, observe, key, val, prepend);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Concatenate values into controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$concat: function(key, val, prepend) {\n\t\t\t\t\t\t\t\t\t\treturn _add(1, store, observe, key, val, prepend);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Extend object into controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$merge: function(key, obj) {\n\t\t\t\t\t\t\t\t\t\treturn _merge(store, observe, key, obj);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Remove value from controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$drop: function(key, val) {\n\t\t\t\t\t\t\t\t\t\treturn _drop(store, observe, key, val);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Attach callback to data storage change\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$observe: function(key, fn, options) {\n\t\t\t\t\t\t\t\t\t\t_observe(observe, key, fn, options);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Remove callback from data storage change\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$unobserve: function(key) {\n\t\t\t\t\t\t\t\t\t\tdelete observe[key];\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Execute matching observed callbacks\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$trigger: function(key) {\n\t\t\t\t\t\t\t\t\t\tvar val = _get(store, false, key);\n\n\t\t\t\t\t\t\t\t\t\t_trigger(store, observe, key, val, val, 'trigger');\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Destroy current controller\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$destroy: function() {\n\t\t\t\t\t\t\t\t\t\tif (this.$private._destruct) {\n\t\t\t\t\t\t\t\t\t\t\tthis.$private._destruct();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (this._destruct) {\n\t\t\t\t\t\t\t\t\t\t\tthis._destruct();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// If namespaced delete root property\n\t\t\t\t\t\t\t\t\t\tif (id) {\n\t\t\t\t\t\t\t\t\t\t\tdelete W[id];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Extend public and private objects with core methods\n\t\t\t\t\t\t\tPublic = _extend(Public, core);\n\t\t\t\t\t\t\tPrivate = _extend(Private, core);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Clone controller objects for instance support\n\t\t\t\t\t\tPublic = _copy(Public);\n\t\t\t\t\t\tPrivate = _copy(Private);\n\n\t\t\t\t\t\t// Interface $public and $private\n\t\t\t\t\t\tPublic.$private = Private;\n\t\t\t\t\t\tPrivate.$public = Public;\n\n\t\t\t\t\t\tif (base) {\n\t\t\t\t\t\t\tvar pubDest = Public.$destroy,\n\t\t\t\t\t\t\t\tbasePubDest = base._destruct,\n\t\t\t\t\t\t\t\tbasePrivDest = base.$private._destruct;\n\n\t\t\t\t\t\t\t// Extend controller methods into base\n\t\t\t\t\t\t\tPublic = _extend(base, Public, true);\n\t\t\t\t\t\t\tPublic.$private.$public = Public;\n\n\t\t\t\t\t\t\tPublic.$destroy = function() {\n\t\t\t\t\t\t\t\t// Execute controller destructor\n\t\t\t\t\t\t\t\tpubDest.call(this);\n\n\t\t\t\t\t\t\t\t// Execute base destructors\n\t\t\t\t\t\t\t\tif (basePrivDest) {\n\t\t\t\t\t\t\t\t\tbasePrivDest.call(this.$private);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (basePubDest) {\n\t\t\t\t\t\t\t\t\tbasePubDest.call(this);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn Public;\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute specified function when document is ready\n\t\t\t\t *\n\t\t\t\t * @param {(Array|function|string)} fn\n\t\t\t\t */\n\t\t\t\tready: function(fn) {\n\t\t\t\t\tD.readyState == 'complete' ?\n\t\t\t\t\t\tW.$exec(fn) :\n\t\t\t\t\t\tD.addEventListener('DOMContentLoaded', function() {\n\t\t\t\t\t\t\tW.$exec(fn);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t})();\n\n\t// Set data variables and bind elements\n\tif (web) {\n\t\tW.$setRef();\n\t\tW.$setVar();\n\t}\n\n\texports = Wee = W;\n\n\tif (typeof module == 'object' && module.exports) {\n\t\tmodule.exports = W;\n\t}\n})(Wee, undefined);","/* jshint maxparams: 5 */\n\n(function(W) {\n\t'use strict';\n\n\t/**\n\t * Default easing functions\n\t */\n\tvar easings = {\n\t\t\tease: function(t) {\n\t\t\t\treturn t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n\t\t\t},\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Process a specific animation property\n\t\t *\n\t\t * @param {HTMLElement} el\n\t\t * @param {string} prop\n\t\t * @param {number} target\n\t\t * @param {object} conf\n\t\t * @param {function} ease\n\t\t */\n\t\tprocess = function(el, prop, target, conf, ease) {\n\t\t\tvar scroll = prop == 'scrollTop' || prop == 'scrollLeft',\n\t\t\t\tbodyScroll = scroll && el === W._body,\n\t\t\t\tcssValue;\n\n\t\t\tif (! scroll) {\n\t\t\t\tcssValue = getComputedStyle(el, null)[prop];\n\t\t\t}\n\n\t\t\tvar css = cssValue !== undefined,\n\t\t\t\tunit = css && cssValue.slice(-2) == 'px' ? 'px' : '',\n\t\t\t\tval = parseInt(\n\t\t\t\t\tcss ?\n\t\t\t\t\t\tcssValue :\n\t\t\t\t\t\tbodyScroll ? (el[prop] || W._html[prop]) : el[prop]\n\t\t\t\t),\n\t\t\t\tsetValue = function(prop, update) {\n\t\t\t\t\tcss ?\n\t\t\t\t\t\tel.style[prop] = update + unit :\n\t\t\t\t\t\tel[prop] = update;\n\n\t\t\t\t\tif (bodyScroll) {\n\t\t\t\t\t\tW._html[prop] = update;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdir = target > val ? 1 : -1,\n\t\t\t\tdist = Math.abs(target - val),\n\t\t\t\tstart = Date.now(),\n\t\t\t\tfn = function() {\n\t\t\t\t\tvar diff = Date.now() - start;\n\n\t\t\t\t\tif (dist && diff < conf.duration) {\n\t\t\t\t\t\tsetValue(prop, val + dist * ease(diff / conf.duration) * dir);\n\t\t\t\t\t\traf(fn);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetValue(prop, target);\n\t\t\t\t\t\tconf.i--;\n\n\t\t\t\t\t\tif (conf.complete && ! conf.i) {\n\t\t\t\t\t\t\tW.$exec(conf.complete);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tfn();\n\t\t},\n\t\traf;\n\n\tW.animate = {\n\t\t/**\n\t\t * Transition an attribute or property value\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {object} values\n\t\t * @param {object} [options]\n\t\t * @param {(Array|function|string)} [options.complete]\n\t\t * @param {number} [options.duration=400]\n\t\t * @param {string} [options.ease='ease']\n\t\t */\n\t\ttween: function(target, values, options) {\n\t\t\tvar conf = W.$extend({\n\t\t\t\t\tduration: 400\n\t\t\t\t}, options),\n\t\t\t\tease = easings[conf.ease] || easings.ease;\n\t\t\tconf.i = 0;\n\n\t\t\tif (! raf) {\n\t\t\t\traf = W._win.requestAnimationFrame || function(cb) {\n\t\t\t\t\tsetTimeout(cb, 15);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tfor (var prop in values) {\n\t\t\t\t\tconf.i++;\n\t\t\t\t\tprocess(el, prop, parseInt(values[prop]), conf, ease);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Add additional easing function(s)\n\t\t *\n\t\t * @param {(object|string)} a - name or easing object\n\t\t * @param {function} [b] - easing function\n\t\t */\n\t\taddEasing: function(a, b) {\n\t\t\tW._extend(easings, a, b);\n\t\t}\n\t};\n})(Wee);","(function(W, U) {\n\t'use strict';\n\n\tvar groups = {},\n\t\tloaded = {},\n\t\troot = '',\n\t\tgroupId = 1,\n\n\t\t_load = {\n\t\t\t/**\n\t\t\t * Request JavaScript\n\t\t\t *\n\t\t\t * @private\n\t\t\t * @param {string} path\n\t\t\t * @param {object} conf\n\t\t\t * @param {string} conf.group\n\t\t\t * @param {boolean} [conf.async=false]\n\t\t\t */\n\t\t\tjs: function(path, conf) {\n\t\t\t\tvar js = W._doc.createElement('script');\n\n\t\t\t\tjs.async = conf.async === true;\n\t\t\t\tjs.onload = function() {\n\t\t\t\t\tloaded[js.src] = js;\n\t\t\t\t\t_done(conf.group);\n\t\t\t\t};\n\n\t\t\t\tjs.onerror = function() {\n\t\t\t\t\t_fail(conf.group);\n\t\t\t\t};\n\n\t\t\t\tjs.src = path;\n\t\t\t\tW._doc.head.appendChild(js);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Request stylesheet\n\t\t\t *\n\t\t\t * @private\n\t\t\t * @param {string} path\n\t\t\t * @param {object} conf\n\t\t\t * @param {string} conf.group\n\t\t\t */\n\t\t\tcss: function(path, conf) {\n\t\t\t\tvar link = W._doc.createElement('link');\n\n\t\t\t\tlink.rel = 'stylesheet';\n\t\t\t\tlink.href = path;\n\n\t\t\t\tlink.addEventListener('load', function() {\n\t\t\t\t\tloaded[link.href] = link;\n\t\t\t\t\t_done(conf.group);\n\t\t\t\t}, false);\n\n\t\t\t\tlink.addEventListener('error', function() {\n\t\t\t\t\t_fail(conf.group);\n\t\t\t\t}, false);\n\n\t\t\t\tW._doc.head.appendChild(link);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Request image\n\t\t\t *\n\t\t\t * @private\n\t\t\t * @param {string} path\n\t\t\t * @param {object} conf\n\t\t\t * @param {string} conf.group\n\t\t\t */\n\t\t\timg: function(path, conf) {\n\t\t\t\tvar img = new Image();\n\n\t\t\t\timg.onload = function() {\n\t\t\t\t\t_done(conf.group);\n\t\t\t\t};\n\n\t\t\t\timg.onerror = function() {\n\t\t\t\t\t_fail(conf.group);\n\t\t\t\t};\n\n\t\t\t\timg.src = path;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Decrement remaining asset count\n\t\t *\n\t\t * @private\n\t\t * @param {string} group\n\t\t */\n\t\t_done = function(group) {\n\t\t\tgroups[group][0]--;\n\t\t\tW.assets.ready(group, {}, false);\n\t\t},\n\n\t\t/**\n\t\t * Increment failed asset count\n\t\t *\n\t\t * @private\n\t\t * @param {string} group\n\t\t */\n\t\t_fail = function(group) {\n\t\t\tgroups[group][2]++;\n\t\t\t_done(group);\n\t\t};\n\n\tW.assets = {\n\t\t/**\n\t\t * Get current asset root or set with specified value\n\t\t *\n\t\t * @param {string} [value]\n\t\t * @returns {string} root\n\t\t */\n\t\troot: function(value) {\n\t\t\tif (value) {\n\t\t\t\troot = value;\n\t\t\t}\n\n\t\t\treturn root;\n\t\t},\n\n\t\t/**\n\t\t * Load specified assets with set options\n\t\t *\n\t\t * @param {object} options\n\t\t * @param {boolean} [options.async=false]\n\t\t * @param {boolean} [options.cache=false]\n\t\t * @param {(Array|string)} [options.css]\n\t\t * @param {(Array|function|string)} [options.error]\n\t\t * @param {(Array|string)} [options.files]\n\t\t * @param {string} [options.group]\n\t\t * @param {(Array|string)} [options.img]\n\t\t * @param {(Array|string)} [options.js]\n\t\t * @param {string} [options.root]\n\t\t * @param {(Array|function|string)} [options.success]\n\t\t */\n\t\tload: function(options) {\n\t\t\tvar files = W.$toArray(options.files),\n\t\t\t\tjs = W.$toArray(options.js),\n\t\t\t\tcss = W.$toArray(options.css),\n\t\t\t\timg = W.$toArray(options.img),\n\t\t\t\troot = options.root !== U ? options.root : this.root(),\n\t\t\t\tassets = [],\n\t\t\t\ti = 0,\n\t\t\t\ttype;\n\n\t\t\t// Create group name if not specified\n\t\t\tif (! options.group) {\n\t\t\t\toptions.group = 'g' + groupId++;\n\t\t\t}\n\n\t\t\t// Determine file type\n\t\t\tfor (; i < files.length; i++) {\n\t\t\t\tvar ext = files[i].split('.').pop().split(/#|\\?/)[0];\n\t\t\t\ttype = ext == 'js' || ext == 'css' ?\n\t\t\t\t\text : /(gif|jpe?g|png|svg|webp)$/i.test(ext) ?\n\t\t\t\t\t\t'img' : '';\n\n\t\t\t\tif (type) {\n\t\t\t\t\tassets[files[i]] = type;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = 0; i < js.length; i++) {\n\t\t\t\tassets[js[i]] = 'js';\n\t\t\t}\n\n\t\t\tfor (i = 0; i < css.length; i++) {\n\t\t\t\tassets[css[i]] = 'css';\n\t\t\t}\n\n\t\t\tfor (i = 0; i < img.length; i++) {\n\t\t\t\tassets[img[i]] = 'img';\n\t\t\t}\n\n\t\t\t// Set file array length to check against\n\t\t\tgroups[options.group] = [\n\t\t\t\tObject.keys(assets).length,\n\t\t\t\toptions,\n\t\t\t\t0\n\t\t\t];\n\n\t\t\t// Request each specified file\n\t\t\tfor (var file in assets) {\n\t\t\t\tvar noCache = options.cache === false,\n\t\t\t\t\ta = W._doc.createElement('a');\n\n\t\t\t\ttype = assets[file];\n\t\t\t\ta.href = (root && /^(https?:)?\\/\\//i.test(file) ? '' : root) +\n\t\t\t\t\tfile;\n\t\t\t\tfile = a.href;\n\n\t\t\t\tif (! loaded[file] || noCache) {\n\t\t\t\t\tif (noCache) {\n\t\t\t\t\t\tfile += (file.indexOf('?') < 0 ? '?' : '&') + Date.now();\n\t\t\t\t\t}\n\n\t\t\t\t\t_load[type](file, options);\n\t\t\t\t} else {\n\t\t\t\t\t_done(options.group);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove one or more files from the DOM\n\t\t *\n\t\t * @param {(Array|string)} files\n\t\t * @param {string} [root='']\n\t\t */\n\t\tremove: function(files, root) {\n\t\t\tfiles = W.$toArray(files);\n\t\t\troot = root || '';\n\n\t\t\tvar a = W._doc.createElement('a');\n\n\t\t\tfiles.forEach(function(key) {\n\t\t\t\tvar src = root + files[key];\n\t\t\t\ta.href = src;\n\t\t\t\tsrc = a.href;\n\n\t\t\t\tvar el = loaded[src];\n\n\t\t\t\tif (el !== U) {\n\t\t\t\t\tel.parentNode.removeChild(el);\n\t\t\t\t\tel = null;\n\t\t\t\t\tdelete loaded[src];\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Execute callback when specified references are ready\n\t\t *\n\t\t * @param {string} group\n\t\t * @param {object} [options]\n\t\t * @param {Array} [options.args]\n\t\t * @param {(Array|function|string)} [options.error]\n\t\t * @param {object} [options.scope]\n\t\t * @param {(Array|function|string)} [options.success]\n\t\t * @param {boolean} [poll=false]\n\t\t * @returns {boolean} ready\n\t\t */\n\t\tready: function(group, options, poll) {\n\t\t\tvar set = groups[group],\n\t\t\t\tcomplete = set && ! set[0];\n\n\t\t\tif (options === U) {\n\t\t\t\treturn complete;\n\t\t\t}\n\n\t\t\tif (complete) {\n\t\t\t\tvar conf = W.$extend(set[1], options),\n\t\t\t\t\thasErrors = set[2];\n\t\t\t\toptions = {\n\t\t\t\t\targs: conf.args,\n\t\t\t\t\tscope: conf.scope\n\t\t\t\t};\n\n\t\t\t\tif (conf.error && hasErrors) {\n\t\t\t\t\tW.$exec(conf.error, options);\n\t\t\t\t} else if (conf.success && ! hasErrors) {\n\t\t\t\t\tW.$exec(conf.success, options);\n\t\t\t\t}\n\t\t\t} else if (poll) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tW.assets.ready(group, options, true);\n\t\t\t\t}, 20);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Cache existing CSS and JavaScript assets\n\t */\n\tW.$each('link[rel=\"stylesheet\"], script[src]', function(el) {\n\t\tloaded[el.src || el.href] = el;\n\t});\n})(Wee, undefined);","(function(W) {\n\t'use strict';\n\n\tvar version = 1,\n\n\t\t/**\n\t\t * Process the readyState change event\n\t\t *\n\t\t * @private\n\t\t * @param {XMLHttpRequest} x\n\t\t * @param {object} conf\n\t\t * @returns {*}\n\t\t */\n\t\t_change = function(x, conf) {\n\t\t\tif (x.readyState === 4) {\n\t\t\t\tvar code = x.status,\n\t\t\t\t\texec = {\n\t\t\t\t\t\targs: conf.args,\n\t\t\t\t\t\tscope: conf.scope\n\t\t\t\t\t};\n\n\t\t\t\tif (code >= 200 && code < 400) {\n\t\t\t\t\tif (conf.success) {\n\t\t\t\t\t\t_success(x, conf);\n\t\t\t\t\t}\n\t\t\t\t} else if (conf.error) {\n\t\t\t\t\tW.$exec(conf.error, exec);\n\t\t\t\t}\n\n\t\t\t\tif (conf.complete) {\n\t\t\t\t\tW.$exec(conf.complete, exec);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Execute the request success callback\n\t\t *\n\t\t * @private\n\t\t * @param {XMLHttpRequest} x\n\t\t * @param {object} conf\n\t\t * @returns {boolean}\n\t\t */\n\t\t_success = function(x, conf) {\n\t\t\tvar resp = x.responseText,\n\t\t\t\texec = {\n\t\t\t\t\targs: conf.args.slice(0),\n\t\t\t\t\tscope: conf.scope\n\t\t\t\t};\n\n\t\t\t// Parse JSON response if specified\n\t\t\tif (conf.json) {\n\t\t\t\ttry {\n\t\t\t\t\tresp = JSON.parse(resp);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tresp = {};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\texec.args.unshift(resp);\n\n\t\t\t// Execute success callback if specified\n\t\t\tW.$exec(conf.success, exec);\n\t\t},\n\n\t\t/**\n\t\t * Process JSONP request\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf\n\t\t */\n\t\t_jsonp = function(conf) {\n\t\t\tvar el = W._doc.createElement('script');\n\n\t\t\tif (conf.success) {\n\t\t\t\tvar fn = conf.jsonpCallback;\n\n\t\t\t\tif (! fn) {\n\t\t\t\t\tfn = 'jsonp' + version;\n\t\t\t\t\tversion++;\n\t\t\t\t}\n\n\t\t\t\tW._win[fn] = function(data) {\n\t\t\t\t\tconf.args.unshift(data);\n\n\t\t\t\t\tW.$exec(conf.success, {\n\t\t\t\t\t\targs: conf.args,\n\t\t\t\t\t\tscope: conf.scope\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tconf.data[\n\t\t\t\t\tconf.jsonp === true ?\n\t\t\t\t\t\t'callback' :\n\t\t\t\t\t\tconf.jsonp\n\t\t\t\t\t] = fn;\n\t\t\t}\n\n\t\t\tel.src = W.data._getUrl(conf);\n\n\t\t\tif (conf.error) {\n\t\t\t\tel.onerror = function() {\n\t\t\t\t\tW.$exec(conf.error, {\n\t\t\t\t\t\targs: conf.args,\n\t\t\t\t\t\tscope: conf.scope\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tW._doc.head.appendChild(el);\n\t\t};\n\n\tW.data = {\n\t\t/**\n\t\t * Make request based on specified options\n\t\t *\n\t\t * @param {object} options\n\t\t * @param {Array} [options.args] - callback arguments appended after default values\n\t\t * @param {(Array|function|string)} [options.complete] - callback on request completion\n\t\t * @param {object} [options.data] - object to serialize and pass along with request\n\t\t * @param {(Array|function|string)} [options.error] - callback if request fails\n\t\t * @param {object} [options.headers] - request headers\n\t\t * @param {boolean} [options.json=false] - evaluate the response as JSON and return object\n\t\t * @param {(boolean|string)} [options.jsonp=false] - boolean or callback query parameter override\n\t\t * @param {string} [options.jsonpCallback] - override the name of the JSONP callback function\n\t\t * @param {string} [options.method=get] - request verb\n\t\t * @param {boolean} [options.processData=true] - post data in the body\n\t\t * @param {string} [options.root=''] - prepended request path\n\t\t * @param {object} [options.scope] - callback scope\n\t\t * @param {(Array|function|string)} [options.send] - executed before Ajax call\n\t\t * @param {(Array|function|string)} [options.success] - callback if request succeeds\n\t\t * @param {string} [options.type] - form, html, json, or xml\n\t\t * @param {string} options.url - endpoint to request\n\t\t */\n\t\trequest: function(options) {\n\t\t\tvar conf = W.$extend({\n\t\t\t\targs: [],\n\t\t\t\tdata: {},\n\t\t\t\theaders: {},\n\t\t\t\tmethod: 'get',\n\t\t\t\troot: ''\n\t\t\t}, options);\n\n\t\t\tif (conf.cache === false) {\n\t\t\t\tconf.data.dt = Date.now();\n\t\t\t}\n\n\t\t\t// Prefix root path to url\n\t\t\tif (conf.root) {\n\t\t\t\tconf.url = (conf.root + '/' + conf.url).replace(/\\/{2,}/g, '/');\n\t\t\t}\n\n\t\t\t// Process JSONP\n\t\t\tif (conf.jsonp) {\n\t\t\t\treturn _jsonp(conf);\n\t\t\t}\n\n\t\t\tvar x = new XMLHttpRequest();\n\n\t\t\t// Inject XHR object as first callback argument\n\t\t\tconf.args.unshift(x);\n\n\t\t\tif (conf.send) {\n\t\t\t\tW.$exec(conf.send, {\n\t\t\t\t\targs: conf.args,\n\t\t\t\t\tscope: conf.scope\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tx.onreadystatechange = function() {\n\t\t\t\t_change(x, conf);\n\t\t\t};\n\n\t\t\tvar contentTypeHeader = 'Content-Type',\n\t\t\t\tmethod = conf.method.toUpperCase(),\n\t\t\t\tsend = null,\n\t\t\t\theaders = [];\n\n\t\t\t// Format data based on specified verb\n\t\t\tif (method == 'GET') {\n\t\t\t\tconf.url = this._getUrl(conf);\n\t\t\t} else {\n\t\t\t\tvar str = typeof conf.data == 'string';\n\n\t\t\t\tif (! str && ! conf.type) {\n\t\t\t\t\tconf.type = 'json';\n\t\t\t\t}\n\n\t\t\t\tsend = str || conf.processData === false ?\n\t\t\t\t\tconf.data :\n\t\t\t\t\tconf.type == 'json' ?\n\t\t\t\t\t\tJSON.stringify(conf.data) :\n\t\t\t\t\t\t$.serialize(conf.data);\n\t\t\t}\n\n\t\t\tx.open(method, conf.url, true);\n\n\t\t\t// Add content type header\n\t\t\tif (conf.type == 'json') {\n\t\t\t\theaders[contentTypeHeader] = 'application/json';\n\t\t\t} else if (conf.type == 'xml') {\n\t\t\t\theaders[contentTypeHeader] = 'text/xml';\n\t\t\t} else if (method == 'POST' || conf.type == 'form') {\n\t\t\t\theaders[contentTypeHeader] =\n\t\t\t\t\t'application/x-www-form-urlencoded';\n\t\t\t}\n\n\t\t\t// Accept JSON header\n\t\t\tif (conf.json) {\n\t\t\t\theaders.Accept = 'application/json, text/javascript, */*; q=0.01';\n\t\t\t}\n\n\t\t\t// Add X-Requested-With header for same domain requests\n\t\t\tvar a = W._doc.createElement('a');\n\t\t\ta.href = conf.url;\n\n\t\t\tif (! a.host || a.host == location.host) {\n\t\t\t\theaders['X-Requested-With'] = 'XMLHttpRequest';\n\t\t\t}\n\n\t\t\t// Append character set to content type header\n\t\t\theaders[contentTypeHeader] += '; charset=UTF-8';\n\n\t\t\t// Extend configured headers into defaults\n\t\t\theaders = W.$extend(headers, conf.headers);\n\n\t\t\t// Set request headers\n\t\t\tfor (var key in headers) {\n\t\t\t\tvar val = headers[key];\n\n\t\t\t\tif (val !== false) {\n\t\t\t\t\tx.setRequestHeader(key, val);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tx.send(send);\n\t\t},\n\n\t\t/**\n\t\t * Generate final URL\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf\n\t\t */\n\t\t_getUrl: function(conf) {\n\t\t\tvar url = conf.url.replace(/[\\?&]$/, '');\n\n\t\t\tif (conf.data && Object.keys(conf.data).length) {\n\t\t\t\turl += (url.indexOf('?') < 0 ? '?' : '&') +\n\t\t\t\t\tW.$serialize(conf.data);\n\t\t\t}\n\n\t\t\tif (url[0] != '/' && ! /^(?:[a-z]+:)?\\/\\//i.test(url)) {\n\t\t\t\turl = '/' + url;\n\t\t\t}\n\n\t\t\treturn url;\n\t\t}\n\t};\n})(Wee);","/* jshint maxdepth: 4 */\n\n(function(W, U) {\n\t'use strict';\n\n\t/**\n\t * Get the selected options from a select\n\t *\n\t * @private\n\t * @param {HTMLElement} select\n\t * @returns {Array} selected\n\t */\n\tvar _getSelected = function(select) {\n\t\tvar options = select.options,\n\t\t\tarr = [],\n\t\t\ti = 0;\n\n\t\tfor (; i < options.length; i++) {\n\t\t\tvar option = options[i];\n\n\t\t\tif (option.selected) {\n\t\t\t\tarr.push(option.value);\n\t\t\t}\n\t\t}\n\n\t\treturn arr;\n\t},\n\n\t/**\n\t * Get class value of element\n\t *\n\t * @private\n\t * @param {HTMLElement} el\n\t * @returns {string}\n\t */\n\t_getClass = function(el) {\n\t\treturn el instanceof SVGElement ?\n\t\t\tel.getAttribute('class') :\n\t\t\tel.className;\n\t},\n\n\t/**\n\t * Set class value of element\n\t *\n\t * @private\n\t * @param {HTMLElement} el\n\t * @param {string} className\n\t */\n\t_setClass = function(el, className) {\n\t\tel instanceof SVGElement ?\n\t\t\tel.setAttribute('class', className) :\n\t\t\tel.className = className;\n\t},\n\n\t/**\n\t * Return either direct previous or next sibling\n\t *\n\t * @private\n\t * @param {($|HTMLElement|string)} target\n\t * @param {int} dir\n\t * @param filter\n\t * @param {object} [options]\n\t * @returns {HTMLElement}\n\t */\n\t_getSibling = function(target, dir, filter, options) {\n\t\tvar match;\n\n\t\tW.$each(target, function(el) {\n\t\t\tvar index = W.$index(el) + dir;\n\n\t\t\tW.$children(W.$parent(el)).forEach(function(el, i) {\n\t\t\t\tif (i === index &&\n\t\t\t\t\t(! filter || filter && W.$is(el, filter, options))) {\n\t\t\t\t\tmatch = el;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn match;\n\t},\n\n\t/**\n\t * Convert dash-separated string to camel-case\n\t *\n\t * @private\n\t * @param {string} name\n\t * @returns {string}\n\t */\n\t_toCamel = function(name) {\n\t\treturn name.toLowerCase()\n\t\t\t.replace(/-(.)/g, function(match, val) {\n\t\t\t\treturn val.toUpperCase();\n\t\t\t});\n\t},\n\n\t/**\n\t * Convert camel-cased string to dash-separated\n\t *\n\t * @private\n\t * @param {string} name\n\t * @returns {string}\n\t */\n\t_toDashed = function(name) {\n\t\treturn name.replace(/[A-Z]/g, function(match) {\n\t\t\treturn '-' + match[0].toLowerCase();\n\t\t});\n\t};\n\n\tW.fn.extend({\n\t\t/**\n\t\t * Add classes to each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t */\n\t\t$addClass: function(target, value) {\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar cn = _getClass(el),\n\t\t\t\t\tname = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, cn],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\n\t\t\t\tif (name) {\n\t\t\t\t\tvar names = cn.split(' '),\n\t\t\t\t\t\tupd = name.split(' ').filter(function(val) {\n\t\t\t\t\t\t\treturn names.indexOf(val) < 0;\n\t\t\t\t\t\t});\n\n\t\t\t\t\tupd.unshift(cn);\n\n\t\t\t\t\t_setClass(el, upd.join(' '));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t */\n\t\t$after: function(target, source, remove) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar aft = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof aft == 'string') {\n\t\t\t\t\taft = W.$parseHTML(aft);\n\t\t\t\t}\n\n\t\t\t\tif (aft) {\n\t\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\t\tW.$each(aft, function(cel) {\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\tcel = W.$clone(cel)[0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpar.insertBefore(cel, el.nextSibling);\n\n\t\t\t\t\t\tW.$setRef(par);\n\t\t\t\t\t}, {\n\t\t\t\t\t\treverse: true\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (remove) {\n\t\t\t\t\tW.$remove(el);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Append selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t */\n\t\t$append: function(target, source) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar app = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof app == 'string') {\n\t\t\t\t\tapp = W.$parseHTML(app);\n\t\t\t\t}\n\n\t\t\t\tif (app) {\n\t\t\t\t\tW.$each(app, function(cel) {\n\t\t\t\t\t\tel.appendChild(cel);\n\t\t\t\t\t});\n\n\t\t\t\t\tW.$setRef(el);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get attribute of first matching selection or set attribute\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$attr: function(target, a, b) {\n\t\t\tvar obj = W.$isObject(a);\n\n\t\t\tif (b !== U || obj) {\n\t\t\t\tvar func = ! obj && W._canExec(b);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tobj ?\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tel.setAttribute(key, a[key]);\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tel.setAttribute(a, func ?\n\t\t\t\t\t\t\tW.$exec(b, {\n\t\t\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tb\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn W.$(target)[0].getAttribute(a);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t */\n\t\t$before: function(target, source, remove) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar bef = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof bef == 'string') {\n\t\t\t\t\tbef = W.$parseHTML(bef);\n\t\t\t\t}\n\n\t\t\t\tif (bef) {\n\t\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\t\tW.$each(bef, function(cel) {\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\tcel = W.$clone(cel)[0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpar.insertBefore(cel, el);\n\n\t\t\t\t\t\tW.$setRef(par);\n\t\t\t\t\t}, {\n\t\t\t\t\t\treverse: true\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (remove) {\n\t\t\t\t\tW.$remove(el);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get unique direct children of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @param filter\n\t\t * @returns {Array}\n\t\t */\n\t\t$children: function(parent, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tvar children = W._slice.call(el.children);\n\n\t\t\t\tarr = arr.concat(\n\t\t\t\t\tfilter ?\n\t\t\t\t\t\tW.$filter(children, filter) :\n\t\t\t\t\t\tchildren\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Clone each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {Array}\n\t\t */\n\t\t$clone: function(target) {\n\t\t\treturn W.$map(target, function(el) {\n\t\t\t\treturn el.cloneNode(true);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get unique closest ancestors of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param context\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$closest: function(target, filter, context) {\n\t\t\treturn W.$unique(W.$map(target, function(el) {\n\t\t\t\tif (W.$is(el, filter)) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\n\t\t\t\twhile (el !== null) {\n\t\t\t\t\tel = el.parentNode;\n\n\t\t\t\t\tif (el === W._html) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (W.$is(el, filter)) {\n\t\t\t\t\t\treturn el;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tcontext: context\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Determine if any matching parent contains descendant selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @param descendant\n\t\t * @returns {boolean}\n\t\t */\n\t\t$contains: function(parent, descendant) {\n\t\t\tvar b = false;\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tif (W.$(descendant, el).length) {\n\t\t\t\t\tb = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn b;\n\t\t},\n\n\t\t/**\n\t\t * Get unique content of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @returns {Array}\n\t\t */\n\t\t$contents: function(parent) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tarr = arr.concat(W._slice.call(el.childNodes));\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get CSS value of first matching selection or set value\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(object|string)} a\n\t\t * @param {(function|string)} [b]\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$css: function(target, a, b) {\n\t\t\tvar obj = W.$isObject(a);\n\n\t\t\tif (b !== U || obj) {\n\t\t\t\tvar func = ! obj && W._canExec(b);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tobj ?\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tel.style[key] = a[key];\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tel.style[a] = func ?\n\t\t\t\t\t\t\tW.$exec(b, {\n\t\t\t\t\t\t\t\targs: [i, el.style[a]],\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tb;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar el = W.$(target)[0];\n\n\t\t\t\treturn getComputedStyle(el, null)[a];\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get data of first matching selection or set data\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param a\n\t\t * @param [b]\n\t\t * @returns {(object|string|undefined)}\n\t\t */\n\t\t$data: function(target, a, b) {\n\t\t\tif (a === U) {\n\t\t\t\tvar el = W.$(target)[0],\n\t\t\t\t\tarr = {};\n\n\t\t\t\tW._slice.call(el.attributes).forEach(function(attr) {\n\t\t\t\t\tif (attr.name.substr(0, 5) == 'data-') {\n\t\t\t\t\t\tarr[_toCamel(attr.name.substr(5))] =\n\t\t\t\t\t\t\tW._castString(attr.value);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn arr;\n\t\t\t}\n\n\t\t\tif (W.$isObject(a)) {\n\t\t\t\tvar obj = {};\n\n\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\tobj['data-' + _toDashed(key)] = a[key];\n\t\t\t\t});\n\n\t\t\t\ta = obj;\n\t\t\t} else {\n\t\t\t\ta = 'data-' + _toDashed(a);\n\t\t\t}\n\n\t\t\treturn W._castString(W.$attr(target, a, b));\n\t\t},\n\n\t\t/**\n\t\t * Remove child nodes from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$empty: function(target) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\twhile (el.firstChild) {\n\t\t\t\t\tel.removeChild(el.firstChild);\n\t\t\t\t}\n\n\t\t\t\tW.$setRef(el);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get indexed node of matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {int} index\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$eq: function(target, index, context) {\n\t\t\tvar el = W.$(target, context);\n\n\t\t\treturn el[index < 0 ? el.length + index : index];\n\t\t},\n\n\t\t/**\n\t\t * Return a filtered subset of elements from a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$filter: function(target, filter, options) {\n\t\t\tvar func = W._canExec(filter);\n\n\t\t\treturn W.$map(target, function(el, i) {\n\t\t\t\tvar match = func ?\n\t\t\t\t\tW.$exec(filter, {\n\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tW.$is(el, filter, options);\n\n\t\t\t\treturn match ? el : false;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get unique filtered descendants from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$find: function(parent, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tarr = arr.concat(W.$(filter, el));\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get the first element of a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$first: function(target, context) {\n\t\t\treturn W.$(target, context)[0];\n\t\t},\n\n\t\t/**\n\t\t * Determine if the matching selection has a class\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {string} className\n\t\t * @returns {boolean}\n\t\t */\n\t\t$hasClass: function(target, className) {\n\t\t\treturn W.$(target).some(function(el) {\n\t\t\t\treturn new RegExp('(^| )' + className + '($| )', 'gim')\n\t\t\t\t\t.test(_getClass(el));\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get or set the height of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {number}\n\t\t */\n\t\t$height: function(target, value) {\n\t\t\tvar func = value && W._canExec(value),\n\t\t\t\theight;\n\n\t\t\tif (value === U || value === true || func) {\n\t\t\t\tvar el = W.$(target)[0];\n\n\t\t\t\tif (el === W._win) {\n\t\t\t\t\theight = el.innerHeight;\n\t\t\t\t} else if (el === W._doc) {\n\t\t\t\t\theight = el.documentElement.scrollHeight;\n\t\t\t\t} else {\n\t\t\t\t\theight = el.offsetHeight;\n\n\t\t\t\t\tif (value === true) {\n\t\t\t\t\t\tvar style = getComputedStyle(el);\n\t\t\t\t\t\theight += parseInt(style.marginTop) +\n\t\t\t\t\t\t\tparseInt(style.marginBottom);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (! func) {\n\t\t\t\t\treturn height;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvalue = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, height],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\n\t\t\t\tif (typeof value == 'number') {\n\t\t\t\t\tvalue += 'px';\n\t\t\t\t}\n\n\t\t\t\tW.$css(el, 'height', value);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Hide each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$hide: function(target) {\n\t\t\tW.$addClass(target, 'js-hide');\n\t\t},\n\n\t\t/**\n\t\t * Get inner HTML of first selection or set each matching selection HTML\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$html: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\treturn W.$(target)[0].innerHTML;\n\t\t\t}\n\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar html = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\n\t\t\t\tif (html !== false && html !== U) {\n\t\t\t\t\tif (el.nodeName == 'SELECT' && ! W._win.atob) {\n\t\t\t\t\t\tel.outerHTML = el.outerHTML.replace(\n\t\t\t\t\t\t\tel.innerHTML + '</s', html + '</s'\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.innerHTML = html;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get the zero-based index of a matching selection relative\n\t\t * to it's siblings\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {int}\n\t\t */\n\t\t$index: function(target) {\n\t\t\tvar el = W.$(target)[0],\n\t\t\t\tchildren = W.$children(W.$parent(el)),\n\t\t\t\ti = 0;\n\n\t\t\tfor (; i < children.length; i++) {\n\t\t\t\tif (children[i] === el) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element after\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$insertAfter: function(source, target) {\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\tW.$each(source, function(cel) {\n\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\tcel = W.$clone(cel)[0];\n\t\t\t\t\t}\n\n\t\t\t\t\tpar.insertBefore(cel, el.nextSibling);\n\n\t\t\t\t\tW.$setRef(par);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element before\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$insertBefore: function(source, target) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tW.$each(source, function(cel) {\n\t\t\t\t\tel.parentNode.insertBefore(cel, el);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Determine if at least one matching selection matches\n\t\t * a specified criteria\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {boolean}\n\t\t */\n\t\t$is: function(target, filter, options) {\n\t\t\treturn W.$map(target, function(el, i) {\n\t\t\t\tif (typeof filter == 'string' && filter.slice(0, 4) == 'ref:') {\n\t\t\t\t\treturn W.$(filter).indexOf(el) > -1;\n\t\t\t\t}\n\n\t\t\t\tif (W.$isObject(filter)) {\n\t\t\t\t\tfor (var key in filter) {\n\t\t\t\t\t\tif (filter[key] === el) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (Array.isArray(filter)) {\n\t\t\t\t\treturn filter.indexOf(el) > -1;\n\t\t\t\t}\n\n\t\t\t\tif (W._canExec(filter)) {\n\t\t\t\t\treturn W.$exec(filter, W.$extend({\n\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}, options));\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\tel.matches ||\n\t\t\t\t\tel.msMatchesSelector ||\n\t\t\t\t\tel.webkitMatchesSelector ||\n\t\t\t\t\tel.mozMatchesSelector\n\t\t\t\t).call(el, filter);\n\t\t\t}).length > 0;\n\t\t},\n\n\t\t/**\n\t\t * Get the last element of a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$last: function(target, context) {\n\t\t\treturn W.$eq(target, -1, context);\n\t\t},\n\n\t\t/**\n\t\t * Get the unique next sibling of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$next: function(target, filter, options) {\n\t\t\treturn W.$unique(W.$map(target, function(el) {\n\t\t\t\treturn _getSibling(el, 1, filter, options);\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Returns elements not matching the filtered selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$not: function(target, filter, options) {\n\t\t\tvar func = W._canExec(filter);\n\n\t\t\treturn W.$map(target, function(el, i) {\n\t\t\t\treturn (func ?\n\t\t\t\t\tW.$exec(filter, {\n\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tW.$is(el, filter, options)) ? false : el;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get the position of a matching selection relative to the document\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|number)} value\n\t\t * @returns {{top: number, left: number}}\n\t\t */\n\t\t$offset: function(target, value) {\n\t\t\tvar rect = W.$(target)[0].getBoundingClientRect(),\n\t\t\t\toffset = {\n\t\t\t\t\ttop: rect.top + W._win.pageYOffset,\n\t\t\t\t\tleft: rect.left + W._win.pageXOffset\n\t\t\t\t};\n\n\t\t\tif (value) {\n\t\t\t\tvar func = W._canExec(value);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tvar set = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, offset],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\n\t\t\t\t\tif (typeof set.top == 'number') {\n\t\t\t\t\t\tset.top = set.top + 'px';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof set.left == 'number') {\n\t\t\t\t\t\tset.left = set.left + 'px';\n\t\t\t\t\t}\n\n\t\t\t\t\tW.$css(el, set);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn offset;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get unique parent from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} child\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$parent: function(child, filter) {\n\t\t\treturn W.$unique(W.$map(child, function(el) {\n\t\t\t\tvar parent = el.parentNode;\n\t\t\t\treturn ! filter || W.$is(parent, filter) ? parent : false;\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Get unique ancestors of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} child\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$parents: function(child, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(child, function(el) {\n\t\t\t\twhile (el !== null) {\n\t\t\t\t\tel = el.parentNode;\n\n\t\t\t\t\tif (! filter || (filter && W.$is(el, filter))) {\n\t\t\t\t\t\tarr.push(el);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (el === W._html) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get the position of the first matching selection relative\n\t\t * to its offset parent\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {{top: number, left: number}}\n\t\t */\n\t\t$position: function(target) {\n\t\t\tvar el = W.$(target)[0];\n\n\t\t\treturn {\n\t\t\t\ttop: el.offsetTop,\n\t\t\t\tleft: el.offsetLeft\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Prepend selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t */\n\t\t$prepend: function(target, source) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar pre = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof pre == 'string') {\n\t\t\t\t\tpre = W.$parseHTML(pre);\n\t\t\t\t}\n\n\t\t\t\tif (pre) {\n\t\t\t\t\tW.$each(pre, function(cel) {\n\t\t\t\t\t\tel.insertBefore(cel, el.firstChild);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get the unique previous sibling of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$prev: function(target, filter, options) {\n\t\t\treturn W.$unique(W.$map(target, function(el) {\n\t\t\t\treturn _getSibling(el, -1, filter, options);\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Get property of first matching selection or set property of\n\t\t * each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {*}\n\t\t */\n\t\t$prop: function(target, a, b) {\n\t\t\tvar obj = W.$isObject(a);\n\n\t\t\tif (b !== U || obj) {\n\t\t\t\tvar func = ! obj && W._canExec(b);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tobj ?\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tel[key] = a[key];\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tel[a] = func ?\n\t\t\t\t\t\t\tW.$exec(b, {\n\t\t\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tb;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar el = W.$(target)[0];\n\n\t\t\t\treturn el[a];\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove each matching selection from the document\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t */\n\t\t$remove: function(target, context) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\tpar.removeChild(el);\n\n\t\t\t\tW.$setRef(par);\n\t\t\t}, {\n\t\t\t\tcontext: context\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Remove specified attribute of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {string} name\n\t\t */\n\t\t$removeAttr: function(target, name) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tname.split(/\\s+/).forEach(function(value) {\n\t\t\t\t\tel.removeAttribute(value);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Remove classes from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t */\n\t\t$removeClass: function(target, value) {\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar cn = _getClass(el),\n\t\t\t\t\tname = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, cn],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\n\t\t\t\tif (name) {\n\t\t\t\t\tvar names = name.split(' ');\n\n\t\t\t\t\t_setClass(el, cn.split(' ').filter(function(val) {\n\t\t\t\t\t\treturn names.indexOf(val) < 0;\n\t\t\t\t\t}).join(' '));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Replace each matching selection with selection or markup\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} source\n\t\t */\n\t\t$replaceWith: function(target, source) {\n\t\t\tW.$after(target, source, true);\n\t\t},\n\n\t\t/**\n\t\t * Get or set the X scroll position of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {number} value\n\t\t * @returns {number}\n\t\t */\n\t\t$scrollLeft: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\tvar el = target ? W.$(target)[0] : W._win;\n\n\t\t\t\treturn el === W._win ?\n\t\t\t\t\tel.pageXOffset :\n\t\t\t\t\tel.scrollLeft;\n\t\t\t}\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tel.scrollLeft = value;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get or set the Y scroll position of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {number} value\n\t\t * @returns {number}\n\t\t */\n\t\t$scrollTop: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\tvar el = target ? W.$(target)[0] : W._win;\n\n\t\t\t\treturn el === W._win ?\n\t\t\t\t\tel.pageYOffset :\n\t\t\t\t\tel.scrollTop;\n\t\t\t}\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tel.scrollTop = value;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Serialize input values from first matching form selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {boolean} json\n\t\t * @returns {string}\n\t\t */\n\t\t$serializeForm: function(target, json) {\n\t\t\tvar el = W.$(target)[0],\n\t\t\t\tobj = {},\n\t\t\t\ti = 0;\n\n\t\t\tif (el.nodeName != 'FORM') {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tfor (; i < el.elements.length; i++) {\n\t\t\t\tvar child = el.elements[i],\n\t\t\t\t\tname = child.name,\n\t\t\t\t\ttype = child.type;\n\n\t\t\t\tif (name && type != 'file' && type != 'reset') {\n\t\t\t\t\tvar arr = name.slice(-2) == '[]';\n\n\t\t\t\t\tif (arr) {\n\t\t\t\t\t\tname = name.slice(0, -2);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (type == 'select-multiple') {\n\t\t\t\t\t\tobj[name] = _getSelected(child);\n\t\t\t\t\t} else if (\n\t\t\t\t\t\ttype != 'submit' && type != 'button' &&\n\t\t\t\t\t\t((type != 'checkbox' && type != 'radio') ||\n\t\t\t\t\t\tchild.checked)) {\n\t\t\t\t\t\tif (arr || (type == 'checkbox' && obj[name])) {\n\t\t\t\t\t\t\tobj[name] = W.$toArray(obj[name]);\n\t\t\t\t\t\t\tobj[name].push(child.value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj[name] = child.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn json ? obj : W.$serialize(obj);\n\t\t},\n\n\t\t/**\n\t\t * Show each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$show: function(target) {\n\t\t\tW.$removeClass(target, 'js-hide');\n\t\t},\n\n\t\t/**\n\t\t * Get unique siblings of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$siblings: function(target, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tvar siblings = W._slice.call(el.parentNode.children),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < siblings.length; i++) {\n\t\t\t\t\tif (siblings[i] === el) {\n\t\t\t\t\t\tsiblings.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tarr = arr.concat(\n\t\t\t\t\tfilter ?\n\t\t\t\t\t\tW.$filter(siblings, filter) :\n\t\t\t\t\t\tsiblings\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get subset of selection matches from specified range\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {int} start\n\t\t * @param {int} end\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$slice: function(target, start, end) {\n\t\t\tif (! target._$) {\n\t\t\t\ttarget = W._selArray(target);\n\t\t\t}\n\n\t\t\treturn W._slice.call(target, start, end);\n\t\t},\n\n\t\t/**\n\t\t * Get inner text of first selection or set each matching selection text\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t * @returns {string}\n\t\t */\n\t\t$text: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\treturn W.$map(target, function(el) {\n\t\t\t\t\treturn el.textContent.trim();\n\t\t\t\t}).join('');\n\t\t\t}\n\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tel.textContent = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, el.textContent.trim()],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Toggle the display of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$toggle: function(target) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\t! W.$hasClass(el, 'js-hide') ?\n\t\t\t\t\tW.$hide(el) :\n\t\t\t\t\tW.$show(el);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Toggle adding and removing class(es) from the specified element\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} className\n\t\t * @param {boolean} [state]\n\t\t */\n\t\t$toggleClass: function(target, className, state) {\n\t\t\tvar func = W._canExec(className);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tif (func) {\n\t\t\t\t\tclassName = W.$exec(className, {\n\t\t\t\t\t\targs: [i, _getClass(el), state],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (className) {\n\t\t\t\t\tclassName.split(/\\s+/).forEach(function(value) {\n\t\t\t\t\t\tstate === false ||\n\t\t\t\t\t\t(state === U && W.$hasClass(el, value)) ?\n\t\t\t\t\t\t\tW.$removeClass(el, value) :\n\t\t\t\t\t\t\tW.$addClass(el, value);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get value of first matching selection or set match values\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t * @returns {(Array|string)}\n\t\t */\n\t\t$val: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\tvar el = W.$(target)[0];\n\n\t\t\t\tif (el.type == 'select-multiple') {\n\t\t\t\t\treturn _getSelected(el);\n\t\t\t\t}\n\n\t\t\t\treturn el.value;\n\t\t\t}\n\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tif (el.nodeName == 'SELECT') {\n\t\t\t\t\tvar opt = W.$find(el, 'option');\n\t\t\t\t\tvalue = W.$toArray(value);\n\n\t\t\t\t\topt.forEach(function(a) {\n\t\t\t\t\t\tif (value.indexOf(a.value) > -1) {\n\t\t\t\t\t\t\ta.selected = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tel.value = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, el.value],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get or set the width of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {number}\n\t\t */\n\t\t$width: function(target, value) {\n\t\t\tvar func = value && W._canExec(value),\n\t\t\t\twidth;\n\n\t\t\tif (value === U || value === true || func) {\n\t\t\t\tvar el = W.$(target)[0];\n\n\t\t\t\tif (el === W._win) {\n\t\t\t\t\twidth = el.innerWidth;\n\t\t\t\t} else if (el === W._doc) {\n\t\t\t\t\twidth = el.documentElement.scrollWidth;\n\t\t\t\t} else {\n\t\t\t\t\twidth = el.offsetWidth;\n\n\t\t\t\t\tif (value === true) {\n\t\t\t\t\t\tvar style = getComputedStyle(el);\n\t\t\t\t\t\twidth += parseInt(style.marginLeft) +\n\t\t\t\t\t\t\tparseInt(style.marginRight);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (! func) {\n\t\t\t\t\treturn width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvalue = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, width],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\n\t\t\t\tif (typeof value == 'number') {\n\t\t\t\t\tvalue += 'px';\n\t\t\t\t}\n\n\t\t\t\tW.$css(el, 'width', value);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} html\n\t\t */\n\t\t$wrap: function(target, html) {\n\t\t\tvar func = W._canExec(html);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar wrap = W.$(\n\t\t\t\t\tfunc ?\n\t\t\t\t\t\tW.$exec(html, {\n\t\t\t\t\t\t\targs: i,\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\thtml\n\t\t\t\t);\n\n\t\t\t\tif (wrap) {\n\t\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\t\tW.$each(wrap, function(cel) {\n\t\t\t\t\t\tcel = cel.cloneNode(true);\n\n\t\t\t\t\t\tpar.insertBefore(cel, el);\n\t\t\t\t\t\tcel.appendChild(el);\n\n\t\t\t\t\t\tW.$setRef(par);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around the content of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} html\n\t\t */\n\t\t$wrapInner: function(target, html) {\n\t\t\tvar func = W._canExec(html);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar wrap = W.$parseHTML(\n\t\t\t\t\tfunc ?\n\t\t\t\t\t\tW.$exec(html, {\n\t\t\t\t\t\t\targs: i,\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\thtml\n\t\t\t\t);\n\n\t\t\t\tif (wrap) {\n\t\t\t\t\tvar children = W.$children(el);\n\n\t\t\t\t\tif (! children.length) {\n\t\t\t\t\t\tchildren = W.$html(el);\n\n\t\t\t\t\t\tW.$empty(el);\n\t\t\t\t\t\tW.$html(wrap, children);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tW.$each(children, function(cel) {\n\t\t\t\t\t\t\twrap[0].appendChild(cel);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tW.$append(el, wrap);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})(Wee, undefined);","/* jshint maxparams: 5 */\n\n(function(W) {\n\t'use strict';\n\n\tvar bound = [],\n\t\tcustom = {},\n\n\t\t/**\n\t\t * Attach specific event logic to element\n\t\t *\n\t\t * @private\n\t\t * @param {Array} els\n\t\t * @param {object} obj\n\t\t * @param {object} options\n\t\t */\n\t\t_bind = function(els, obj, options) {\n\t\t\t// Redefine variables when delegating\n\t\t\tif (options && options.delegate) {\n\t\t\t\toptions.targ = els;\n\t\t\t\tels = options.delegate;\n\t\t\t}\n\n\t\t\t// For each element attach events\n\t\t\tW.$each(els, function(el) {\n\t\t\t\t// Loop through object events\n\t\t\t\tfor (var key in obj) {\n\t\t\t\t\tvar evts = key.split(' '),\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < evts.length; i++) {\n\t\t\t\t\t\tvar conf = W.$extend({\n\t\t\t\t\t\t\t\targs: [],\n\t\t\t\t\t\t\t\tonce: false,\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}, options),\n\t\t\t\t\t\t\tfn = obj[key],\n\t\t\t\t\t\t\tevt = evts[i],\n\t\t\t\t\t\t\tev = evt,\n\t\t\t\t\t\t\tf = fn;\n\t\t\t\t\t\tevt = evt.split('.')[0];\n\n\t\t\t\t\t\t// Prepend element to callback arguments if necessary\n\t\t\t\t\t\tif (conf.args[1] !== el) {\n\t\t\t\t\t\t\tconf.args.unshift(0, el);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t(function(el, evt, fn, f, conf) {\n\t\t\t\t\t\t\tvar cb = function(e) {\n\t\t\t\t\t\t\t\tvar cont = true;\n\t\t\t\t\t\t\t\tconf.args[0] = e;\n\n\t\t\t\t\t\t\t\t// If watch within ancestor make sure the target\n\t\t\t\t\t\t\t\t// matches the selector\n\t\t\t\t\t\t\t\tif (conf.targ) {\n\t\t\t\t\t\t\t\t\tvar targ = conf.targ,\n\t\t\t\t\t\t\t\t\t\tsel = targ._$ ? targ.sel : targ;\n\n\t\t\t\t\t\t\t\t\t// Update refs when targeting ref\n\t\t\t\t\t\t\t\t\tif (typeof sel == 'string' &&\n\t\t\t\t\t\t\t\t\t\tsel.indexOf('ref:') > -1) {\n\t\t\t\t\t\t\t\t\t\tW.$setRef(el);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcont = W.$toArray(W.$(sel)).some(function(el) {\n\t\t\t\t\t\t\t\t\t\treturn el.contains(e.target) && (targ = el);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t// Ensure element argument is the target\n\t\t\t\t\t\t\t\t\tconf.args[1] = conf.scope = targ;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (cont) {\n\t\t\t\t\t\t\t\t\tW.$exec(fn, conf);\n\n\t\t\t\t\t\t\t\t\t// Unbind after first execution\n\t\t\t\t\t\t\t\t\tif (conf.once) {\n\t\t\t\t\t\t\t\t\t\t_off(el, evt, f);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Ensure the specified element, event, and function\n\t\t\t\t\t\t\t// combination hasn't already been bound\n\t\t\t\t\t\t\tif (evt != 'init' && ! W.events.bound(el, ev, f).length) {\n\t\t\t\t\t\t\t\t// Determine if the event is native or custom\n\t\t\t\t\t\t\t\tif ('on' + evt in el) {\n\t\t\t\t\t\t\t\t\tel.addEventListener(evt, cb, false);\n\t\t\t\t\t\t\t\t} else if (custom[evt]) {\n\t\t\t\t\t\t\t\t\tcustom[evt][0](el, fn, conf);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbound.push({\n\t\t\t\t\t\t\t\t\tel: el,\n\t\t\t\t\t\t\t\t\tev: ev,\n\t\t\t\t\t\t\t\t\tevt: evt,\n\t\t\t\t\t\t\t\t\tcb: cb,\n\t\t\t\t\t\t\t\t\tfn: f\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (evt == 'init' || conf.init === true) {\n\t\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})(el, evt, fn, f, conf);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Detach event(s) from element\n\t\t *\n\t\t * @private\n\t\t * @param {(HTMLElement|string)} [sel]\n\t\t * @param {string} [evt]\n\t\t * @param {function} [fn]\n\t\t */\n\t\t_off = function(sel, evt, fn) {\n\t\t\tW.$each(W.events.bound(sel, evt, fn), function(e) {\n\t\t\t\tif ('on' + e.evt in W._doc) {\n\t\t\t\t\te.el.removeEventListener(e.evt, e.cb);\n\t\t\t\t} else if (custom[e.evt]) {\n\t\t\t\t\tcustom[e.evt][1](e.el, e.cb);\n\t\t\t\t}\n\n\t\t\t\tbound.splice(bound.indexOf(e), 1);\n\t\t\t});\n\t\t};\n\n\tW.events = {\n\t\t/**\n\t\t * Bind event function to element\n\t\t *\n\t\t * @param {(HTMLElement|object|string)} target\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {(function|object)} [b] - event callback or options object\n\t\t * @param {(object|string)} [c] - event options\n\t\t * @param {Array} [c.args] - callback arguments\n\t\t * @param {(HTMLElement|string)} [c.context=document]\n\t\t * @param {(HTMLElement|string)} [c.delegate]\n\t\t * @param {boolean} [c.once=false] - remove event after first execution\n\t\t * @param {object} [c.scope]\n\t\t */\n\t\ton: function(target, a, b, c) {\n\t\t\tvar evts = [];\n\n\t\t\tif (W.$isObject(target) && ! target._$) {\n\t\t\t\tvar keys = Object.keys(target),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < keys.length; i++) {\n\t\t\t\t\tvar key = keys[i];\n\t\t\t\t\tevts = target[key];\n\n\t\t\t\t\t_bind(key, evts, a);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (typeof a == 'string') {\n\t\t\t\t\tevts[a] = b;\n\t\t\t\t} else {\n\t\t\t\t\tevts = a;\n\t\t\t\t\tc = b;\n\t\t\t\t}\n\n\t\t\t\t_bind(target, evts, c);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove specified event from specified element\n\t\t *\n\t\t * @param {(HTMLElement|string)} [target]\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {function} [b] - specific function to remove\n\t\t */\n\t\toff: function(target, a, b) {\n\t\t\tvar obj = a;\n\n\t\t\tif (a) {\n\t\t\t\tif (typeof a == 'string') {\n\t\t\t\t\tobj = [];\n\t\t\t\t\tobj[a] = b;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in obj) {\n\t\t\t\t\tvar evts = key.split(' '),\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < evts.length; i++) {\n\t\t\t\t\t\tvar evt = evts[i],\n\t\t\t\t\t\tfn = obj[evt];\n\n\t\t\t\t\t\t_off(target, evt, fn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_off(target);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get currently bound events to optional specified element and event|function\n\t\t *\n\t\t * @param {(boolean|HTMLElement|string)} [target]\n\t\t * @param {string} [event] - event name to match\n\t\t * @param {function} [fn] - specific function to match\n\t\t * @returns {Array} matches\n\t\t */\n\t\tbound: function(target, event, fn) {\n\t\t\tvar segs = (event || '').split('.'),\n\t\t\t\tmatches = [];\n\t\t\ttarget = target || [0];\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tObject.keys(bound).forEach(function(e) {\n\t\t\t\t\tvar binding = bound[e],\n\t\t\t\t\t\tparts = binding.ev.split('.'),\n\t\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tif (el && el !== binding.el) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (event &&\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tsegs[0] !== '' &&\n\t\t\t\t\t\t\tsegs[0] != parts[0]\n\t\t\t\t\t\t) ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tsegs[1] &&\n\t\t\t\t\t\t\tsegs[1] != parts[1]\n\t\t\t\t\t\t)) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fn && String(fn) !== String(binding.fn)) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\tmatches.push(binding);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn target ? matches : bound;\n\t\t},\n\n\t\t/**\n\t\t * Execute bound event for each matching selection\n\t\t *\n\t\t * @param {(HTMLElement|string)} target\n\t\t * @param {string} name\n\t\t */\n\t\ttrigger: function(target, name) {\n\t\t\tvar fn = function() {};\n\n\t\t\tthis.bound(target, name).forEach(function(e) {\n\t\t\t\te.cb({\n\t\t\t\t\ttarget: e.el,\n\t\t\t\t\tpreventDefault: fn,\n\t\t\t\t\tstopPropagation: fn\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Add a custom event\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {function} on\n\t\t * @param {function} off\n\t\t */\n\t\taddEvent: function(name, on, off) {\n\t\t\tcustom[name] = [on, off];\n\t\t}\n\t};\n})(Wee);","/* jshint maxparams: 5 */\n\n(function(W, D, E, H, U) {\n\t'use strict';\n\n\tvar support = H && H.pushState,\n\t\tentries = [],\n\t\tsettings = {},\n\t\troot = '',\n\t\tpath = '',\n\n\t\t/**\n\t\t * Return current path\n\t\t *\n\t\t * @private\n\t\t * @param {object} [loc]\n\t\t * @returns {string}\n\t\t */\n\t\t_path = function(loc) {\n\t\t\tloc = loc || location;\n\t\t\treturn loc.pathname + loc.search + loc.hash;\n\t\t},\n\n\t\t/**\n\t\t * Determine if path is valid for history navigation\n\t\t *\n\t\t * @private\n\t\t * @param {HTMLElement} el\n\t\t */\n\t\t_isValid = function(el) {\n\t\t\tvar host = el.host,\n\t\t\t\tpath = el.pathname,\n\t\t\t\tloc = location;\n\n\t\t\tif (! el.href ||\n\t\t\t\tel.target == '_blank' ||\n\t\t\t\t! /https?:/.test(el.protocol) ||\n\t\t\t\tel.hasAttribute('download') ||\n\t\t\t\tel.hasAttribute('data-static') ||\n\t\t\t\t(host && host != loc.host) ||\n\t\t\t\t(el.hash && path == loc.pathname)\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar exts = settings.extensions,\n\t\t\t\tsegs = path.split('.'),\n\t\t\t\text;\n\n\t\t\tif (segs.length > 1) {\n\t\t\t\text = segs.pop().split(/#|\\?/)[0];\n\t\t\t}\n\n\t\t\treturn ! ext || (exts && exts.indexOf(ext) > -1);\n\t\t},\n\n\t\t/**\n\t\t * Reset references and variables for a given selector\n\t\t *\n\t\t * @private\n\t\t * @param sel\n\t\t */\n\t\t_reset = function(sel) {\n\t\t\tW.$setRef(sel);\n\t\t\tW.$setVar(sel);\n\n\t\t\tW.history.bind();\n\t\t},\n\n\t\t/**\n\t\t * Process the history state of the request\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf\n\t\t */\n\t\t_process = function(conf) {\n\t\t\tvar request = conf.request,\n\t\t\t\tmethod = request.method;\n\n\t\t\tif (! method || method == 'get') {\n\t\t\t\tconf.path = D._getUrl(request);\n\t\t\t}\n\n\t\t\tvar key = conf.path.replace(/^\\//g, ''),\n\t\t\t\tobj = {\n\t\t\t\t\targs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdir: conf.push ? 1 : -1,\n\t\t\t\t\t\t\tpath: conf.path,\n\t\t\t\t\t\t\tprev: path\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\tentries[key] = conf;\n\n\t\t\t// Add entry to HTML5 history\n\t\t\tif (conf.push && support) {\n\t\t\t\tH.pushState(0, '', conf.path);\n\t\t\t}\n\n\t\t\t// Update document title\n\t\t\tif (conf.title) {\n\t\t\t\tW._doc.title = conf.title;\n\t\t\t}\n\n\t\t\tif (W.routes) {\n\t\t\t\t// Update current path\n\t\t\t\tW.routes.uri(conf.path);\n\t\t\t\tW.routes.uri({\n\t\t\t\t\thistory: true\n\t\t\t\t});\n\n\t\t\t\t// Evaluate routes against updated path\n\t\t\t\tif (conf.run) {\n\t\t\t\t\tW.routes.run({\n\t\t\t\t\t\tevent: 'pop',\n\t\t\t\t\t\tpath: path\n\t\t\t\t\t});\n\n\t\t\t\t\tW.routes.run({\n\t\t\t\t\t\tpath: conf.path\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tpath = conf.path;\n\t\t\t}\n\n\t\t\tif (conf.push && conf.pushstate) {\n\t\t\t\tW.$exec(conf.pushstate, obj);\n\t\t\t}\n\n\t\t\tif (conf.pop && conf.popstate) {\n\t\t\t\tW.$exec(conf.popstate, obj);\n\t\t\t}\n\n\t\t\tif (conf.end) {\n\t\t\t\tW.$exec(conf.end, obj);\n\t\t\t}\n\t\t};\n\n\tW.history = {\n\t\t/**\n\t\t * Set the initial state and popstate event, and bind global actions\n\t\t *\n\t\t * @param {object} [options]\n\t\t * @param {($|boolean|HTMLElement|string)} [options.bind]\n\t\t * @param {Array} [options.extensions]\n\t\t * @param {string} [options.partials='title,main']\n\t\t * @param {boolean} [options.processErrors=false]\n\t\t * @param {boolean} [options.push=true]\n\t\t * @param {object} [options.request]\n\t\t * @param {boolean} [options.run=true]\n\t\t */\n\t\tinit: function(options) {\n\t\t\tif (! this.request) {\n\t\t\t\tpath = _path();\n\t\t\t\tsettings = W.$extend({\n\t\t\t\t\tpartials: 'title,main',\n\t\t\t\t\tpush: true,\n\t\t\t\t\trequest: {},\n\t\t\t\t\trun: true,\n\t\t\t\t\tscrollTop: 0\n\t\t\t\t}, options);\n\t\t\t\troot = settings.request.root || '';\n\n\t\t\t\tthis.request = settings.request;\n\t\t\t\tdelete settings.request;\n\n\t\t\t\tif (support) {\n\t\t\t\t\tH.scrollRestoration = 'manual';\n\n\t\t\t\t\t// Set current state\n\t\t\t\t\tH.replaceState(0, '');\n\n\t\t\t\t\t// Listen for browser navigation\n\t\t\t\t\tE.on(W._win, 'popstate.history', function(e) {\n\t\t\t\t\t\tif (e.state !== null) {\n\t\t\t\t\t\t\tvar url = _path(),\n\t\t\t\t\t\t\t\tprevConf = entries[path.replace(/^\\//g, '')];\n\n\t\t\t\t\t\t\tif (prevConf) {\n\t\t\t\t\t\t\t\tvar conf = W.$extend(\n\t\t\t\t\t\t\t\t\tentries[url.replace(/^\\//g, '')] || {\n\t\t\t\t\t\t\t\t\t\trequest: {\n\t\t\t\t\t\t\t\t\t\t\troot: ''\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\tpath: url,\n\t\t\t\t\t\t\t\t\t\tpush: false,\n\t\t\t\t\t\t\t\t\t\tpop: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tconf.partials = prevConf.partials;\n\n\t\t\t\t\t\t\t\t// Restore previous scroll position\n\t\t\t\t\t\t\t\tif (e.state.top) {\n\t\t\t\t\t\t\t\t\tconf.scrollTop = e.state.top;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tW.history.go(conf);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tW._win.location = url;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Bind PJAX actions\n\t\t\t\tthis.bind();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Bind element events and form submit events to PJAX\n\t\t *\n\t\t * @param {(boolean|object)} [events]\n\t\t * @param {($|HTMLElement|Object|string)} [a] - settings or context\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t */\n\t\tbind: function(events, a, context) {\n\t\t\tevents = events || settings.bind;\n\n\t\t\tif (events === true) {\n\t\t\t\tevents = {\n\t\t\t\t\tclick: 'a',\n\t\t\t\t\tsubmit: 'form'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (support && typeof events == 'object') {\n\t\t\t\tvar keys = Object.keys(events),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tif (typeof a !== 'object') {\n\t\t\t\t\tcontext = a;\n\t\t\t\t\ta = {};\n\t\t\t\t}\n\n\t\t\t\tfor (; i < keys.length; i++) {\n\t\t\t\t\tvar event = keys[i],\n\t\t\t\t\t\tsel = events[event];\n\n\t\t\t\t\t$(sel).each(function(el) {\n\t\t\t\t\t\tvar evt = event.split(' ').map(function(val) {\n\t\t\t\t\t\t\t\treturn val + '.history';\n\t\t\t\t\t\t\t}).join(' '),\n\t\t\t\t\t\t\tloc = el.getAttribute('data-url'),\n\t\t\t\t\t\t\tform = el.nodeName == 'FORM',\n\t\t\t\t\t\t\tl = el;\n\n\t\t\t\t\t\tif (loc || form) {\n\t\t\t\t\t\t\tl = W._doc.createElement('a');\n\t\t\t\t\t\t\tl.href = loc || el.getAttribute('action') ||\n\t\t\t\t\t\t\t\tW.routes.uri().full;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Ensure the path exists and is local\n\t\t\t\t\t\tif (! evt || ! _isValid(l)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar options = W.$extend(true, {}, a);\n\n\t\t\t\t\t\t// Remove existing history events\n\t\t\t\t\t\tE.off(el, '.history');\n\n\t\t\t\t\t\tE.on(el, evt, function(e, el) {\n\t\t\t\t\t\t\tif (! e.metaKey) {\n\t\t\t\t\t\t\t\toptions.path = _path(l);\n\n\t\t\t\t\t\t\t\tif (form) {\n\t\t\t\t\t\t\t\t\tif (el.method.toLowerCase() == 'post') {\n\t\t\t\t\t\t\t\t\t\toptions.request = W.$extend(options.request, {\n\t\t\t\t\t\t\t\t\t\t\tdata: W.$serializeForm(el, true),\n\t\t\t\t\t\t\t\t\t\t\ttype: 'form',\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'post'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\toptions.path += '?' + W.$serializeForm(el);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tW.history.go(options);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}, {\n\t\t\t\t\t\tcontext: context\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Navigate to a new path or within the browser history\n\t\t *\n\t\t * @param {object} options\n\t\t * @param {string} [options.action='replace']\n\t\t * @param {Array} [options.extensions]\n\t\t * @param {string} [options.partials='title,main']\n\t\t * @param {string} [options.path=current path]\n\t\t * @param {boolean} [options.push=true]\n\t\t * @param {object} [options.request]\n\t\t * @param {boolean} [options.run=true]\n\t\t * @param {($|HTMLElement|number|string)} [options.scrollTop]\n\t\t * @param {string} [options.title]\n\t\t */\n\t\tgo: function(options) {\n\t\t\tvar scope = this;\n\n\t\t\tif (! scope.request) {\n\t\t\t\tscope.init();\n\t\t\t}\n\n\t\t\tvar req = scope.request,\n\t\t\t\tconf = W.$extend(\n\t\t\t\t\t{},\n\t\t\t\t\tsettings,\n\t\t\t\t\toptions\n\t\t\t\t),\n\t\t\t\trequest = W.$extend(\n\t\t\t\t\t{},\n\t\t\t\t\treq,\n\t\t\t\t\tconf.request || {}\n\t\t\t\t);\n\n\t\t\trequest.root = request.root !== U ? request.root : root;\n\t\t\trequest.url = request.url !== U ? request.url : conf.path;\n\n\t\t\t// Navigate to external URL or if history isn't supported\n\t\t\tvar a = W._doc.createElement('a');\n\t\t\ta.href = request.root + request.url;\n\n\t\t\tif (! support || ! _isValid(a)) {\n\t\t\t\tW._win.location = request.url;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (conf.begin && W.$exec(conf.begin, {\n\t\t\t\t\targs: [conf]\n\t\t\t\t}) === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set current scroll position\n\t\t\tH.replaceState({\n\t\t\t\ttop: W._body.scrollTop\n\t\t\t}, '');\n\n\t\t\t// Reset URL to exclude root\n\t\t\ta.href = request.url;\n\n\t\t\trequest.url = _path(a);\n\t\t\tconf.request = request;\n\n\t\t\t// Request partial Ajax\n\t\t\tif (request.url !== U) {\n\t\t\t\tvar sendEvents = [],\n\t\t\t\t\tsuccessEvents = [],\n\t\t\t\t\terrorEvents = [],\n\t\t\t\t\tcompleteEvents = [],\n\t\t\t\t\tpartials = conf.partials,\n\t\t\t\t\ttargets = W.$(partials);\n\n\t\t\t\t// Setup PJAX headers\n\t\t\t\trequest.headers = W.$extend({\n\t\t\t\t\t'X-PJAX': 'true',\n\t\t\t\t\t'X-Requested-With': false\n\t\t\t\t}, request.headers);\n\n\t\t\t\t// Process send events\n\t\t\t\tif (request.send) {\n\t\t\t\t\tsendEvents.push(request.send);\n\t\t\t\t}\n\n\t\t\t\tif (req.send) {\n\t\t\t\t\tsendEvents.push(req.send);\n\t\t\t\t}\n\n\t\t\t\trequest.send = sendEvents;\n\n\t\t\t\t// Compile success events\n\t\t\t\tvar replaceEvent = function(x) {\n\t\t\t\t\tvar html = typeof x == 'string' ? x : x.responseText;\n\n\t\t\t\t\tif (conf.replace) {\n\t\t\t\t\t\thtml = W.$exec(conf.replace, {\n\t\t\t\t\t\t\targs: [html]\n\t\t\t\t\t\t}) || html;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Evaluate unload routes against updated path\n\t\t\t\t\tif (W.routes && conf.run) {\n\t\t\t\t\t\tW.routes.run({\n\t\t\t\t\t\t\tevent: 'unload',\n\t\t\t\t\t\t\tpath: path\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (partials) {\n\t\t\t\t\t\thtml = W.$parseHTML('<i>' + html + '</i>').firstChild;\n\n\t\t\t\t\t\t// Make partial replacements from response\n\t\t\t\t\t\tW.$each(partials.split(','), function(sel) {\n\t\t\t\t\t\t\tW.$each(sel, function(el) {\n\t\t\t\t\t\t\t\tvar target = W.$(sel)[0];\n\n\t\t\t\t\t\t\t\tif (target) {\n\t\t\t\t\t\t\t\t\tvar parent = target.parentNode;\n\n\t\t\t\t\t\t\t\t\tconf.action == 'append' ?\n\t\t\t\t\t\t\t\t\t\tparent.appendChild(el) :\n\t\t\t\t\t\t\t\t\t\tparent.replaceChild(el, target);\n\n\t\t\t\t\t\t\t\t\t_reset(parent);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tcontext: html\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttargets.innerHTML = html;\n\n\t\t\t\t\t\t_reset(targets);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tsuccessEvents.push(replaceEvent);\n\n\t\t\t\tif (request.success) {\n\t\t\t\t\tsuccessEvents.push(request.success);\n\t\t\t\t}\n\n\t\t\t\tif (req.success) {\n\t\t\t\t\tsuccessEvents.push(req.success);\n\t\t\t\t}\n\n\t\t\t\tvar scrollEvent = function() {\n\t\t\t\t\tvar st = conf.scrollTop;\n\n\t\t\t\t\t// Scroll vertically to target\n\t\t\t\t\tif (st !== false) {\n\t\t\t\t\t\tvar top = 0,\n\t\t\t\t\t\t\tanim = W.animate;\n\n\t\t\t\t\t\tif (a.hash) {\n\t\t\t\t\t\t\tst = a.hash;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof st == 'number') {\n\t\t\t\t\t\t\ttop = st;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar el = W.$(st)[0];\n\n\t\t\t\t\t\t\tif (el) {\n\t\t\t\t\t\t\t\ttop = el.getBoundingClientRect().top +\n\t\t\t\t\t\t\t\t\tW._win.pageYOffset;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (anim) {\n\t\t\t\t\t\t\tanim.tween(W._body, {\n\t\t\t\t\t\t\t\tscrollTop: top\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tW._body.scrollTop = top;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tsuccessEvents.push(scrollEvent);\n\n\t\t\t\trequest.success = successEvents;\n\n\t\t\t\t// Compile error events\n\t\t\t\tif (request.error) {\n\t\t\t\t\terrorEvents.push(request.error);\n\t\t\t\t}\n\n\t\t\t\tif (req.error) {\n\t\t\t\t\terrorEvents.push(req.error);\n\t\t\t\t}\n\n\t\t\t\t// Optionally process error events\n\t\t\t\tif (conf.processErrors) {\n\t\t\t\t\terrorEvents.push(replaceEvent);\n\t\t\t\t\terrorEvents.push(scrollEvent);\n\t\t\t\t}\n\n\t\t\t\trequest.error = errorEvents;\n\n\t\t\t\t// Compile complete events\n\t\t\t\tif (request.complete) {\n\t\t\t\t\tcompleteEvents.push(request.complete);\n\t\t\t\t}\n\n\t\t\t\tif (req.complete) {\n\t\t\t\t\tcompleteEvents.push(req.complete);\n\t\t\t\t}\n\n\t\t\t\tcompleteEvents.push(function(x) {\n\t\t\t\t\tvar code = x.status;\n\n\t\t\t\t\tif (conf.processErrors || (code >= 200 && code < 400)) {\n\t\t\t\t\t\t_process(conf);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trequest.complete = completeEvents;\n\n\t\t\t\t// Make Ajax request\n\t\t\t\trequest.args = request.args || [];\n\t\t\t\trequest.args.unshift(targets);\n\n\t\t\t\tD.request(request);\n\t\t\t} else {\n\t\t\t\t_process(conf);\n\t\t\t}\n\t\t}\n\t};\n})(Wee, Wee.data, Wee.events, history, undefined);","/* jshint maxdepth: 6 */\n\n(function(W, U) {\n\t'use strict';\n\n\tvar filters = {\n\t\t\tnum: function(seg) {\n\t\t\t\treturn Number(parseInt(seg)) == seg;\n\t\t\t}\n\t\t},\n\t\tany = [],\n\t\troutes,\n\t\tsegs,\n\t\turi,\n\n\t\t/**\n\t\t * Recursively process routes\n\t\t *\n\t\t * @private\n\t\t * @param {string} route - route to evaluate\n\t\t * @param {int} i - current index in iteration\n\t\t * @param {int} total - total number of routes\n\t\t * @param {string} [event='load'] - lifecycle event\n\t\t */\n\t\t_process = function(route, i, total, event) {\n\t\t\tvar seg = segs[i],\n\t\t\t\tkeys = Object.keys(route),\n\t\t\t\tx = 0;\n\t\t\ti++;\n\n\t\t\t// Match against patterns\n\t\t\tfor (; x < keys.length; x++) {\n\t\t\t\tvar key = keys[x],\n\t\t\t\t\tchild = route[key],\n\t\t\t\t\topts = key.split('||'),\n\t\t\t\t\tk = 0,\n\t\t\t\t\ty = i,\n\t\t\t\t\tmatch = false,\n\t\t\t\t\tran = false;\n\n\t\t\t\tfor (; k < opts.length; k++) {\n\t\t\t\t\tvar opt = opts[k],\n\t\t\t\t\t\tparts = opt.split(':'),\n\t\t\t\t\t\thistory = event != U,\n\t\t\t\t\t\tnegate = false,\n\t\t\t\t\t\tpush = false,\n\t\t\t\t\t\teq = false;\n\n\t\t\t\t\t// Ensure event type matches route type\n\t\t\t\t\tif ((! history && (\n\t\t\t\t\t\t\tparts.indexOf('unload') > -1 ||\n\t\t\t\t\t\t\tparts.indexOf('pop') > -1)\n\t\t\t\t\t\t) ||\n\t\t\t\t\t\t(history && (\n\t\t\t\t\t\t\t! W.$isObject(child) &&\n\t\t\t\t\t\t\tparts.indexOf(event) < 0\n\t\t\t\t\t\t))) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set option to rule root\n\t\t\t\t\tif (parts.length > 1) {\n\t\t\t\t\t\topt = parts[0];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Negate routes prefixed by !\n\t\t\t\t\tif (opt[0] == '!') {\n\t\t\t\t\t\topt = opt.slice(1);\n\t\t\t\t\t\tnegate = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Move the segment pointer back one level\n\t\t\t\t\tif (parts.indexOf('eval') > -1) {\n\t\t\t\t\t\ty--;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (opt == seg) {\n\t\t\t\t\t\teq = true;\n\t\t\t\t\t} else if (opt[0] == '$') {\n\t\t\t\t\t\topt = opt.slice(1);\n\n\t\t\t\t\t\tif (opt == 'any') {\n\t\t\t\t\t\t\teq = true;\n\n\t\t\t\t\t\t\tif (parts.indexOf('fire') > -1) {\n\t\t\t\t\t\t\t\tran = true;\n\t\t\t\t\t\t\t} else if (! W.$isObject(child)) {\n\t\t\t\t\t\t\t\tpush = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (opt == 'root') {\n\t\t\t\t\t\t\tif (! seg) {\n\t\t\t\t\t\t\t\teq = true;\n\t\t\t\t\t\t\t\tran = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (opt[0] == '/') {\n\t\t\t\t\t\t\tvar split = opt.split('/');\n\n\t\t\t\t\t\t\tif (new RegExp(split[1], split[2] || U).test(seg)) {\n\t\t\t\t\t\t\t\teq = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar filter = filters[opt];\n\n\t\t\t\t\t\t\tif (filter) {\n\t\t\t\t\t\t\t\tif (filter(seg, child, y) === true) {\n\t\t\t\t\t\t\t\t\teq = true;\n\t\t\t\t\t\t\t\t\tpush = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (seg && seg.trim() !== '') {\n\t\t\t\t\t\t\t\teq = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Invert the equality if the route is negated\n\t\t\t\t\tif (negate) {\n\t\t\t\t\t\teq = ! eq;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (eq) {\n\t\t\t\t\t\t// If ran is true then execute the route immediately\n\t\t\t\t\t\tif (ran) {\n\t\t\t\t\t\t\tW.$exec(child, {\n\t\t\t\t\t\t\t\targs: seg\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If push is true then push the route to the any queue\n\t\t\t\t\t\tif (push) {\n\t\t\t\t\t\t\tran = true;\n\t\t\t\t\t\t\tany.push([child, seg]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Remove the route if set to once\n\t\t\t\t\t\tif (parts.indexOf('once') > -1) {\n\t\t\t\t\t\t\tdelete route[key];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Set match to true and break on match\n\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If matched then process recursively or execute if applicable\n\t\t\t\tif (match) {\n\t\t\t\t\tif (W.$isObject(child)) {\n\t\t\t\t\t\t_process(child, y, total, event);\n\t\t\t\t\t} else if (! ran && y === total) {\n\t\t\t\t\t\tW.$exec(child, {\n\t\t\t\t\t\t\targs: seg\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\tW.routes = {\n\t\t/**\n\t\t * Get current URI values or set with string or value\n\t\t *\n\t\t * @param {(object|string)} [value]\n\t\t * @param {string} [value.full]\n\t\t * @param {string} [value.hash]\n\t\t * @param {boolean} [value.history]\n\t\t * @param {string} [value.path]\n\t\t * @param {object} [value.query]\n\t\t * @param {Array} [value.segments]\n\t\t * @param {string} [value.url]\n\t\t * @returns {object} data\n\t\t */\n\t\turi: function(value) {\n\t\t\tif (value) {\n\t\t\t\tif (W.$isObject(value)) {\n\t\t\t\t\turi = W.$extend(this.uri(), value);\n\t\t\t\t\treturn uri;\n\t\t\t\t}\n\n\t\t\t\tvar a = W._doc.createElement('a');\n\t\t\t\ta.href = value;\n\n\t\t\t\tvar search = a.search,\n\t\t\t\t\tpath = a.pathname.replace(/^\\/|\\/$/g, '');\n\n\t\t\t\turi = {\n\t\t\t\t\tfull: '/' + path + search + a.hash,\n\t\t\t\t\thash: a.hash.slice(1),\n\t\t\t\t\thistory: false,\n\t\t\t\t\tpath: '/' + path,\n\t\t\t\t\tquery: search ? W.$unserialize(search) : {},\n\t\t\t\t\tsegments: path.split('/'),\n\t\t\t\t\turl: a.href\n\t\t\t\t};\n\t\t\t} else if (! uri) {\n\t\t\t\turi = W.routes.uri(location.href);\n\t\t\t}\n\n\t\t\treturn uri;\n\t\t},\n\n\t\t/**\n\t\t * Get all segments or segment at index\n\t\t *\n\t\t * @param {int} [index]\n\t\t * @returns {(Array|string)} segments\n\t\t */\n\t\tsegments: function(index) {\n\t\t\tvar segs = this.uri().segments;\n\n\t\t\treturn index !== U ? (segs[index] || '') : segs;\n\t\t},\n\n\t\t/**\n\t\t * Retrieve or add route endpoints\n\t\t *\n\t\t * @param {object} obj - routes\n\t\t * @param {bool} [init=false] - immediately evaluate routes\n\t\t * @returns {object} routes\n\t\t */\n\t\tmap: function(obj, init) {\n\t\t\tvar curr = routes || {};\n\n\t\t\tif (obj) {\n\t\t\t\troutes = W.$extend(curr, obj);\n\n\t\t\t\tif (init) {\n\t\t\t\t\tthis.run({\n\t\t\t\t\t\troutes: routes\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn curr;\n\t\t},\n\n\t\t/**\n\t\t * Add conditional route filter\n\t\t *\n\t\t * @param {(object|string)} a - name or filter object\n\t\t * @param {function} [b]\n\t\t */\n\t\taddFilter: function(a, b) {\n\t\t\tW._extend(filters, a, b);\n\t\t},\n\n\t\t/**\n\t\t * Evaluate routes against URI\n\t\t *\n\t\t * @param {object} [conf]\n\t\t * @param {string} [conf.event='load']\n\t\t * @param {string} [conf.path]\n\t\t * @param {object} [conf.routes]\n\t\t */\n\t\trun: function(conf) {\n\t\t\tconf = conf || {};\n\t\t\tvar rules = conf.routes || routes;\n\n\t\t\tif (rules) {\n\t\t\t\tsegs = conf.path ?\n\t\t\t\t\tconf.path.replace(/^\\/|\\/$/g, '').split(/#|\\?/)[0].split('/') :\n\t\t\t\t\tthis.segments();\n\n\t\t\t\t_process(rules, 0, segs.length, conf.event);\n\n\t\t\t\t// Execute queued init functions on last iteration\n\t\t\t\tif (any.length) {\n\t\t\t\t\tfor (var i = 0; i < any.length; i++) {\n\t\t\t\t\t\tvar rule = any[i];\n\n\t\t\t\t\t\tW.$exec(rule[0], {\n\t\t\t\t\t\t\targs: rule[1]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Clear array for next iteration\n\t\t\t\t\tany = [];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n})(Wee, undefined);","(function(W) {\n\t'use strict';\n\n\tvar events = [],\n\t\tbound,\n\t\tcurrent,\n\n\t\t/**\n\t\t * Bind individual rule\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf - breakpoint rules\n\t\t * @param {Array} [conf.args] - callback arguments\n\t\t * @param {function} conf.callback\n\t\t * @param {boolean} [conf.each=false] - execute for each matching breakpoint\n\t\t * @param {boolean} [conf.init=true] - check event on load\n\t\t * @param {int} [conf.max] - maximum breakpoint value\n\t\t * @param {int} [conf.min] - minimum breakpoint value\n\t\t * @param {boolean} [conf.once=false] - only execute the callback once\n\t\t * @param {object} [conf.scope] - callback scope\n\t\t * @param {int} [conf.size] - specific breakpoint value\n\t\t * @param {boolean} [conf.watch=true] - check event on screen resize\n\t\t * @param {string} [conf.namespace] - namespace the event\n\t\t */\n\t\t_addRule = function(conf) {\n\t\t\tif (conf.callback) {\n\t\t\t\t// Only setup watching when enabled\n\t\t\t\tif (conf.watch !== false) {\n\t\t\t\t\tevents.push(conf);\n\n\t\t\t\t\t// Only attach event once\n\t\t\t\t\tif (! bound) {\n\t\t\t\t\t\tvar run = _run.bind(this, false, 0);\n\t\t\t\t\t\tbound = 1;\n\t\t\t\t\t\tevents = [conf];\n\n\t\t\t\t\t\t// Attach resize event\n\t\t\t\t\t\tW._win.addEventListener('resize', run);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Evaluate rule immediately if not disabled\n\t\t\t\tif (conf.init !== false) {\n\t\t\t\t\t_run(true, [conf]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Check mapped rules for matching conditions\n\t\t *\n\t\t * @private\n\t\t * @param {boolean} [init=false] - initial page load\n\t\t * @param {Array} [rules] - breakpoint rules\n\t\t */\n\t\t_run = function(init, rules) {\n\t\t\tvar size = W.screen.size();\n\n\t\t\t// If breakpoint has been hit or resize logic initialized\n\t\t\tif (size && (init || size !== current)) {\n\t\t\t\tvar evts = rules || events,\n\t\t\t\t\ti = evts.length;\n\n\t\t\t\twhile (i--) {\n\t\t\t\t\tvar evt = evts[i];\n\n\t\t\t\t\tif (_eq(evt, size, init)) {\n\t\t\t\t\t\tvar f = init && ! current,\n\t\t\t\t\t\t\tdata = {\n\t\t\t\t\t\t\t\tdir: f ? 0 : (size > current ? 1 : -1),\n\t\t\t\t\t\t\t\tinit: f,\n\t\t\t\t\t\t\t\tprev: current,\n\t\t\t\t\t\t\t\tsize: size\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\tW.$exec(evt.callback, {\n\t\t\t\t\t\t\targs: evt.args ? [data].concat(evt.args) : [data],\n\t\t\t\t\t\t\tscope: evt.scope\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Disable future execution if once\n\t\t\t\t\t\tif (evt.once) {\n\t\t\t\t\t\t\tevents.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Cache current value\n\t\t\t\tcurrent = size;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Compare event rules against current size\n\t\t *\n\t\t * @private\n\t\t * @param {object} evt\n\t\t * @param {number} size\n\t\t * @param {boolean} init\n\t\t * @returns {boolean}\n\t\t */\n\t\t_eq = function(evt, size, init) {\n\t\t\tvar sz = evt.size,\n\t\t\t\tmn = evt.min,\n\t\t\t\tmx = evt.max,\n\t\t\t\tex = evt.each || init;\n\n\t\t\t// Check match against rules\n\t\t\treturn (! sz && ! mn && ! mx) ||\n\t\t\t\t(sz && sz === size) ||\n\t\t\t\t(mn && size >= mn && (ex || current < mn) && (! mx || size <= mx)) ||\n\t\t\t\t(mx && size <= mx && (ex || current > mx) && (! mn || size >= mn));\n\t\t};\n\n\tW.screen = {\n\t\t/**\n\t\t * Get current breakpoint value\n\t\t *\n\t\t * @returns {number} size\n\t\t */\n\t\tsize: function() {\n\t\t\treturn parseFloat(\n\t\t\t\tgetComputedStyle(W._html, null)\n\t\t\t\t\t.getPropertyValue('font-family')\n\t\t\t\t\t.replace(/[^0-9\\.]+/g, '')\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Map conditional events to breakpoint values\n\t\t *\n\t\t * @param {(Array|object)} rules - breakpoint rules\n\t\t * @param {Array} [rules.args] - callback arguments\n\t\t * @param {function} rules.callback\n\t\t * @param {boolean} [rules.each=false] - execute for each matching breakpoint\n\t\t * @param {boolean} [rules.init=true] - check event on load\n\t\t * @param {int} [rules.max] - maximum breakpoint value\n\t\t * @param {int} [rules.min] - minimum breakpoint value\n\t\t * @param {string} [rules.namespace] - namespace the event\n\t\t * @param {boolean} [rules.once=false] - only execute the callback once\n\t\t * @param {object} [rules.scope] - callback scope\n\t\t * @param {int} [rules.size] - specific breakpoint value\n\t\t * @param {boolean} [rules.watch=true] - check event on screen resize\n\t\t */\n\t\tmap: function(rules) {\n\t\t\tvar sets = W.$toArray(rules),\n\t\t\t\ti = 0;\n\n\t\t\t// Delay check to prevent incorrect IE value\n\t\t\tfor (; i < sets.length; i++) {\n\t\t\t\t_addRule(sets[i]);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Evaluate the current breakpoint\n\t\t */\n\t\trun: function() {\n\t\t\t_run(true);\n\t\t},\n\n\t\t/**\n\t\t * Remove events from bound rules\n\t\t *\n\t\t * @param {string} [namespace] - remove screen events in this namespace\n\t\t */\n\t\treset: function(namespace) {\n\t\t\tevents = namespace ?\n\t\t\t\tevents.filter(function(el) {\n\t\t\t\t\treturn el.namespace !== namespace;\n\t\t\t\t}) :\n\t\t\t\t[];\n\t\t}\n\t};\n})(Wee);","/* jshint maxdepth: 5, maxparams: 6 */\n\n(function(W, U) {\n\t'use strict';\n\n\tvar reg = {\n\t\t\targs: /(\\\\?['\"][^'\"]+\\\\?['\"]|[^,]+)/g,\n\t\t\text: /(.[^\\(]+)(?:\\((.*)\\))?/,\n\t\t\tpair: /{{#(\\S+?)(?:\\|(.+?))?}}([\\s\\S]+?){{\\/\\1}}/g,\n\t\t\tpartial: /{{\\s*>(.+?)}}/g,\n\t\t\tsingle: /{{(.+?)}}/g,\n\t\t\tstr: /^\\\\?(\"|')/,\n\t\t\ttags: /{{\\s*(?:([#\\/])([^#{\\|\\n\\s]+)\\s*(\\|[^{\\n]+)?|else)\\s*}}/g\n\t\t},\n\t\thelpers = {\n\t\t\tis: function(val) {\n\t\t\t\treturn this.val === val;\n\t\t\t},\n\t\t\tnot: function(val) {\n\t\t\t\treturn this.val !== val;\n\t\t\t},\n\t\t\tisEmpty: function() {\n\t\t\t\treturn this.empty;\n\t\t\t},\n\t\t\tnotEmpty: function() {\n\t\t\t\treturn ! this.empty;\n\t\t\t}\n\t\t},\n\t\tviews = {},\n\t\tesc,\n\n\t\t/**\n\t\t * Determine if value matches empty criteria\n\t\t *\n\t\t * @private\n\t\t * @param {*} val\n\t\t * @returns {boolean}\n\t\t */\n\t\t_isEmpty = function(val) {\n\t\t\treturn val === '' || val === false || val == null ||\n\t\t\t\t(typeof val == 'object' && ! Object.keys(val).length);\n\t\t},\n\n\t\t/**\n\t\t * Make recursive partial replacements\n\t\t *\n\t\t * @private\n\t\t * @param {string} temp\n\t\t * @returns {string}\n\t\t */\n\t\t_embed = function(temp) {\n\t\t\ttemp = temp.replace(reg.partial, function(m, tag) {\n\t\t\t\treturn views[tag.trim()] || '';\n\t\t\t});\n\n\t\t\tif (reg.partial.test(temp)) {\n\t\t\t\ttemp = _embed(temp);\n\t\t\t}\n\n\t\t\treturn temp;\n\t\t},\n\n\t\t/**\n\t\t * Render template string\n\t\t *\n\t\t * @private\n\t\t * @param {string} temp\n\t\t * @param {object} data\n\t\t * @returns {string}\n\t\t */\n\t\t_render = function(temp, data) {\n\t\t\tvar tags = [],\n\t\t\t\tdepth = [];\n\n\t\t\t// Make partial replacements\n\t\t\ttemp = _embed(temp);\n\n\t\t\t// Match tag pairs\n\t\t\ttemp = temp.replace(reg.tags, function(m, pre, tag, helper) {\n\t\t\t\tvar resp = '{{';\n\n\t\t\t\tif (tag == '!') {\n\t\t\t\t\tesc = pre == '#';\n\t\t\t\t\tresp += pre + tag;\n\t\t\t\t} else if (esc) {\n\t\t\t\t\treturn m;\n\t\t\t\t} else if (pre) {\n\t\t\t\t\tvar segs = tag.split('('),\n\t\t\t\t\t\troot = segs[0],\n\t\t\t\t\t\texists = tags.hasOwnProperty(tag);\n\t\t\t\t\tresp += pre + root + '%';\n\n\t\t\t\t\tif (pre == '#') {\n\t\t\t\t\t\tdepth.push(root);\n\n\t\t\t\t\t\tif (exists) {\n\t\t\t\t\t\t\ttags[root].i++;\n\t\t\t\t\t\t\ttags[root].o.push(tags[root].i);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttags[root] = {\n\t\t\t\t\t\t\t\ti: 1,\n\t\t\t\t\t\t\t\to: [1]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (segs.length > 1) {\n\t\t\t\t\t\t\thelper = '(' + segs.slice(1).join('(');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresp += tags[root].i + (helper || '');\n\t\t\t\t\t} else if (exists) {\n\t\t\t\t\t\tresp += tags[root].o.pop();\n\t\t\t\t\t}\n\t\t\t\t} else if (depth.length) {\n\t\t\t\t\ttag = depth.pop();\n\t\t\t\t\tresp += ':' + tag + '%' + tags[tag].i;\n\t\t\t\t}\n\n\t\t\t\treturn resp + '}}';\n\t\t\t});\n\n\t\t\t// Parse template tags\n\t\t\treturn _parse(temp, data, {}, data, 0);\n\t\t},\n\n\t\t/**\n\t\t * Parse template string\n\t\t *\n\t\t * @private\n\t\t * @param {string} temp\n\t\t * @param {object} data\n\t\t * @param {object} prev\n\t\t * @param {object} init\n\t\t * @param {int} index\n\t\t * @returns {string}\n\t\t */\n\t\t_parse = function(temp, data, prev, init, index) {\n\t\t\treturn temp.replace(reg.pair, function(m, t, helper, inner) {\n\t\t\t\t// Return escaped template tag pairs\n\t\t\t\tif (t == '!') {\n\t\t\t\t\tesc = true;\n\t\t\t\t\treturn inner.replace(/{{/g, '{~');\n\t\t\t\t}\n\n\t\t\t\tvar tag = t.replace(/%\\d+/, ''),\n\t\t\t\t\tcond = inner.split('{{:' + t + '}}');\n\t\t\t\tinner = cond[0];\n\n\t\t\t\tvar val = _get(data, prev, tag, U, init, index),\n\t\t\t\t\tempty = _isEmpty(val),\n\t\t\t\t\thelp = [],\n\t\t\t\t\teach;\n\n\t\t\t\t// Parse helpers\n\t\t\t\tif (helper || empty) {\n\t\t\t\t\tvar meth = helper ? helper.split('|') : [],\n\t\t\t\t\t\tsec = cond.length > 1 ? cond[1] : '',\n\t\t\t\t\t\tagg = [];\n\n\t\t\t\t\t// Check for root helpers\n\t\t\t\t\tif (empty) {\n\t\t\t\t\t\tvar arg = meth[0] && meth[0][0] == '(';\n\t\t\t\t\t\tmeth.unshift(tag + (arg ? meth[0] : '()'));\n\n\t\t\t\t\t\tif (arg) {\n\t\t\t\t\t\t\tmeth.splice(1, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Capture available aggregates and helpers\n\t\t\t\t\tmeth.forEach(function(el) {\n\t\t\t\t\t\tvar arr = el.match(reg.ext),\n\t\t\t\t\t\t\tname = arr[1].trim();\n\n\t\t\t\t\t\t// Check for each helper\n\t\t\t\t\t\tif (name == 'each') {\n\t\t\t\t\t\t\teach = true;\n\t\t\t\t\t\t} else if (helpers[name]) {\n\t\t\t\t\t\t\tel = [helpers[name], arr[2]];\n\t\t\t\t\t\t\teach ? help.push(el) : agg.push(el);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Process aggregates\n\t\t\t\t\tif (agg.length) {\n\t\t\t\t\t\tif (! agg.every(function(f) {\n\t\t\t\t\t\t\tvar rv = f[0].apply({\n\t\t\t\t\t\t\t\tval: val,\n\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\troot: init,\n\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\tempty: empty,\n\t\t\t\t\t\t\t\tindex: index\n\t\t\t\t\t\t\t}, _parseArgs(f[1], val));\n\n\t\t\t\t\t\t\tif (rv === false) {\n\t\t\t\t\t\t\t\treturn rv;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (rv !== true) {\n\t\t\t\t\t\t\t\tval = rv;\n\t\t\t\t\t\t\t\tempty = _isEmpty(val);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t})) {\n\t\t\t\t\t\t\treturn _parse(sec, data, prev, init, index);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (empty) {\n\t\t\t\t\t\treturn _parse(sec, data, prev, init, index);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar isObject = typeof val == 'object';\n\n\t\t\t\tif (! each) {\n\t\t\t\t\tif (! isObject) {\n\t\t\t\t\t\tval = W.$extend({}, data, {\n\t\t\t\t\t\t\t'.': val,\n\t\t\t\t\t\t\t'#': 0,\n\t\t\t\t\t\t\t'##': 1\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn _parse(inner, val, data, init, index);\n\t\t\t\t}\n\n\t\t\t\tif (! empty) {\n\t\t\t\t\t// Loop through objects and arrays\n\t\t\t\t\tif (isObject) {\n\t\t\t\t\t\tvar isPlainObject = W.$isObject(val),\n\t\t\t\t\t\t\tresp = '',\n\t\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\t\tfor (var key in val) {\n\t\t\t\t\t\t\tif (val.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t// Merge default properties\n\t\t\t\t\t\t\t\tvar el = val[key];\n\t\t\t\t\t\t\t\tempty = _isEmpty(el);\n\n\t\t\t\t\t\t\t\t// Process helpers\n\t\t\t\t\t\t\t\tif (! help.length ||\n\t\t\t\t\t\t\t\t\thelp.every(function(f) {\n\t\t\t\t\t\t\t\t\t\tvar rv = f[0].apply({\n\t\t\t\t\t\t\t\t\t\t\tval: el,\n\t\t\t\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\t\t\t\troot: init,\n\t\t\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\t\t\tempty: empty,\n\t\t\t\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t\t\t\t}, _parseArgs(f[1], val));\n\n\t\t\t\t\t\t\t\t\t\tif (rv === false) {\n\t\t\t\t\t\t\t\t\t\t\treturn rv;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (rv !== true) {\n\t\t\t\t\t\t\t\t\t\t\tel = rv;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tvar item = W.$extend({}, W.$isObject(el) ?\n\t\t\t\t\t\t\t\t\t\tel :\n\t\t\t\t\t\t\t\t\t\t(isPlainObject ? val : {}),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t$key: key,\n\t\t\t\t\t\t\t\t\t\t'.': el,\n\t\t\t\t\t\t\t\t\t\t'#': i,\n\t\t\t\t\t\t\t\t\t\t'##': i + 1\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\ti++;\n\n\t\t\t\t\t\t\t\t\tresp += _parse(inner, item, data, init, i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn resp;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn inner;\n\t\t\t\t}\n\t\t\t}).replace(reg.single, function(m, set) {\n\t\t\t\tvar split = set.split('||'),\n\t\t\t\t\tfb = split[1],\n\t\t\t\t\tsegs = split[0].split('|'),\n\t\t\t\t\ttag = segs[0].trim(),\n\t\t\t\t\tval = _get(data, prev, tag, fb, init, index),\n\t\t\t\t\thelps = segs.length > 1 ? segs.slice(1) : segs;\n\n\t\t\t\t// Process helpers\n\t\t\t\thelps.forEach(function(el, i) {\n\t\t\t\t\tvar arr = el.match(reg.ext);\n\t\t\t\t\thelps[i] = el.trim();\n\n\t\t\t\t\tif (arr) {\n\t\t\t\t\t\tvar helper = helpers[arr[1].trim()];\n\n\t\t\t\t\t\tif (helper && (segs.length > 1 ||\n\t\t\t\t\t\t\t! data.hasOwnProperty(tag))) {\n\t\t\t\t\t\t\tval = helper.apply({\n\t\t\t\t\t\t\t\tval: val,\n\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\troot: init,\n\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\t\t\tfallback: fb\n\t\t\t\t\t\t\t}, _parseArgs(arr[2], data));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Encode output by default\n\t\t\t\tif (val === U || typeof val == 'object') {\n\t\t\t\t\tval = '';\n\t\t\t\t} else if (typeof val == 'string') {\n\t\t\t\t\t// Recursively process injected tags\n\t\t\t\t\tif (val.indexOf('{{') > -1) {\n\t\t\t\t\t\tval = _render(val, data);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Encode HTML characters\n\t\t\t\t\tif (helps.indexOf('raw') < 0) {\n\t\t\t\t\t\tval = val.replace(/&amp;/g, '&')\n\t\t\t\t\t\t\t.replace(/&/g, '&amp;')\n\t\t\t\t\t\t\t.replace(/</g, '&lt;')\n\t\t\t\t\t\t\t.replace(/>/g, '&gt;')\n\t\t\t\t\t\t\t.replace(/\"/g, '&quot;');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn val;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get specific object value\n\t\t *\n\t\t * @private\n\t\t * @param {object} data\n\t\t * @param {object} prev\n\t\t * @param {string} key\n\t\t * @param {string} fb\n\t\t * @param {object} init\n\t\t * @param {int} x\n\t\t * @returns {*}\n\t\t */\n\t\t_get = function(data, prev, key, fb, init, x) {\n\t\t\tkey = key.trim();\n\n\t\t\t// Alter context\n\t\t\tif (key.substr(0, 6) == '$root.') {\n\t\t\t\tkey = key.substr(6);\n\t\t\t\tdata = init;\n\t\t\t} else if (key.substr(0, 3) == '../') {\n\t\t\t\tkey = key.substr(3);\n\t\t\t\tdata = prev;\n\t\t\t}\n\n\t\t\tvar segs = key == '.' ? ['.'] : key.split('.'),\n\t\t\t\torig = data,\n\t\t\t\tlen = segs.length - 1,\n\t\t\t\ti = 0;\n\n\t\t\t// Loop through object segments\n\t\t\tfor (; i <= len; i++) {\n\t\t\t\tkey = segs[i];\n\n\t\t\t\tif (data && data.hasOwnProperty(key)) {\n\t\t\t\t\tdata = data[key];\n\n\t\t\t\t\t// Return value on last segment\n\t\t\t\t\tif (i === len) {\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (key == '.') {\n\t\t\t\treturn data;\n\t\t\t}\n\n\t\t\t// Process fallback value\n\t\t\tif (fb && fb !== '') {\n\t\t\t\tfb = fb.trim();\n\t\t\t\tvar match = fb.match(reg.str);\n\n\t\t\t\tif (match) {\n\t\t\t\t\treturn fb.replace(reg.str, '')\n\t\t\t\t\t\t.replace(new RegExp(match[0] + '$'), '');\n\t\t\t\t}\n\n\t\t\t\treturn _get(orig, prev, fb, '', init, x);\n\t\t\t}\n\n\t\t\treturn fb;\n\t\t},\n\n\t\t/**\n\t\t * Parse helper arguments\n\t\t *\n\t\t * @private\n\t\t * @param {string} str\n\t\t * @param {object} data\n\t\t * @returns {*}\n\t\t */\n\t\t_parseArgs = function(str, data) {\n\t\t\tvar args = str !== U ? str.match(reg.args) || [] : [];\n\n\t\t\treturn args.map(function(arg) {\n\t\t\t\targ = arg.trim();\n\n\t\t\t\tif (data && data.hasOwnProperty(arg) && isNaN(arg)) {\n\t\t\t\t\treturn data[arg];\n\t\t\t\t}\n\n\t\t\t\tvar match = arg.match(reg.str);\n\n\t\t\t\tif (match) {\n\t\t\t\t\treturn arg.replace(reg.str, '')\n\t\t\t\t\t\t.replace(new RegExp(match[0] + '$'), '');\n\t\t\t\t}\n\n\t\t\t\treturn arg == 'true' ? true :\n\t\t\t\t\targ == 'false' ? false :\n\t\t\t\t\targ == 'null' ? null :\n\t\t\t\t\tparseInt(arg).toString() == arg ? parseInt(arg) :\n\t\t\t\t\t'';\n\t\t\t});\n\t\t};\n\n\tW.app = {\n\t\t/**\n\t\t * Application instance storage\n\t\t */\n\t\tfn: {},\n\n\t\t/**\n\t\t * Create an application\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {object} options\n\t\t * @param {object} options.model\n\t\t * @param {($|HTMLElement|string)} [options.target]\n\t\t * @param {($|HTMLElement|string)} options.view\n\t\t *\n\t\t */\n\t\tmake: function(name, options) {\n\t\t\tvar sel = options.view,\n\t\t\t\ttarg = options.target,\n\t\t\t\tmodel = options.model || {},\n\t\t\t\tviews = W.$(targ || sel).map(function(el) {\n\t\t\t\t\treturn [el, targ ? sel : el.outerHTML];\n\t\t\t\t}),\n\t\t\t\tfn = function(data) {\n\t\t\t\t\tviews.forEach(function(view) {\n\t\t\t\t\t\tW.$setRef(\n\t\t\t\t\t\t\tW.view.diff(view[0], W.$parseHTML(\n\t\t\t\t\t\t\t\tW.view.render(view[1], data)\n\t\t\t\t\t\t\t), targ)\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tapp = W.app;\n\n\t\t\tfn(model);\n\n\t\t\t// Create a new application controller\n\t\t\tapp.fn[name] = W._make(name, {}, {}, false, model);\n\t\t\tapp[name] = new app.fn[name]();\n\n\t\t\tW.$extend(app[name], {\n\t\t\t\t/**\n\t\t\t\t * Destroy current application\n\t\t\t\t */\n\t\t\t\t$destroy: function() {\n\t\t\t\t\tif (options._destruct) {\n\t\t\t\t\t\toptions._destruct();\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete app[name];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Pause view updating\n\t\t\t\t */\n\t\t\t\t$pause: function() {\n\t\t\t\t\tapp[name].$unobserve('*', fn);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Resume view updating\n\t\t\t\t *\n\t\t\t\t * @param {boolean} [update=false]\n\t\t\t\t */\n\t\t\t\t$resume: function(update) {\n\t\t\t\t\tapp[name].$observe('*', fn);\n\n\t\t\t\t\tif (update) {\n\t\t\t\t\t\tfn(app[name].$get());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Initialize app observation\n\t\t\tapp[name].$resume();\n\n\t\t\treturn app[name];\n\t\t}\n\t};\n\n\tW.view = {\n\t\t/**\n\t\t * Parse data into template string\n\t\t *\n\t\t * @param {string} template\n\t\t * @param {object} [data]\n\t\t * @returns {string}\n\t\t */\n\t\trender: function(template, data) {\n\t\t\tesc = false;\n\t\t\ttemplate = _render(views[template] || template, W.$extend(data));\n\n\t\t\treturn esc ?\n\t\t\t\ttemplate.replace(/{~/g, '{{') :\n\t\t\t\ttemplate;\n\t\t},\n\n\t\t/**\n\t\t * Add conditional template handler or tag data modifier\n\t\t *\n\t\t * @param {object|string} name\n\t\t * @param {function} [fn]\n\t\t */\n\t\taddHelper: function(name, fn) {\n\t\t\tW._extend(helpers, name, fn);\n\t\t},\n\n\t\t/**\n\t\t * Add views to store for on-demand reference\n\t\t *\n\t\t * @param {object|string} name\n\t\t * @param {string} [value]\n\t\t */\n\t\taddView: function(name, value) {\n\t\t\tW._extend(views, name, value);\n\t\t}\n\t};\n})(Wee, undefined);","/**\n * Copyright (c) 2015, Patrick Steele-Idem\n * https://github.com/patrick-steele-idem/morphdom\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\n/* jshint maxdepth: 8 */\n\n(function(W, D) {\n\tvar specialElHandlers = {\n\t\t/**\n\t\t * Needed for IE. Apparently IE doesn't think\n\t\t * that \"selected\" is an attribute when reading\n\t\t * over the attributes using selectEl.attributes\n\t\t */\n\t\tOPTION: function(fromEl, toEl) {\n\t\t\tif (fromEl.selected == toEl.selected) {\n\t\t\t\tfromEl.setAttribute('selected', '');\n\t\t\t} else {\n\t\t\t\tfromEl.removeAttribute('selected');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * The \"value\" attribute is special for the <input> element\n\t\t * since it sets the initial value. Changing the \"value\"\n\t\t * attribute without changing the \"value\" property will have\n\t\t * no effect since it is only used to the set the initial value.\n\t\t * Similar for the \"checked\" attribute.\n\t\t */\n\t\tINPUT: function(fromEl, toEl) {\n\t\t\tfromEl.checked = toEl.checked;\n\n\t\t\tif (fromEl.value != toEl.value) {\n\t\t\t\tfromEl.value = toEl.value;\n\t\t\t}\n\n\t\t\tif (! toEl.hasAttribute('checked')) {\n\t\t\t\tfromEl.removeAttribute('checked');\n\t\t\t}\n\n\t\t\tif (! toEl.hasAttribute('value')) {\n\t\t\t\tfromEl.removeAttribute('value');\n\t\t\t}\n\t\t},\n\n\t\tTEXTAREA: function(fromEl, toEl) {\n\t\t\tvar newValue = toEl.value;\n\n\t\t\tif (fromEl.value != newValue) {\n\t\t\t\tfromEl.value = newValue;\n\t\t\t}\n\n\t\t\tif (fromEl.firstChild) {\n\t\t\t\tfromEl.firstChild.nodeValue = newValue;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Loop over all of the attributes on the target node and make sure the\n\t * original DOM node has the same attributes. If an attribute\n\t * found on the original node is not on the new node then remove it from\n\t * the original node\n\t *\n\t * @private\n\t * @param  {HTMLElement} fromNode\n\t * @param  {HTMLElement} toNode\n\t */\n\t_morphAttrs = function(fromNode, toNode) {\n\t\tvar attrs = toNode.attributes,\n\t\t\tfoundAttrs = {},\n\t\t\tattrName,\n\t\t\tattrValue,\n\t\t\tattr,\n\t\t\ti;\n\n\t\tfor (i = attrs.length - 1; i >= 0; i--) {\n\t\t\tattr = attrs[i];\n\n\t\t\tif (attr.specified !== false) {\n\t\t\t\tattrName = attr.name;\n\t\t\t\tattrValue = attr.value;\n\t\t\t\tfoundAttrs[attrName] = true;\n\n\t\t\t\tif (fromNode.getAttribute(attrName) !== attrValue) {\n\t\t\t\t\tfromNode.setAttribute(attrName, attrValue);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Delete any extra attributes found on the original DOM element\n\t\t// that weren't found on the target element\n\t\tattrs = fromNode.attributes;\n\n\t\tfor (i = attrs.length - 1; i >= 0; i--) {\n\t\t\tattr = attrs[i];\n\n\t\t\tif (attr.specified !== false) {\n\t\t\t\tattrName = attr.name;\n\n\t\t\t\tif (! foundAttrs.hasOwnProperty(attrName)) {\n\t\t\t\t\tfromNode.removeAttribute(attrName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Copies the children of one DOM element to another\n\t *\n\t * @private\n\t * @param {HTMLElement} fromEl\n\t * @param {HTMLElement} toEl\n\t * @returns {HTMLElement}\n\t */\n\t_moveChildren = function(fromEl, toEl) {\n\t\tvar curChild = fromEl.firstChild;\n\n\t\twhile (curChild) {\n\t\t\tvar nextChild = curChild.nextSibling;\n\n\t\t\ttoEl.appendChild(curChild);\n\n\t\t\tcurChild = nextChild;\n\t\t}\n\n\t\treturn toEl;\n\t};\n\n\tW.view.diff = function(fromNode, toNode, replace) {\n\t\t// Used to store DOM elements with IDs\n\t\tvar savedEls = {},\n\t\t\tunmatchedEls = {},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {HTMLElement} node\n\t\t\t * @param {boolean} nestedInSavedEl\n\t\t\t */\n\t\t\tremoveNodeHelper = function(node, nestedInSavedEl) {\n\t\t\t\tvar id = node.id;\n\n\t\t\t\t// If the node has an ID then store it since we will want to\n\t\t\t\t// reuse it in case the target DOM tree has a DOM element with\n\t\t\t\t// the same ID\n\t\t\t\tif (id) {\n\t\t\t\t\tsavedEls[id] = node;\n\t\t\t\t}\n\n\t\t\t\tif (node.nodeType === 1) {\n\t\t\t\t\tvar curChild = node.firstChild;\n\n\t\t\t\t\twhile (curChild) {\n\t\t\t\t\t\tremoveNodeHelper(curChild, nestedInSavedEl || id);\n\n\t\t\t\t\t\tcurChild = curChild.nextSibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {HTMLElement} node\n\t\t\t */\n\t\t\twalkDiscardedChildNodes = function(node) {\n\t\t\t\tif (node.nodeType === 1) {\n\t\t\t\t\tvar curChild = node.firstChild;\n\n\t\t\t\t\twhile (curChild) {\n\t\t\t\t\t\tif (! curChild.id) {\n\t\t\t\t\t\t\t// Walk recursively\n\t\t\t\t\t\t\twalkDiscardedChildNodes(curChild);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurChild = curChild.nextSibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {HTMLElement} node\n\t\t\t * @param {HTMLElement} parentNode\n\t\t\t * @param {boolean} alreadyVisited\n\t\t\t */\n\t\t\tremoveNode = function(node, parentNode, alreadyVisited) {\n\t\t\t\tparentNode.removeChild(node);\n\n\t\t\t\tif (alreadyVisited) {\n\t\t\t\t\tif (! node.id) {\n\t\t\t\t\t\twalkDiscardedChildNodes(node);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tremoveNodeHelper(node);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {HTMLElement} fromEl\n\t\t\t * @param {HTMLElement} toEl\n\t\t\t * @param {boolean} alreadyVisited\n\t\t\t */\n\t\t\tmorphEl = function(fromEl, toEl, alreadyVisited) {\n\t\t\t\tif (toEl.id) {\n\t\t\t\t\t// If an element with an ID is being morphed then it is\n\t\t\t\t\t// will be in the final DOM so clear it out of the saved\n\t\t\t\t\t// elements collection\n\t\t\t\t\tdelete savedEls[toEl.id];\n\t\t\t\t}\n\n\t\t\t\t// Don't process elements specifically excluded\n\t\t\t\tif (fromEl.hasAttribute('data-ignore')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_morphAttrs(fromEl, toEl);\n\n\t\t\t\tif (fromEl.tagName != 'TEXTAREA') {\n\t\t\t\t\tvar curToNodeChild = toEl.firstChild,\n\t\t\t\t\t\tcurFromNodeChild = fromEl.firstChild,\n\t\t\t\t\t\tcurToNodeId,\n\t\t\t\t\t\tfromNextSibling,\n\t\t\t\t\t\ttoNextSibling,\n\t\t\t\t\t\tsavedEl,\n\t\t\t\t\t\tunmatchedEl;\n\n\t\t\t\t\touter: while (curToNodeChild) {\n\t\t\t\t\t\ttoNextSibling = curToNodeChild.nextSibling;\n\t\t\t\t\t\tcurToNodeId = curToNodeChild.id;\n\n\t\t\t\t\t\twhile (curFromNodeChild) {\n\t\t\t\t\t\t\tvar curFromNodeId = curFromNodeChild.id;\n\t\t\t\t\t\t\tfromNextSibling = curFromNodeChild.nextSibling;\n\n\t\t\t\t\t\t\tif (! alreadyVisited) {\n\t\t\t\t\t\t\t\tif (curFromNodeId && (unmatchedEl = unmatchedEls[curFromNodeId])) {\n\t\t\t\t\t\t\t\t\tunmatchedEl.parentNode.replaceChild(curFromNodeChild, unmatchedEl);\n\t\t\t\t\t\t\t\t\tmorphEl(curFromNodeChild, unmatchedEl, alreadyVisited);\n\n\t\t\t\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar curFromNodeType = curFromNodeChild.nodeType;\n\n\t\t\t\t\t\t\tif (curFromNodeType === curToNodeChild.nodeType) {\n\t\t\t\t\t\t\t\tvar isCompatible = false;\n\n\t\t\t\t\t\t\t\tif (curFromNodeType === 1) {\n\t\t\t\t\t\t\t\t\t// Both nodes being compared are Element nodes\n\t\t\t\t\t\t\t\t\tif (curFromNodeChild.tagName === curToNodeChild.tagName) {\n\t\t\t\t\t\t\t\t\t\t// We have compatible DOM elements\n\t\t\t\t\t\t\t\t\t\tif (curFromNodeId || curToNodeId) {\n\t\t\t\t\t\t\t\t\t\t\t// If either DOM element has an ID\n\t\t\t\t\t\t\t\t\t\t\t// then we handle those differently\n\t\t\t\t\t\t\t\t\t\t\t// since we want to match up by ID\n\t\t\t\t\t\t\t\t\t\t\tif (curToNodeId === curFromNodeId) {\n\t\t\t\t\t\t\t\t\t\t\t\tisCompatible = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tisCompatible = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (isCompatible) {\n\t\t\t\t\t\t\t\t\t\t// We found compatible DOM elements so\n\t\t\t\t\t\t\t\t\t\t// transform the current \"from\" node\n\t\t\t\t\t\t\t\t\t\t// to match the current target DOM node\n\t\t\t\t\t\t\t\t\t\tmorphEl(curFromNodeChild, curToNodeChild, alreadyVisited);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (curFromNodeType === 3) {\n\t\t\t\t\t\t\t\t\t// Both nodes being compared are Text nodes\n\t\t\t\t\t\t\t\t\tisCompatible = true;\n\t\t\t\t\t\t\t\t\t// Simply update nodeValue on the original\n\t\t\t\t\t\t\t\t\t// node to change the text value\n\t\t\t\t\t\t\t\t\tcurFromNodeChild.nodeValue = curToNodeChild.nodeValue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (isCompatible) {\n\t\t\t\t\t\t\t\t\tcurToNodeChild = toNextSibling;\n\t\t\t\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\n\t\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// No compatible match so remove the old node from\n\t\t\t\t\t\t\t// the DOM and continue trying to find a match in\n\t\t\t\t\t\t\t// the original DOM\n\t\t\t\t\t\t\tremoveNode(curFromNodeChild, fromEl, alreadyVisited);\n\t\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (curToNodeId) {\n\t\t\t\t\t\t\tif ((savedEl = savedEls[curToNodeId])) {\n\t\t\t\t\t\t\t\tmorphEl(savedEl, curToNodeChild, true);\n\t\t\t\t\t\t\t\tcurToNodeChild = savedEl;\n\t\t\t\t\t\t\t\t// We want to append the saved element instead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// The current DOM element in the target tree has an ID\n\t\t\t\t\t\t\t\t// but we did not find a match in any of the corresponding\n\t\t\t\t\t\t\t\t// siblings. We just put the target element in the old DOM tree\n\t\t\t\t\t\t\t\t// but if we later find an element in the old DOM tree that has\n\t\t\t\t\t\t\t\t// a matching ID then we will replace the target element\n\t\t\t\t\t\t\t\t// with the corresponding old element and morph the old element\n\t\t\t\t\t\t\t\tunmatchedEls[curToNodeId] = curToNodeChild;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If we got this far then we did not find a candidate match for our \"to node\"\n\t\t\t\t\t\t// and we exhausted all of the children \"from\" nodes. Therefore, we will just\n\t\t\t\t\t\t// append the current \"to node\" to the end\n\t\t\t\t\t\tfromEl.appendChild(curToNodeChild);\n\n\t\t\t\t\t\tcurToNodeChild = toNextSibling;\n\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\t// We have processed all of the \"to nodes\". If\n\t\t\t\t\t// curFromNodeChild is non-null then we still have some from\n\t\t\t\t\t// nodes left over that need to be removed\n\t\t\t\t\twhile (curFromNodeChild) {\n\t\t\t\t\t\tfromNextSibling = curFromNodeChild.nextSibling;\n\t\t\t\t\t\tremoveNode(curFromNodeChild, fromEl, alreadyVisited);\n\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar specialElHandler = specialElHandlers[fromEl.tagName];\n\n\t\t\t\tif (specialElHandler) {\n\t\t\t\t\tspecialElHandler(fromEl, toEl);\n\t\t\t\t}\n\t\t\t},\n\t\t\tmorphedNode = fromNode;\n\n\t\tif (replace) {\n\t\t\tvar el = fromNode.cloneNode();\n\n\t\t\t// Place fragment in container\n\t\t\tel.appendChild(toNode);\n\t\t\ttoNode = el;\n\t\t} else {\n\t\t\ttoNode = toNode.firstChild;\n\t\t}\n\n\t\tif (fromNode.tagName !== toNode.tagName) {\n\t\t\tmorphedNode = _moveChildren(fromNode, D.createElement(toNode.tagName));\n\t\t}\n\n\t\tif (morphedNode !== toNode) {\n\t\t\tmorphEl(morphedNode, toNode, false);\n\n\t\t\tfor (var savedElId in savedEls) {\n\t\t\t\tif (savedEls.hasOwnProperty(savedElId)) {\n\t\t\t\t\tvar savedEl = savedEls[savedElId];\n\t\t\t\t\twalkDiscardedChildNodes(savedEl);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (morphedNode !== fromNode && fromNode.parentNode) {\n\t\t\t// If we had to swap out the from node with a new node because the\n\t\t\t// old node was not compatible with the target node then we need to\n\t\t\t// replace the old DOM node in the original DOM tree. This is only\n\t\t\t// possible if the original DOM node was part of a DOM tree which\n\t\t\t// we know is the case if it has a parent node.\n\t\t\tfromNode.parentNode.replaceChild(morphedNode, fromNode);\n\t\t}\n\n\t\treturn morphedNode;\n\t};\n})(Wee, document);","(function(W, A) {\n\t'use strict';\n\n\t/**\n\t * Cast selection as Wee object\n\t *\n\t * @private\n\t * @param {($|HTMLElement|string)} sel\n\t * @param {($|HTMLElement|string)} [context=document]\n\t */\n\tvar Get = function(sel, context) {\n\t\t\tif (sel) {\n\t\t\t\tvar els = Array.isArray(sel) ?\n\t\t\t\t\t\tsel :\n\t\t\t\t\t\tW.$toArray(W.$(sel, context)),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < els.length; i++) {\n\t\t\t\t\tvar el = els[i];\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tA.call(this, el);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.sel = sel;\n\t\t\t}\n\t\t},\n\t\t$;\n\n\t/**\n\t * Create chainable Wee object from selection\n\t *\n\t * @param {(HTMLElement|string)} sel\n\t * @param {object} [context=document]\n\t */\n\t$ = W._win[W._$] = function(sel, context) {\n\t\treturn new Get(sel, context);\n\t};\n\n\t// Extend core with chain registration method\n\tW.fn.extend({\n\t\t/**\n\t\t * Register a new chainable method\n\t\t *\n\t\t * @param {(object|string)} a - method name or object\n\t\t * @param {function} b\n\t\t */\n\t\t$chain: function(a, b) {\n\t\t\tif (typeof a == 'string') {\n\t\t\t\t$.fn[a] = b;\n\t\t\t} else {\n\t\t\t\tfor (var key in a) {\n\t\t\t\t\t$.fn[key] = a[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Shortcut core methods from alias\n\tfor (var key in W) {\n\t\tvar val = W[key];\n\n\t\t$[key.replace(/^\\$/, '')] = typeof val == 'function' ?\n\t\t\tval.bind(W) :\n\t\t\tval;\n\t}\n\n\t// Bind core chainable methods\n\t$.fn = Get.prototype = {\n\t\t_$: true,\n\t\tlength: 0,\n\n\t\t/**\n\t\t * Execute function for each object element\n\t\t *\n\t\t * @param fn\n\t\t * @param {object} [options]\n\t\t * @param {Array} [options.args]\n\t\t * @param {context} [options.context=document]\n\t\t * @param {bool} [options.reverse=false]\n\t\t * @param {Array} [options.scope]\n\t\t */\n\t\teach: function(fn, options) {\n\t\t\tW.$each(this, fn, options);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Translate object elements to a new array\n\t\t *\n\t\t * @param {function} fn\n\t\t * @param {object} [options]\n\t\t * @param {Array} [options.args]\n\t\t * @param {object} [options.scope]\n\t\t * @returns {Array}\n\t\t */\n\t\tmap: function(fn, options) {\n\t\t\treturn W.$map(this, fn, options);\n\t\t},\n\n\t\t/**\n\t\t * Reverse the order of object elements\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\treverse: function() {\n\t\t\tvar copy = W.$extend(this),\n\t\t\t\tx = this.length,\n\t\t\t\ttotal = x,\n\t\t\t\ti = 0;\n\n\t\t\tfor (; i < total; i++) {\n\t\t\t\tx--;\n\t\t\t\tthis[i] = copy[x];\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Add ref elements to datastore\n\t\t */\n\t\tsetRef: function() {\n\t\t\tW.$setRef(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Add metadata variables to datastore\n\t\t */\n\t\tsetVar: function() {\n\t\t\tW.$setVar(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Convert selection to standard array\n\t\t */\n\t\ttoArray: function() {\n\t\t\treturn W._slice.call(this);\n\t\t}\n\t};\n\n\t// Map shorthand registration method\n\t$.fn.extend = W.$chain;\n})(Wee, [].push);","(function(W) {\n\t'use strict';\n\n\tW.$chain({\n\t\t/**\n\t\t * Transition an attribute or property value\n\t\t *\n\t\t * @param {object} values\n\t\t * @param {object} [options]\n\t\t * @param {(Array|function|string)} [options.complete]\n\t\t * @param {number} [options.duration=400]\n\t\t * @param {string} [options.ease='ease']\n\t\t * @returns {$} selection\n\t\t */\n\t\ttween: function(values, options) {\n\t\t\tW.animate.tween(this, values, options);\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee);","(function(W, U) {\n\t'use strict';\n\n\tvar $ = W._win[W._$];\n\n\tW.$chain({\n\t\t/**\n\t\t * Append additional selection to Wee object\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tadd: function(source) {\n\t\t\tvar orig = [],\n\t\t\t\ti = 0;\n\n\t\t\tfor (; i < this.length; i++) {\n\t\t\t\torig.push(this[i]);\n\t\t\t}\n\n\t\t\treturn $(W.$unique(orig.concat(W.$(source))));\n\t\t},\n\n\t\t/**\n\t\t * Add classes to each matching selection\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {$}\n\t\t */\n\t\taddClass: function(value) {\n\t\t\tW.$addClass(this, value);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t * @returns {$}\n\t\t */\n\t\tafter: function(source, remove) {\n\t\t\tW.$after(this, source, remove);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Append selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tappend: function(source) {\n\t\t\tW.$append(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Append selection or markup to each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} target\n\t\t * @returns {$}\n\t\t */\n\t\tappendTo: function(target) {\n\t\t\tW.$append(target, this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get attribute of first matching selection or set attribute\n\t\t * of each matching selection\n\t\t *\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {($|string)}\n\t\t */\n\t\tattr: function(a, b) {\n\t\t\tvar resp = W.$attr(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : resp;\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t * @returns {$}\n\t\t */\n\t\tbefore: function(source, remove) {\n\t\t\tW.$before(this, source, remove);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get unique direct children of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tchildren: function(filter) {\n\t\t\treturn $(W.$children(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Clone each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tclone: function() {\n\t\t\treturn $(W.$clone(this));\n\t\t},\n\n\t\t/**\n\t\t * Get unique closest ancestors of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @param context\n\t\t * @returns {$}\n\t\t */\n\t\tclosest: function(filter, context) {\n\t\t\treturn $(W.$closest(this, filter, context));\n\t\t},\n\n\t\t/**\n\t\t * Determine if any matching parent selection contains descendant selection\n\t\t *\n\t\t * @param descendant\n\t\t * @returns {boolean}\n\t\t */\n\t\tcontains: function(descendant) {\n\t\t\treturn W.$contains(this, descendant);\n\t\t},\n\n\t\t/**\n\t\t * Get unique content of each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tcontents: function() {\n\t\t\treturn $(W.$contents(this));\n\t\t},\n\n\t\t/**\n\t\t * Get CSS value of first matching selection or set value\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {(object|string)} a\n\t\t * @param {(function|string)} [b]\n\t\t * @returns {($|string)}\n\t\t */\n\t\tcss: function(a, b) {\n\t\t\tvar r = W.$css(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Get data of first matching selection or set data\n\t\t * of each matching selection\n\t\t *\n\t\t * @param a\n\t\t * @param [b]\n\t\t * @returns {($|string)}\n\t\t */\n\t\tdata: function(a, b) {\n\t\t\tvar resp = W.$data(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : resp;\n\t\t},\n\n\t\t/**\n\t\t * Remove child nodes from each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tempty: function() {\n\t\t\tW.$empty(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get indexed node of matching selection\n\t\t *\n\t\t * @param index\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {$}\n\t\t */\n\t\teq: function(index, context) {\n\t\t\treturn $(W.$eq(this, index, context));\n\t\t},\n\n\t\t/**\n\t\t * Return a filtered subset of elements from a matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {$}\n\t\t */\n\t\tfilter: function(filter, options) {\n\t\t\treturn $(W.$filter(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Get unique filtered descendants from each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tfind: function(filter) {\n\t\t\treturn $(W.$find(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get the first element of a matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tfirst: function() {\n\t\t\treturn this.eq(0);\n\t\t},\n\n\t\t/**\n\t\t * Return node from Wee object at specific index\n\t\t *\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\tget: function(index) {\n\t\t\treturn W.$eq(this, index);\n\t\t},\n\n\t\t/**\n\t\t * Determine if the matching selection has a class\n\t\t *\n\t\t * @param className\n\t\t * @returns {boolean}\n\t\t */\n\t\thasClass: function(className) {\n\t\t\treturn W.$hasClass(this, className);\n\t\t},\n\n\t\t/**\n\t\t * Get or set the height of each matching selection\n\t\t *\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {($|number)}\n\t\t */\n\t\theight: function(value) {\n\t\t\tvar r = W.$height(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Hide each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\thide: function() {\n\t\t\tW.$hide(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get inner HTML of first selection or set each matching selection's HTML\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {($|string)}\n\t\t */\n\t\thtml: function(value) {\n\t\t\tvar r = W.$html(this, value);\n\n\t\t\treturn value !== U ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Get the zero-based index of a matching selection relative\n\t\t * to it's siblings\n\t\t *\n\t\t * @returns {int}\n\t\t */\n\t\tindex: function() {\n\t\t\treturn W.$index(this);\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element after\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {$}\n\t\t */\n\t\tinsertAfter: function(target) {\n\t\t\tW.$insertAfter(this, target);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element before\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {$}\n\t\t */\n\t\tinsertBefore: function(target) {\n\t\t\tW.$insertBefore(this, target);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Determine if at least one matching selection matches\n\t\t * a specified criteria\n\t\t *\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {boolean}\n\t\t */\n\t\tis: function(filter, options) {\n\t\t\treturn W.$is(this, filter, options);\n\t\t},\n\n\t\t/**\n\t\t * Get the last element of a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {$}\n\t\t */\n\t\tlast: function(context) {\n\t\t\treturn $(W.$last(this, context));\n\t\t},\n\n\t\t/**\n\t\t * Get the unique next sibling of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {$}\n\t\t */\n\t\tnext: function(filter, options) {\n\t\t\treturn $(W.$next(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Returns elements not matching the filtered selection\n\t\t *\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {$}\n\t\t */\n\t\tnot: function(filter, options) {\n\t\t\treturn $(W.$not(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Get the offset position of a matching selection relative to the document\n\t\t *\n\t\t * @param {(function|number)} value\n\t\t * @returns {number}\n\t\t */\n\t\toffset: function(value) {\n\t\t\treturn W.$offset(this, value);\n\t\t},\n\n\t\t/**\n\t\t * Get unique parent from each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tparent: function(filter) {\n\t\t\treturn $(W.$parent(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get unique ancestors of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tparents: function(filter) {\n\t\t\treturn $(W.$parents(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get the position of the first matching selection relative\n\t\t * to its offset parent\n\t\t *\n\t\t * @returns {{top, left}}\n\t\t */\n\t\tposition: function() {\n\t\t\treturn W.$position(this);\n\t\t},\n\n\t\t/**\n\t\t * Prepend selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tprepend: function(source) {\n\t\t\tW.$prepend(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Prepend selection or markup to each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {$}\n\t\t */\n\t\tprependTo: function(target) {\n\t\t\tW.$prepend(target, this.reverse());\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get the unique previous sibling of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {$}\n\t\t */\n\t\tprev: function(filter, options) {\n\t\t\treturn $(W.$prev(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Get property of first matching selection or set property of\n\t\t * each matching selection\n\t\t *\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {($|string)}\n\t\t */\n\t\tprop: function(a, b) {\n\t\t\tvar r = W.$prop(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Remove each matching selection from the document\n\t\t *\n\t\t * @returns {$}\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t */\n\t\tremove: function(context) {\n\t\t\tW.$remove(this, context);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Remove specified attribute of each matching selection\n\t\t *\n\t\t * @param {string} name\n\t\t * @returns {$}\n\t\t */\n\t\tremoveAttr: function(name) {\n\t\t\tW.$removeAttr(this, name);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Remove classes from each matching selection\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {$}\n\t\t */\n\t\tremoveClass: function(value) {\n\t\t\tW.$removeClass(this, value);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Replace each matching selection with selection or markup\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\treplaceWith: function(source) {\n\t\t\tW.$replaceWith(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get or set the X scroll position of each matching selection\n\t\t *\n\t\t * @param value\n\t\t * @returns {($|number)}\n\t\t */\n\t\tscrollLeft: function(value) {\n\t\t\tvar r = W.$scrollLeft(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Get or set the Y scroll position of each matching selection\n\t\t *\n\t\t * @param value\n\t\t * @returns {($|number)}\n\t\t */\n\t\tscrollTop: function(value) {\n\t\t\tvar r = W.$scrollTop(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Serialize input values from first matching form selection\n\t\t *\n\t\t * @param {boolean} json\n\t\t * @returns {string}\n\t\t */\n\t\tserialize: function(json) {\n\t\t\treturn W.$serializeForm(this, json);\n\t\t},\n\n\t\t/**\n\t\t * Show each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tshow: function() {\n\t\t\tW.$show(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get unique siblings of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tsiblings: function(filter) {\n\t\t\treturn $(W.$siblings(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get subset of selection matches from specified range\n\t\t *\n\t\t * @param start\n\t\t * @param end\n\t\t * @returns {$}\n\t\t */\n\t\tslice: function(start, end) {\n\t\t\treturn $(W.$slice(this, start, end));\n\t\t},\n\n\t\t/**\n\t\t * Get inner text of first selection or set each matching selection's text\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {($|string)}\n\t\t */\n\t\ttext: function(value) {\n\t\t\tvar r = W.$text(this, value);\n\t\t\treturn value !== U ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Toggle the display of each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\ttoggle: function() {\n\t\t\tW.$toggle(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Toggle adding and removing class(es) from the specified element\n\t\t *\n\t\t * @param {(function|string)} className\n\t\t * @param {boolean} [state]\n\t\t * @returns {$}\n\t\t */\n\t\ttoggleClass: function(className, state) {\n\t\t\tW.$toggleClass(this, className, state);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get value of first matching selection or set values of\n\t\t * each matching selection\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {($|string)}\n\t\t */\n\t\tval: function(value) {\n\t\t\tvar r = W.$val(this, value);\n\n\t\t\treturn value !== U ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Get or set the width of each matching selection\n\t\t *\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {($|number)}\n\t\t */\n\t\twidth: function(value) {\n\t\t\tvar r = W.$width(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around each matching selection\n\t\t *\n\t\t * @param {(function|string)} html\n\t\t * @returns {$}\n\t\t */\n\t\twrap: function(html) {\n\t\t\tW.$wrap(this, html);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around the content of each matching selection\n\t\t *\n\t\t * @param {(function|string)} html\n\t\t * @returns {$}\n\t\t */\n\t\twrapInner: function(html) {\n\t\t\tW.$wrapInner(this, html);\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee, undefined);","(function(W, E) {\n\t'use strict';\n\n\tW.$chain({\n\t\t/**\n\t\t * Bind event(s) to selection\n\t\t *\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {(function|object)} [b] - event callback or options object\n\t\t * @param {(object|string)} [c] - event options\n\t\t * @param {Array} [c.args] - callback arguments\n\t\t * @param {(HTMLElement|string)} [c.context=document]\n\t\t * @param {(HTMLElement|string)} [c.delegate]\n\t\t * @param {boolean} [c.once=false] - remove event after first execution\n\t\t * @param {object} [c.scope]\n\t\t * @returns {$} selection\n\t\t */\n\t\ton: function(a, b, c) {\n\t\t\tE.on(this, a, b, c);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Remove event(s) from selection\n\t\t *\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {function} [b] - specific function to remove\n\t\t * @returns {$} selection\n\t\t */\n\t\toff: function(a, b) {\n\t\t\tE.off(this, a, b);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get currently bound events to optional specified element and event|function\n\t\t *\n\t\t * @param {string} [event] - event name to match\n\t\t * @param {function} [fn] - specific function to match\n\t\t * @returns {Array} matches\n\t\t */\n\t\tbound: function(event, fn) {\n\t\t\treturn E.bound(this, event, fn);\n\t\t},\n\n\t\t/**\n\t\t * Execute bound event for each matching selection\n\t\t *\n\t\t * @param {string} name\n\t\t * @returns {$} selection\n\t\t */\n\t\ttrigger: function(name) {\n\t\t\tE.trigger(this, name);\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee, Wee.events);","(function(W) {\n\t'use strict';\n\n\tW.$chain({\n\t\t/**\n\t\t * Parse data into DOM selection\n\t\t *\n\t\t * @param {object} data\n\t\t * @returns {$} selection\n\t\t */\n\t\trender: function(data) {\n\t\t\tW.$each(this, function(el) {\n\t\t\t\tW.$html(el, W.view.render(W.$text(el), data));\n\t\t\t});\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee);","Wee.view.addView({\"search\":\"{{ #hits|each }}<li class=\\\"search__results__entry\\\"><a href=\\\"{{ url }}\\\" class=\\\"search__results__link\\\"><h4 class=\\\"search__results__title\\\">{{ title }}</h4>{{ #description|notEmpty }}<p class=\\\"search__results__desc\\\">{{ description }}</p>{{ /description }}</a></li>{{ /hits }}\"});",";(function(window, undefined) {\n    \"use strict\";\n\n    function extend() {\n        for(var i=1; i < arguments.length; i++) {\n            for(var key in arguments[i]) {\n                if(arguments[i].hasOwnProperty(key)) {\n                    arguments[0][key] = arguments[i][key];\n                }\n            }\n        }\n        return arguments[0];\n    }\n\n    var pluginName = \"tinyscrollbar\"\n    ,   defaults = {\n            axis: 'y'\n        ,   wheel: true\n        ,   wheelSpeed: 40\n        ,   wheelLock: true\n        ,   touchLock: true\n        ,   trackSize: false\n        ,   thumbSize: false\n        ,   thumbSizeMin: 20\n        }\n    ;\n\n    function Plugin($container, options) {\n        /**\n         * The options of the carousel extend with the defaults.\n         *\n         * @property options\n         * @type Object\n         * @default defaults\n         */\n        this.options = extend({}, defaults, options);\n\n        /**\n         * @property _defaults\n         * @type Object\n         * @private\n         * @default defaults\n         */\n        this._defaults = defaults;\n\n        /**\n         * @property _name\n         * @type String\n         * @private\n         * @final\n         * @default 'tinyscrollbar'\n         */\n        this._name = pluginName;\n\n        var self = this\n        ,   $body = document.querySelectorAll(\"body\")[0]\n        ,   $viewport = $container.querySelectorAll(\".viewport\")[0]\n        ,   $overview = $container.querySelectorAll(\".overview\")[0]\n        ,   $scrollbar = $container.querySelectorAll(\".scrollbar\")[0]\n        ,   $track = $scrollbar.querySelectorAll(\".track\")[0]\n        ,   $thumb = $scrollbar.querySelectorAll(\".thumb\")[0]\n\n        ,   mousePosition = 0\n        ,   isHorizontal = this.options.axis === 'x'\n        ,   hasTouchEvents = (\"ontouchstart\" in document.documentElement)\n        ,   wheelEvent = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\n                             document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\n                             \"DOMMouseScroll\" // let's assume that remaining browsers are older Firefox\n\n        ,   sizeLabel = isHorizontal ? \"width\" : \"height\"\n        ,   posiLabel = isHorizontal ? \"left\" : \"top\"\n        ,   moveEvent = document.createEvent(\"HTMLEvents\")\n        ;\n\n        moveEvent.initEvent(\"move\", true, true);\n\n        /**\n         * The position of the content relative to the viewport.\n         *\n         * @property contentPosition\n         * @type Number\n         * @default 0\n         */\n        this.contentPosition = 0;\n\n        /**\n         * The height or width of the viewport.\n         *\n         * @property viewportSize\n         * @type Number\n         * @default 0\n         */\n        this.viewportSize = 0;\n\n        /**\n         * The height or width of the content.\n         *\n         * @property contentSize\n         * @type Number\n         * @default 0\n         */\n        this.contentSize = 0;\n\n        /**\n         * The ratio of the content size relative to the viewport size.\n         *\n         * @property contentRatio\n         * @type Number\n         * @default 0\n         */\n        this.contentRatio = 0;\n\n        /**\n         * The height or width of the content.\n         *\n         * @property trackSize\n         * @type Number\n         * @default 0\n         */\n        this.trackSize = 0;\n\n        /**\n         * The size of the track relative to the size of the content.\n         *\n         * @property trackRatio\n         * @type Number\n         * @default 0\n         */\n        this.trackRatio = 0;\n\n        /**\n         * The height or width of the thumb.\n         *\n         * @property thumbSize\n         * @type Number\n         * @default 0\n         */\n        this.thumbSize = 0;\n\n        /**\n         * The position of the thumb relative to the track.\n         *\n         * @property thumbPosition\n         * @type Number\n         * @default 0\n         */\n        this.thumbPosition = 0;\n\n        /**\n         * Will be true if there is content to scroll.\n         *\n         * @property hasContentToSroll\n         * @type Boolean\n         * @default false\n         */\n        this.hasContentToSroll = false;\n\n        /**\n         * @method _initialize\n         * @private\n         */\n        function _initialize() {\n            self.update();\n            _setEvents();\n\n            return self;\n        }\n\n        /**\n         * You can use the update method to adjust the scrollbar to new content or to move the scrollbar to a certain point.\n         *\n         * @method update\n         * @chainable\n         * @param {Number|String} [scrollTo] Number in pixels or the values \"relative\" or \"bottom\". If you dont specify a parameter it will default to top\n         */\n        this.update = function(scrollTo) {\n            var sizeLabelCap = sizeLabel.charAt(0).toUpperCase() + sizeLabel.slice(1).toLowerCase();\n            var scrcls = $scrollbar.className;\n\n            this.viewportSize = $viewport['offset'+ sizeLabelCap];\n            this.contentSize = $overview['scroll'+ sizeLabelCap];\n            this.contentRatio = this.viewportSize / this.contentSize;\n            this.trackSize = this.options.trackSize || this.viewportSize;\n            this.thumbSize = Math.min(this.trackSize, Math.max(this.options.thumbSizeMin, (this.options.thumbSize || (this.trackSize * this.contentRatio))));\n            this.trackRatio = (this.contentSize - this.viewportSize) / (this.trackSize - this.thumbSize);\n            this.hasContentToSroll = this.contentRatio < 1;\n\n            $scrollbar.className = this.hasContentToSroll ? scrcls.replace(/disable/g, \"\") : scrcls.replace(/ disable/g, \"\") + \" disable\";\n\n            switch (scrollTo) {\n                case \"bottom\":\n                    this.contentPosition = Math.max(this.contentSize - this.viewportSize, 0);\n                    break;\n\n                case \"relative\":\n                    this.contentPosition = Math.min(Math.max(this.contentSize - this.viewportSize, 0), Math.max(0, this.contentPosition));\n                    break;\n\n                default:\n                    this.contentPosition = parseInt(scrollTo, 10) || 0;\n            }\n\n            this.thumbPosition = self.contentPosition / self.trackRatio;\n\n            _setCss();\n\n            return self;\n        };\n\n        /**\n         * @method _setCss\n         * @private\n         */\n        function _setCss() {\n            $thumb.style[posiLabel] = self.thumbPosition + \"px\";\n            $overview.style[posiLabel] = -self.contentPosition + \"px\";\n            $scrollbar.style[sizeLabel] = self.trackSize + \"px\";\n            $track.style[sizeLabel] = self.trackSize + \"px\";\n            $thumb.style[sizeLabel] = self.thumbSize + \"px\";\n        }\n\n        /**\n         * @method _setEvents\n         * @private\n         */\n        function _setEvents() {\n            if(hasTouchEvents) {\n                $viewport.ontouchstart = function(event) {\n                    if(1 === event.touches.length) {\n                        _start(event.touches[0]);\n                        event.stopPropagation();\n                    }\n                };\n            }\n            else {\n                $thumb.onmousedown = function(event) {\n                    event.stopPropagation();\n                    _start(event);\n                };\n\n                $track.onmousedown = function(event) {\n                    _start(event, true);\n                };\n            }\n\n            window.addEventListener(\"resize\", function() {\n               self.update(\"relative\");\n            }, true);\n\n            if(self.options.wheel && window.addEventListener) {\n                $container.addEventListener(wheelEvent, _wheel, false );\n            }\n            else if(self.options.wheel) {\n                $container.onmousewheel = _wheel;\n            }\n        }\n\n        /**\n         * @method _isAtBegin\n         * @private\n         */\n        function _isAtBegin() {\n            return self.contentPosition > 0;\n        }\n\n        /**\n         * @method _isAtEnd\n         * @private\n         */\n        function _isAtEnd() {\n            return self.contentPosition <= (self.contentSize - self.viewportSize) - 5;\n        }\n\n        /**\n         * @method _start\n         * @private\n         */\n        function _start(event, gotoMouse) {\n            if(self.hasContentToSroll) {\n                var posiLabelCap = posiLabel.charAt(0).toUpperCase() + posiLabel.slice(1).toLowerCase();\n                mousePosition = gotoMouse ? $thumb.getBoundingClientRect()[posiLabel] : (isHorizontal ? event.clientX : event.clientY);\n\n                $body.className += \" noSelect\";\n\n                if(hasTouchEvents) {\n                    document.ontouchmove = function(event) {\n                        if(self.options.touchLock || _isAtBegin() && _isAtEnd()) {\n                            event.preventDefault();\n                        }\n                        _drag(event.touches[0]);\n                    };\n                    document.ontouchend = _end;\n                }\n                else {\n                    document.onmousemove = _drag;\n                    document.onmouseup = $thumb.onmouseup = _end;\n                }\n\n                _drag(event);\n            }\n        }\n\n        /**\n         * @method _wheel\n         * @private\n         */\n        function _wheel(event) {\n            if(self.hasContentToSroll) {\n                var evntObj = event || window.event\n                ,   wheelSpeedDelta = -(evntObj.deltaY || evntObj.detail || (-1 / 3 * evntObj.wheelDelta)) / 40\n                ,   multiply = (evntObj.deltaMode === 1) ? self.options.wheelSpeed : 1\n                ;\n\n                self.contentPosition -= wheelSpeedDelta * self.options.wheelSpeed;\n                self.contentPosition = Math.min((self.contentSize - self.viewportSize), Math.max(0, self.contentPosition));\n                self.thumbPosition = self.contentPosition / self.trackRatio;\n\n                $container.dispatchEvent(moveEvent);\n\n                $thumb.style[posiLabel] = self.thumbPosition + \"px\";\n                $overview.style[posiLabel] = -self.contentPosition + \"px\";\n\n                if(self.options.wheelLock || _isAtBegin() && _isAtEnd()) {\n                    evntObj.preventDefault();\n                }\n            }\n        }\n\n        /**\n         * @method _drag\n         * @private\n         */\n        function _drag(event) {\n            if(self.hasContentToSroll)\n            {\n                var mousePositionNew = isHorizontal ? event.clientX : event.clientY\n                ,   thumbPositionDelta = hasTouchEvents ? (mousePosition - mousePositionNew) : (mousePositionNew - mousePosition)\n                ,   thumbPositionNew = Math.min((self.trackSize - self.thumbSize), Math.max(0, self.thumbPosition + thumbPositionDelta))\n                ;\n\n                self.contentPosition = thumbPositionNew * self.trackRatio;\n\n                $container.dispatchEvent(moveEvent);\n\n                $thumb.style[posiLabel] = thumbPositionNew + \"px\";\n                $overview.style[posiLabel] = -self.contentPosition + \"px\";\n            }\n        }\n\n\n        /**\n         * @method _end\n         * @private\n         */\n        function _end() {\n            self.thumbPosition = parseInt($thumb.style[posiLabel], 10) || 0;\n\n            $body.className = $body.className.replace(\" noSelect\", \"\");\n            document.onmousemove = document.onmouseup = null;\n            $thumb.onmouseup = null;\n            $track.onmouseup = null;\n            document.ontouchmove = document.ontouchend = null;\n        }\n\n        return _initialize();\n    }\n\n    /**\n    * @class window.tinyscrollbar\n    * @constructor\n    * @param {Object} [$container] Element to attach scrollbar to.\n    * @param {Object} options\n        @param {String} [options.axis='y'] Vertical or horizontal scroller? ( x || y ).\n        @param {Boolean} [options.wheel=true] Enable or disable the mousewheel.\n        @param {Boolean} [options.wheelSpeed=40] How many pixels must the mouswheel scroll at a time.\n        @param {Boolean} [options.wheelLock=true] Lock default window wheel scrolling when there is no more content to scroll.\n        @param {Number} [options.touchLock=true] Lock default window touch scrolling when there is no more content to scroll.\n        @param {Boolean|Number} [options.trackSize=false] Set the size of the scrollbar to auto(false) or a fixed number.\n        @param {Boolean|Number} [options.thumbSize=false] Set the size of the thumb to auto(false) or a fixed number\n        @param {Boolean} [options.thumbSizeMin=20] Minimum thumb size.\n    */\n    var tinyscrollbar = function($container, options) {\n        return new Plugin($container, options);\n    };\n\n    if(typeof define == 'function' && define.amd) {\n        define(function(){ return tinyscrollbar; });\n    }\n    else if(typeof module === 'object' && module.exports) {\n        module.exports = tinyscrollbar;\n    }\n    else {\n        window.tinyscrollbar = tinyscrollbar;\n    }\n})(window);\n","Wee.fn.make('blog', {\n\tinit: function() {\n\t\t$._win.disqus_shortname = 'weepower'; // jscs:ignore\n\n\t\t$.assets.load({\n\t\t\tfiles: 'https://' + disqus_shortname + '.disqus.com/embed.js' // jscs:ignore\n\t\t});\n\t}\n});","/* global hljs */\n\nWee.fn.make('code', {\n\tinit: function() {\n\t\tvar priv = this.$private;\n\n\t\t// Highlight code blocks\n\t\t$('pre code').each(function(el) {\n\t\t\thljs.highlightBlock(el);\n\t\t});\n\n\t\t$('code').on('dblclick', function(e, el) {\n\t\t\tpriv.selectCode(el);\n\t\t});\n\t}\n}, {\n\t/**\n\t * Select all markup in a code block\n\t *\n\t * @private\n\t * @param {HTMLElement} el - target code wrapper\n\t */\n\tselectCode: function(el) {\n\t\tvar range = $._doc.createRange(),\n\t\t\tsel = $._win.getSelection();\n\n\t\trange.selectNodeContents(el);\n\n\t\tsel.removeAllRanges();\n\t\tsel.addRange(range);\n\t}\n});","Wee.fn.make('common', {\n\tinit: function() {\n\t\tvar scope = this,\n\t\t\t$body = $($._body),\n\t\t\t$header = $('ref:header'),\n\t\t\t$switch = $('ref:switch');\n\n\t\t// Mobile navigation\n\t\t$.screen.map([\n\t\t\t{\n\t\t\t\tmax: 3,\n\t\t\t\tcallback: function() {\n\t\t\t\t\tvar $nav = $('ref:headerNav');\n\n\t\t\t\t\t$nav.hide();\n\n\t\t\t\t\t$nav.appendTo($header);\n\t\t\t\t\t$switch.appendTo($nav);\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tmin: 4,\n\t\t\t\tinit: false,\n\t\t\t\tcallback: function() {\n\t\t\t\t\tvar $nav = $('ref:headerNav'),\n\t\t\t\t\t\t$pull = $('ref:pull');\n\n\t\t\t\t\t$nav.show();\n\n\t\t\t\t\t$nav.insertAfter($pull);\n\t\t\t\t\t$switch.appendTo($header);\n\t\t\t\t}\n\t\t\t}\n\t\t]);\n\n\t\t$('ref:pull').on('click', function() {\n\t\t\t$('ref:headerNav').toggle();\n\t\t});\n\n\t\t// Setup color scheme picker\n\t\tthis.$private.setScheme();\n\n\t\t$switch.on('click', function() {\n\t\t\t$body.addClass('-is-changing');\n\n\t\t\tscope.$private.setScheme(true);\n\n\t\t\tsetTimeout(function() {\n\t\t\t\t$body.removeClass('-is-changing');\n\t\t\t}, 500);\n\t\t});\n\n\t\t// Disable mouse event outlines\n\t\t$('a').on('mousedown', function() {\n\t\t\tvar $el = $(this);\n\n\t\t\tif ($el.css('outline-style') == 'none') {\n\t\t\t\tvar outlineClass = '-no-outline';\n\n\t\t\t\t$el.addClass(outlineClass).on('blur', function() {\n\t\t\t\t\t$el.removeClass(outlineClass);\n\t\t\t\t}, {\n\t\t\t\t\tonce: true\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tdelegate: $._body\n\t\t});\n\t}\n}, {\n\t/**\n\t * Default the color scheme to dark\n\t */\n\t_construct: function() {\n\t\tthis.dark = true;\n\t},\n\n\t/**\n\t * Toggle the color scheme between dark/light\n\t *\n\t * @private\n\t * @param toggle\n\t */\n\tsetScheme: function(toggle) {\n\t\tthis.dark = toggle ?\n\t\t\t! this.dark :\n\t\t\tthis.getCookie('dark') != 'false';\n\n\t\tvar d = new Date();\n\t\td.setTime(d.getTime() + 31536000);\n\n\t\tdocument.cookie = 'dark:' + this.dark + ';expires=' + d.toUTCString();\n\n\t\t$($._body).toggleClass('-dark', this.dark);\n\t},\n\n\t/**\n\t * Get a cookie from the user\n\t *\n\t * @private\n\t * @param name\n\t * @returns {*|string}\n\t */\n\tgetCookie: function(name) {\n\t\tvar values = document.cookie.split(';'),\n\t\t\ti = 0;\n\n\t\tfor (; i < values.length; i++) {\n\t\t\tvar value = values[i],\n\t\t\t\tsplit = value.split(':'),\n\t\t\t\tkey = split[0].trim();\n\n\t\t\tif (key == name) {\n\t\t\t\treturn split[1].trim();\n\t\t\t}\n\t\t}\n\t}\n});","/* global ga */\n\nWee.fn.make('docs', {\n\tinit: function() {\n\t\t$.screen.map([\n\t\t\t{\n\t\t\t\tmin: 3,\n\t\t\t\tonce: true,\n\t\t\t\tscope: this,\n\t\t\t\tcallback: function() {\n\t\t\t\t\tWee.sidebar.init();\n\t\t\t\t\tWee.sidebar.initScrolling();\n\t\t\t\t}\n\t\t\t}\n\t\t]);\n\n\t\t$.history.init({\n\t\t\tpartials: 'title, main, .sublinks',\n\t\t\tbind: true,\n\t\t\tbegin: function(conf) {\n\t\t\t\tif (conf.path === '/') {\n\t\t\t\t\t$._win.location = '/';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (/^\\/blog/.test(conf.path)) {\n\t\t\t\t\t$($._body).removeClass('docs')\n\t\t\t\t\t\t.addClass('blog');\n\n\t\t\t\t\t$('ref:subnav').remove();\n\t\t\t\t} else if (! $('ref:subnav').length) {\n\t\t\t\t\t$($._body).removeClass('blog')\n\t\t\t\t\t\t.addClass('docs');\n\n\t\t\t\t\t$('ref:topnav').after('<div class=\"sidebar subnav\" data-ref=\"sidebar subnav\"><div class=\"viewport\"><div class=\"overview\"><h3>Contents</h3><ul class=\"sublinks\"></ul></div></div>');\n\t\t\t\t}\n\t\t\t},\n\t\t\trequest: {\n\t\t\t\tsuccess: function() {\n\t\t\t\t\tga('send', 'pageview');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tvar $navLinks = $('a', 'ref:sidebar'),\n\t\t\tactiveClass = '-is-active';\n\n\t\t$navLinks.on('click', function() {\n\t\t\t$navLinks.removeClass(activeClass);\n\t\t\t$(this).addClass(activeClass);\n\t\t});\n\t}\n});","Wee.fn.make('link', {\n\tinit: function() {\n\t\tvar $link = $('.intro__link');\n\n\t\tif ($link.length) {\n\t\t\tWee.data.request({\n\t\t\t\turl: '/map.json',\n\t\t\t\tjson: true,\n\t\t\t\tsuccess: function(json) {\n\t\t\t\t\tvar href = $link.attr('href'),\n\t\t\t\t\t\tsplit = href.split('/'),\n\t\t\t\t\t\tsection = split.slice(-2, -1),\n\t\t\t\t\t\tfile = split.slice(-1);\n\n\t\t\t\t\tif (json[section] && json[section][file]) {\n\t\t\t\t\t\tvar data = json[section][file];\n\n\t\t\t\t\t\t$('.doc__anchor').each(function(el) {\n\t\t\t\t\t\t\tvar $el = $(el),\n\t\t\t\t\t\t\t\tid = $el.attr('id');\n\n\t\t\t\t\t\t\tif (data[id]) {\n\t\t\t\t\t\t\t\t$el.parent()\n\t\t\t\t\t\t\t\t\t.append('<a href=\"' + href + '#L' + data[id] + '\" class=\"doc__link\">' +\n\t\t\t\t\t\t\t\t\t\t'<span class=\"souce-link\">View on GitHub</span>' +\n\t\t\t\t\t\t\t\t\t\t'</a>');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});","Wee.fn.make('search', {\n\tinit: function() {\n\t\tvar scope = this,\n\t\t\t$search = $('ref:search'),\n\t\t\tsearchExpanded = false;\n\n\t\t$('ref:searchButton').on('click', function() {\n\t\t\t$search.toggleClass('-is-expanded', ! searchExpanded);\n\n\t\t\tif (! searchExpanded) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$('ref:searchInput')[0].focus();\n\t\t\t\t}, 10);\n\t\t\t}\n\n\t\t\tsearchExpanded = ! searchExpanded;\n\t\t});\n\n\t\t$('ref:searchInput').on({\n\t\t\tkeydown: function(e) {\n\t\t\t\tif (e.keyCode === 40 || e.keyCode === 38) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t},\n\t\t\tkeyup: function(e) {\n\t\t\t\tscope.$private.process(e.keyCode, this.value);\n\t\t\t\te.preventDefault();\n\t\t\t},\n\t\t\tblur: function() {\n\t\t\t\tscope.$prev = false;\n\t\t\t}\n\t\t});\n\n\t\t$($._body).on('click', function(e) {\n\t\t\tsetTimeout(function() {\n\t\t\t\tif (scope.$private.$active) {\n\t\t\t\t\tif (e.target !== $('ref:searchInput')[0]) {\n\t\t\t\t\t\tscope.collapse();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t});\n\t},\n\tcollapse: function() {\n\t\tthis.$private.$active = false;\n\t\tthis.$private.processing = false;\n\n\t\t$('ref:searchOutput').hide();\n\t}\n}, {\n\tprocess: function(key, value) {\n\t\tvar scope = this,\n\t\t\tactiveClass = '-is-active';\n\n\t\tif (scope.$active) {\n\t\t\tscope.$active.removeClass(activeClass);\n\t\t}\n\n\t\tif (key === 40 || key === 38) {\n\t\t\tif (scope.$active) {\n\t\t\t\tscope.$active = key === 40 ?\n\t\t\t\t\tscope.$active.next() :\n\t\t\t\t\tscope.$active.prev();\n\t\t\t} else {\n\t\t\t\tscope.$entries = $('ref:searchResults').children();\n\n\t\t\t\tif (scope.$entries.length) {\n\t\t\t\t\tscope.$active = key === 40 ?\n\t\t\t\t\t\tscope.$entries.first() :\n\t\t\t\t\t\tscope.$entries.last();\n\t\t\t\t} else {\n\t\t\t\t\tscope.$active = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (scope.$active.length) {\n\t\t\t\tscope.$active.addClass(activeClass);\n\t\t\t} else {\n\t\t\t\tscope.$active = false;\n\t\t\t}\n\t\t} else if (key === 13 && scope.$active) {\n\t\t\tlocation.href = scope.$active.find('a')[0].href;\n\t\t} else if (key === 27 || key === 9) {\n\t\t\tscope.$public.collapse();\n\t\t} else {\n\t\t\tvar val = value;\n\n\t\t\tif (val.length > 2) {\n\t\t\t\tif (! scope.processing) {\n\t\t\t\t\tscope.processing = true;\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tscope.query(val);\n\t\t\t\t\t}, 500);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$('ref:searchOutput').hide();\n\t\t\t\tscope.$public.collapse();\n\t\t\t}\n\t\t}\n\t},\n\tquery: function(val) {\n\t\tvar scope = this;\n\n\t\tWee.data.request({\n\t\t\turl: 'https://llxgy0e3h1-dsn.algolia.net/1/indexes/docs',\n\t\t\tdata: {\n\t\t\t\tquery: val,\n\t\t\t\thitsPerPage: 6,\n\t\t\t\t'x-algolia-api-key': 'f3b959d6c167a564eeef83ecebd62191',\n\t\t\t\t'x-algolia-application-id': 'LLXGY0E3H1'\n\t\t\t},\n\t\t\tjsonp: true,\n\t\t\tsuccess: function(data) {\n\t\t\t\tvar $output = $('ref:searchOutput');\n\n\t\t\t\tif (data.nbHits > 0) {\n\t\t\t\t\tvar content = $.view.render('search', data);\n\n\t\t\t\t\t$('ref:searchResults').html(content);\n\t\t\t\t\t$output.show();\n\t\t\t\t} else {\n\t\t\t\t\t$output.hide();\n\t\t\t\t}\n\n\t\t\t\tscope.processing = false;\n\t\t\t}\n\t\t});\n\t}\n});","/* global tinyscrollbar */\n\nWee.fn.make('sidebar', {\n\tinit: function() {\n\t\tvar isActive = '-is-active',\n\t\t\t$sidebarToggle = $('ref:sidebarToggle'),\n\t\t\t$headerNav = $('ref:headerNav'),\n\t\t\t$primary = $('ref:primary'),\n\t\t\t$footer = $('ref:footer'),\n\t\t\t$topNav = $('ref:topnav');\n\n\t\tthis.$subnavLinks = $('a', 'ref:subnav');\n\t\tthis.active = false;\n\n\t\tif (this.scroller) {\n\t\t\tthis.scroller.update();\n\t\t}\n\n\t\t$($._win).on({\n\t\t\tresize: this.setOffsets,\n\t\t\tscroll: this.setActive\n\t\t}, {\n\t\t\tinit: true,\n\t\t\tscope: this\n\t\t});\n\n\t\t$.screen.map([\n\t\t\t{\n\t\t\t\tmax: 2,\n\t\t\t\tonce: true,\n\t\t\t\tcallback: function() {\n\t\t\t\t\t$sidebarToggle.on('click', function() {\n\t\t\t\t\t\t$primary.toggleClass(isActive);\n\t\t\t\t\t\t$topNav.toggleClass(isActive);\n\t\t\t\t\t\t$sidebarToggle.toggleClass(isActive);\n\t\t\t\t\t\t$footer.toggleClass(isActive);\n\t\t\t\t\t\t$headerNav.hide();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tmin: 3,\n\t\t\t\tcallback: function() {\n\t\t\t\t\t$primary.removeClass(isActive);\n\t\t\t\t\t$topNav.removeClass(isActive);\n\t\t\t\t\t$footer.removeClass(isActive);\n\t\t\t\t\t$sidebarToggle.removeClass(isActive);\n\t\t\t\t}\n\t\t\t}\n\t\t]);\n\t},\n\n\t/**\n\t * Initialize scrollbar markup and instance\n\t */\n\tinitScrolling: function() {\n\t\tvar wrapper = '<div class=\"scrollbar\"><div class=\"track\"><div class=\"thumb\"></div></div></div>',\n\t\t\t$topnav = $('ref:topnav'),\n\t\t\t$subnav = $('ref:subnav');\n\n\t\tif ($topnav.length) {\n\t\t\t$topnav.append(wrapper);\n\t\t\ttinyscrollbar($topnav[0]);\n\t\t}\n\n\t\tif ($subnav.length) {\n\t\t\t$subnav.append(wrapper);\n\t\t\tthis.scroller = tinyscrollbar($subnav[0]);\n\t\t}\n\t},\n\n\t/**\n\t * Set proper offset on page load and anchor click\n\t */\n\tsetOffsets: function() {\n\t\tvar scope = this,\n\t\t\t$body = $($._body),\n\t\t\toffset = 98;\n\n\t\t// Position initial anchor\n\t\tif (location.hash) {\n\t\t\t$body.scrollTop($body.scrollTop() - offset);\n\t\t}\n\n\t\t// Bind subnav anchor position\n\t\tscope.offsets = [];\n\n\t\tscope.$subnavLinks.each(function(el) {\n\t\t\tvar $el = $(el),\n\t\t\t\t$targ = $($el.attr('href')),\n\t\t\t\ttop = $targ.offset().top,\n\t\t\t\tactiveClass = '-is-active';\n\n\t\t\t$el.add($targ).on('click', function(e, el) {\n\t\t\t\tlocation.hash = el.hash;\n\n\t\t\t\t$targ[0].blur();\n\t\t\t\t$body.scrollTop(top - offset);\n\n\t\t\t\tscope.$subnavLinks.removeClass(activeClass);\n\t\t\t\t$(el).addClass(activeClass);\n\n\t\t\t\te.preventDefault();\n\t\t\t});\n\n\t\t\tscope.offsets.push(top);\n\t\t});\n\t},\n\n\t/**\n\t * Handle active navigation selection\n\t */\n\tsetActive: function() {\n\t\tvar min = $($._win).scrollTop() + 98,\n\t\t\tactiveClass = '-is-active',\n\t\t\ti = 0;\n\n\t\tfor (; i < this.offsets.length; i++) {\n\t\t\tvar val = false;\n\n\t\t\tif (this.offsets[i + 1] > min) {\n\t\t\t\tval = i;\n\t\t\t} else if (min > this.offsets[this.offsets.length - 1]) {\n\t\t\t\tval = this.offsets.length - 1;\n\t\t\t}\n\n\t\t\tif (val !== false) {\n\t\t\t\tif (this.active !== val) {\n\t\t\t\t\tthis.$subnavLinks.removeClass(activeClass)\n\t\t\t\t\t\t.eq(val).addClass(activeClass);\n\n\t\t\t\t\tthis.active = val;\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n});","/* global CollapsibleLists */\n\nWee.fn.make('structure', {\n\tinit: function() {\n\t\t$.assets.load({\n\t\t\tfiles: '/assets/js/lib/vendor/CollapsibleLists.min.js',\n\t\t\tsuccess: function() {\n\t\t\t\tCollapsibleLists.applyTo($.first('.doc__collapsible ul'));\n\t\t\t\tWee.sidebar.setOffsets();\n\t\t\t}\n\t\t});\n\t}\n});","$.routes.map({\n\t'$any:once': 'common',\n\t'$seg': {\n\t\t'$any:once': [\n\t\t\t'docs',\n\t\t\t'search'\n\t\t],\n\t\t'$any': [\n\t\t\t'code',\n\t\t\t'sidebar',\n\t\t\t'link'\n\t\t]\n\t},\n\t'start': {\n\t\t'structure': 'structure'\n\t},\n\t'build': {\n\t\t'modules': 'structure'\n\t},\n\t'blog': {\n\t\t'$slug': 'blog'\n\t},\n\t'customize': 'customize'\n});\n\n$.ready('routes:run');"]}