<!doctype html><html lang="en" itemscope itemtype="http://schema.org/WebPage"><head><title>JavaScript Routing | Wee</title><meta name="description" content="Associate request endpoints to callbacks for independence between your markup and script using Wee's powerful JavaScript routing library."><meta name="robots" content="noindex, follow"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="/assets/css/style.min.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:100,300,400"><link rel="apple-touch-icon" href="/touchicon.png"><link rel="publisher" href="https://plus.google.com/+weecss"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@weecss"><meta property="og:site_name" content="Wee"><meta property="og:title" content="JavaScript Routing" itemprop="name"><meta property="og:description" content="Associate request endpoints to callbacks for independence between your markup and script using Wee's powerful JavaScript routing library." itemprop="description"><meta property="og:url" content="http:/www.weepower.dev/script/routes.html" itemprop="url"><meta property="og:image" content="/share.png" itemprop="image"><!--[if lt IE 9]><link rel="stylesheet" href="/assets/css/ie8.min.css">
<script src="/assets/js/ie8.min.js"></script><![endif]--><!--[if lte IE 9]><link rel="stylesheet" href="/assets/css/ie9.min.css">
<script src="/assets/js/ie9.min.js"></script><![endif]--></head><body class="subpage section"><div class="canvas-outer"><div class="canvas-inner"><header role="banner" class="scrollable sidebar" data-ref="scroll"><div class="viewport"><div class="overview js-overview"><a href="/" rel="home" class="logo"><img src="/assets/img/wee.svg" alt="Wee Framework"></a><h3><a href="/start">Start</a></h3><ul><li><a href="/start/structure">Structure</a></li><li><a href="/start/markup">Markup</a></li></ul><h3><a href="/build">Build</a></h3><ul><li><a href="/build/config">Config</a></li><li><a href="/build/validation">Validation</a></li></ul><h3><a href="/generator">Generate</a></h3><ul><li><a href="/generator/config">Config</a></li><li><a href="/generator/variables">Variables</a></li></ul><h3><a href="/style">Style</a></h3><ul><li><a href="/style/variables">Variables</a></li><li><a href="/style/mixins">Mixins</a></li><li><a href="/style/classes">Classes</a></li></ul><h3><a href="/script">Script</a></h3><ul><li><a href="/script/core">Core</a></li><li><a href="/script/chain">Chain</a></li><li><a href="/script/assets">Assets</a></li><li><a href="/script/data">Data</a></li><li><a href="/script/dom">DOM</a></li><li><a href="/script/events">Events</a></li><li><a href="/script/routes" class="is-active">Routes</a></li><li><a href="/script/screen">Screen</a></li><li><a href="/script/view">View</a></li><li><a href="/script/polyfills">Polyfills</a></li></ul></div></div></header><div class="scrollable subnav" data-ref="scroll subnav"><div class="viewport"><div class="overview js-overview"><h3>Contents</h3><ul><li><a href="#map">Map</a></li><li><a href="#path">Path</a></li><li><a href="#run">Run</a></li><li><a href="#segments">Segments</a></li><li><a href="#uri">URI</a></li></ul></div></div></div><div class="container primary" data-ref="primary"><div class="mobile-nav" data-ref="mobileNav">&#9776;</div><main role="main"><div class="intro"><h1 class="intro__title">Routes <a href="https://github.com/weepower/wee/tree/master/public/assets/wee/script/wee.routes.js" class="intro__link">→</a></h1><p class="intro__heading">Associate request endpoints to callbacks</p></div><p>Routes create independence between your markup and script. Additionally this creates opportunities to use new technologies like the <a href="http://diveintohtml5.info/history.html">HTML5 History API</a>. Wee routing serves as the blueprint for your project script.</p><div class="doc"><h2 class="doc__title">Map <a href="#map" id="map" class="doc__anchor">#</a></h2><p class="doc__heading">Retrieve or add route endpoints to route storage</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>routes</td><td>object</td><td>–</td><td>Mapping object</td><td></td></tr><tr><td>init</td><td>boolean</td><td>false</td><td>Immediately evaluate routes</td><td></td></tr></tbody></table></div><h3 class="doc__code__label">Set</h3><div class="doc__code"><p>Arguments can be nested as deep as necessary. Pass true as the second argument to immediately evaluate the specified routes from the first argument.</p><pre><code class="language-javascript">Wee.routes.map({
    '$any': 'common',
    'script': {
        'routes': function() {
            // Current page
        }
    }
});
</code></pre></div><div class="doc__note"><p>If using the <code>wee:fn</code> format to call an init method you can exclude <code>:init</code> as it is assumed if no function is provided.</p></div><h3 class="doc__doc__label">Get</h3><div class="doc__doc"><p>Retrieve all the routes currently in storage.</p></div><div class="doc__code doc__code--object doc__code--split"><pre><code class="language-javascript">Wee.routes.map();
</code></pre><pre><code class="language-javascript">{
    &quot;$any&quot;: &quot;common&quot;,
    &quot;script&quot;: {
        &quot;routes&quot;: function(){}
    }
}
</code></pre></div><h3 class="doc__code__label">Advanced</h3><div class="doc__code"><pre><code class="language-javascript">Wee.routes.map({
    '$root': function(val) {
        console.log('root ' + val);
    },
    '$any': function() {
        console.log('root any');
    },
    'category': {
        '$root||$/^P[\\d]+$/': function(val) {
            console.log(val + ' root');
        },
        '$any': function() {
            console.log('category any');
        },
        'mens': function() {
            console.log('mens!');
        },
        '$/^(?!P[\\d]+).*$/': {
            '$root': function(cat) {
                console.log(cat + ' listing');
            },
            '$num': function(id) {
                console.log('product ID is ' + id);
            }
        }
    }
});

Wee.ready(function() {
    Wee.routes.run({
        path: 'category/name/123'
    });
});
</code></pre></div></div><div class="doc"><h2 class="doc__title">Path <a href="#path" id="path" class="doc__anchor">#</a></h2><p class="doc__heading">Get the currently bound path or set the path with specified value</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>value</td><td>string</td><td>–</td><td>Relative path from root domain</td><td></td></tr><tr><td>options</td><td>object</td><td>–</td><td>Callback parameters</td><td></td></tr></tbody></table></div><h3 class="doc__doc__label">Get</h3><div class="doc__doc"><p>By default the path will be that of the current request.</p></div><div class="doc__code doc__code--string doc__code--split"><pre><code class="language-javascript">Wee.routes.path();
</code></pre><pre><code class="language-javascript">&quot;/script/routes&quot;
</code></pre></div><h3 class="doc__code__label">Set</h3><div class="doc__code"><p>Manually override the current path. Useful for dynamic navigation.</p><pre><code class="language-javascript">Wee.routes.path('/specific/url');
</code></pre></div></div><div class="doc"><h2 class="doc__title">Run <a href="#run" id="run" class="doc__anchor">#</a></h2><p class="doc__heading">Process stored route options with optional config</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>options</td><td>object</td><td>–</td><td>Object parameters below</td><td></td></tr></tbody></table></div><h3 class="doc__variables__label">Options Object</h3><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>path</td><td>string</td><td>–</td><td>Relative path from root domain</td><td></td></tr><tr><td>routes</td><td>object</td><td>–</td><td>Mapping object</td><td></td></tr></tbody></table></div><div class="doc__code"><p>Without arguments, the currently bound path and routes will be evaluated.</p><pre><code class="language-javascript">Wee.routes.run();
</code></pre></div><h3 class="doc__code__label">Advanced</h3><div class="doc__code"><p>If an object is provided, only the passed routes will be evaluated.</p><pre><code class="language-javascript">Wee.routes.run({
    routes: {
        '$any': 'common:init',
        'script': {
            'routes': function() {
                // Current page
            }
        }
    },
    path: '/script/routes'
});
</code></pre></div></div><div class="doc"><h2 class="doc__title">Segments <a href="#segments" id="segments" class="doc__anchor">#</a></h2><p class="doc__heading">Get all segments or single segment at index</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>index</td><td>integer</td><td>–</td><td>Zero-based segment index</td><td></td></tr></tbody></table></div><h3 class="doc__doc__label">Get all</h3><div class="doc__doc"><p>Retrieve segment array from the currently bound path.</p></div><div class="doc__code doc__code--array doc__code--split"><pre><code class="language-javascript">Wee.routes.segments();
</code></pre><pre><code class="language-javascript">[&quot;script&quot;, &quot;routes&quot;]
</code></pre></div><h3 class="doc__doc__label">Get single</h3><div class="doc__doc"><p>Get single segment by defining zero-based index.</p></div><div class="doc__code doc__code--string doc__code--split"><pre><code class="language-javascript">Wee.routes.segments(1);
</code></pre><pre><code class="language-javascript">&quot;routes&quot;
</code></pre></div></div><div class="doc"><h2 class="doc__title">URI <a href="#uri" id="uri" class="doc__anchor">#</a></h2><p class="doc__heading">Get currently bound URI values or set URI data with a specified string or value object</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>value</td><td>string, object</td><td>–</td><td>Object parameters below</td><td></td></tr></tbody></table></div><h3 class="doc__variables__label">Value Object</h3><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>hash</td><td>string</td><td>–</td><td>Hash value</td><td></td></tr><tr><td>path</td><td>string</td><td>–</td><td>Relative path</td><td></td></tr><tr><td>query</td><td>object</td><td>–</td><td>Query string object</td><td></td></tr></tbody></table></div><h3 class="doc__doc__label">Get</h3><div class="doc__doc"><p>Based on <code>https://www.weepower.com/script/routes?success=yes#uri</code> the following object would be returned.</p></div><div class="doc__code doc__code--object doc__code--split"><pre><code class="language-javascript">Wee.routes.uri();
</code></pre><pre><code class="language-javascript">{
    hash: &quot;uri&quot;,
    path: &quot;/script/routes&quot;,
    query: {
        success: &quot;yes&quot;
    }
}
</code></pre></div><h3 class="doc__code__label">Set String</h3><div class="doc__code"><p>The set method accepts either an absolute URL, a relative path, or just a #hash.</p><pre><code class="language-javascript">Wee.routes.uri('/another/page');
</code></pre></div><h3 class="doc__code__label">Set Object</h3><div class="doc__code"><p>Only the properties you wish to update should be provided. They will be merged into the current values.</p><pre><code class="language-javascript">Wee.routes.uri({
    hash: 'uri',
    path: '/script/routes',
    query: {
        success: 'yes'
    }
});
</code></pre></div><div class="doc__note"><p><strong>Note:</strong> Setting the URI only updates the internal reference. It doesn’t navigate the page.</p></div></div></main><footer role="contentinfo" class="footer"><small class="footer__license"><a href="/">Wee Powered</a> &ndash; licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2</a></small><ul class="footer__links"><li><a href="https://github.com/weepower/wee">GitHub</a></li><li><a href="https://github.com/weepower/wee/issues">Issues</a></li><li><a href="https://github.com/weepower/wee/releases">Releases</a></li><li><a href="https://twitter.com/weecss">Twitter</a></li><li><a href="/blog">Blog</a></li></ul></footer></div></div></div><script src="/assets/js/script.min.js"></script></body></html>