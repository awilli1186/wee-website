<!doctype html><html lang="en" itemscope itemtype="http://schema.org/WebPage"><head><title>JavaScript Routing | Wee</title><meta name="description" content="Associate request endpoints to callbacks for independence between your markup and script using Wee's powerful JavaScript routing library."><meta name="robots" content="noindex, follow"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="/assets/css/style.min.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,400"><link rel="apple-touch-icon" href="/touchicon.png"><link rel="publisher" href="https://plus.google.com/+weecss"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@weecss"><meta property="og:site_name" content="Wee"><meta property="og:title" content="JavaScript Routing" itemprop="name"><meta property="og:description" content="Associate request endpoints to callbacks for independence between your markup and script using Wee's powerful JavaScript routing library." itemprop="description"><meta property="og:url" content="https://www.weepower.com" itemprop="url"><meta property="og:image" content="/share.png" itemprop="image"><!--[if lt IE 9]><link rel="stylesheet" href="/assets/css/ie8.min.css">
<script src="/assets/js/ie8.min.js"></script><![endif]--><!--[if lte IE 9]><script src="/assets/js/ie9.min.js"></script><![endif]--></head><body class="page"><div class="canvas-outer"><div class="canvas-inner"><header role="banner" class="scrollable sidebar" data-ref="scroll"><div class="viewport"><div class="overview js-overview"><a href="/" rel="home" class="logo"><img src="/assets/img/wee.svg" alt="Wee Framework"></a><h3><a href="/start/">Get Started</a></h3><ul><li><a href="/start/structure">Structure</a></li><li><a href="/start/compiling">Compiling</a></li><li><a href="/start/markup">Markup</a></li></ul><h3><a href="/build/">Build</a></h3><ul><li><a href="/build/config">Config</a></li><li><a href="/build/validation">Validation</a></li></ul><h3><a href="/generator/">Generator</a></h3><ul><li><a href="/generator/config">Config</a></li><li><a href="/generator/variables">Variables</a></li></ul><h3><a href="/style/">Style</a></h3><ul><li><a href="/style/variables">Variables</a></li><li><a href="/style/mixins">Mixins</a></li><li><a href="/style/classes">Classes</a></li></ul><h3><a href="/script/" class="active">Script</a></h3><ul><li><a href="/script/core">Core</a></li><li><a href="/script/chain">Chain</a></li><li><a href="/script/assets">Assets</a></li><li><a href="/script/data">Data</a></li><li><a href="/script/dom">DOM</a></li><li><a href="/script/events">Events</a></li><li><a href="/script/routes" class="active">Routes</a></li><li><a href="/script/screen">Screen</a></li><li><a href="/script/view">View</a></li><li><a href="/script/polyfills">Polyfills</a></li></ul></div></div><div class="scrollbar"><div class="track"><div class="thumb"></div></div></div></header><div class="scrollable subnav" data-ref="scroll subnav"><div class="viewport"><div class="overview js-overview"><h3>Contents</h3><ul><li><a href="#map">Map</a></li><li><a href="#path">Path</a></li><li><a href="#run">Run</a></li><li><a href="#segments">Segments</a></li></ul></div></div><div class="scrollbar"><div class="track"><div class="thumb"></div></div></div></div><div class="container primary" data-ref="primary"><div class="mobile-nav" data-ref="mobileNav">&#9776;</div><main role="main"><ol itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="breadcrumb"><li><a href="/" rel="home" itemprop="url"><span itemprop="title">Home</span></a></li><li><a href="" rel="prev">Script</a></li><li>Routes</li></ol><div class="intro"><h1 class="intro__title">Routes <a href="/public/assets/wee/script/wee.routes.js">→</a></h1><p class="intro__heading">Associate request endpoints to callbacks</p></div><p>By using routes you can maintain independence between your markup and script. Additionally this creates opportunities to use new technologies like the <a href="http://diveintohtml5.info/history.html">HTML5 History API</a>. Wee routing serves as the blueprint for your entire project.</p><div class="doc"><h2 class="doc__title">Map <a href="#map" class="doc__anchor" id="map">#</a></h2><p class="doc__heading">Retrieve or add route endpoints to route storage</p><div class="variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>routes</td><td>object</td><td>&ndash;</td><td>Object of {key: value} route mapping pairs</td><td></td></tr><tr><td>init</td><td>boolean</td><td>false</td><td>Immediately evaluate routes</td><td></td></tr></tbody></table></div><div class="variables options"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody></tbody></table></div><h3>Set</h3><div class="doc"><p>Arguments can be nested as deep as necessary. Pass true as the second argument to immediately evaluate the specified routes from the first argument. If using the ‘wee:fn’ format you can exclude ‘:init’ as it is assumed if no function is provided.</p><pre><code class="language-javascript">Wee.routes.map({
    '$any': 'common:init',
    'script': {
        'routing': function() {
            // Current page
        }
    }
});
</code></pre></div><h3>Get</h3><div class="doc"><p>Retrieve all the routes currently in storage.</p></div><div class="code"><pre><code class="language-javascript">Wee.routes.map();
</code></pre><pre><code class="language-javascript">{
    '$any': 'common:init',
    'script': {
        'routing': function(){}
    }
}
</code></pre></div><h3>Advanced</h3><div class="doc"><pre><code class="language-javascript">Wee.routes.map({
    '$root': function(val) {
        console.log('root ' + val);
    },
    '$any': function() {
        console.log('root any');
    },
    'category': {
        '$root||$/^P[\\d]+$/': function(val) {
            console.log(val + ' root');
        },
        '$any': function() {
            console.log('category any');
        },
        'mens': function() {
            console.log('mens!');
        },
        '$/^(?!P[\\d]+).*$/': {
            '$root': function(cat) {
                console.log(cat + ' listing');
            },
            '$num': function(id) {
                console.log('product ID is ' + id);
            }
        }
    }
});

Wee.ready(function() {
    Wee.routes.run('category/name/123');
});
</code></pre></div></div><div class="doc"><h2 class="doc__title">Path <a href="#path" class="doc__anchor" id="path">#</a></h2><p class="doc__heading">Get the currently bound path or set the path with specified value</p><div class="variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>val</td><td>string</td><td>&ndash;</td><td>Relative path from root domain</td><td></td></tr><tr><td>opt</td><td>object</td><td>&ndash;</td><td>Callback parameters</td><td></td></tr></tbody></table></div><div class="variables options"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody></tbody></table></div><h3>Get</h3><div class="doc"><p>By default the path will be that of the current request.</p></div><div class="code"><pre><code class="language-javascript">Wee.routes.path();
</code></pre><pre><code class="language-javascript">/script/routes
</code></pre></div><h3>Set</h3><div class="doc"><p>Manually override the current path. Useful for dynamic navigation.</p><pre><code class="language-javascript">Wee.routes.path('/specific/url');
</code></pre></div></div><div class="doc"><h2 class="doc__title">Run <a href="#run" class="doc__anchor" id="run">#</a></h2><p class="doc__heading">Process stored route options with optional config</p><div class="variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>opt</td><td>object</td><td>&ndash;</td><td>Object parameters below</td><td></td></tr></tbody></table></div><div class="variables options"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>routes</td><td>object</td><td>&ndash;</td><td>Object of {key: value} route mapping pairs</td><td></td></tr><tr><td>path</td><td>string</td><td>&ndash;</td><td>Relative path from root domain</td><td></td></tr></tbody></table></div><div class="doc"><p>Without arguments, the currently bound path and routes will be evaluated.</p><pre><code class="language-javascript">Wee.routes.run();
</code></pre></div><h3>Advanced</h3><div class="doc"><p>If the object is provided in the first argument, run() will evaluate only the routes given at the provided path.</p><pre><code class="language-javascript">Wee.routes.run({
    routes: {
        '$any': 'common:init',
        'script': {
            'routes': function() {
                // Current page
            }
        }
    },
    path: '/script/routes'
});
</code></pre></div></div><div class="doc"><h2 class="doc__title">Segments <a href="#segments" class="doc__anchor" id="segments">#</a></h2><p class="doc__heading">Get all segments or single segment at index</p><div class="variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>i</td><td>integer</td><td>&ndash;</td><td>Zero-based segment index</td><td></td></tr></tbody></table></div><div class="variables options"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody></tbody></table></div><h3>Get all</h3><div class="doc"><p>Retrieve segment array from the currently bound path.</p></div><div class="code"><pre><code class="language-javascript">Wee.routes.segments();
</code></pre><pre><code class="language-javascript">[&quot;script&quot;, &quot;routes&quot;]
</code></pre></div><h3>Get single</h3><div class="doc"><p>Get single segment by defining zero-based index.</p></div><div class="code"><pre><code class="language-javascript">Wee.routes.segments(1);
</code></pre><pre><code class="language-javascript">routing
</code></pre></div></div></main><footer role="contentinfo" class="footer"><small class="footer__license"><a href="/">Wee Powered</a> &ndash; licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2</a></small><ul class="footer__links"><li><a href="https://github.com/weepower/wee">GitHub</a></li><li><a href="https://github.com/weepower/wee/issues">Issues</a></li><li><a href="https://github.com/weepower/wee/releases">Releases</a></li><li><a href="https://twitter.com/weecss">Twitter</a></li></ul></footer></div></div></div><script src="/assets/js/script.min.js"></script></body></html>