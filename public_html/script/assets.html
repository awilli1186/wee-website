<!doctype html><html lang="en" itemscope itemtype="http://schema.org/WebPage"><head><title>Asset Loading | Wee</title><meta name="description" content="Load what you need on demand to optimize page speed and preserve bandwidth with Wee's asset loader."><meta name="robots" content="noindex, follow"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="/assets/css/style.min.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,400"><link rel="apple-touch-icon" href="/touchicon.png"><link rel="publisher" href="https://plus.google.com/+weecss"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@weecss"><meta property="og:site_name" content="Wee"><meta property="og:title" content="Asset Loading" itemprop="name"><meta property="og:description" content="Load what you need on demand to optimize page speed and preserve bandwidth with Wee's asset loader." itemprop="description"><meta property="og:url" content="http:/www.weepower.dev/script/assets.html" itemprop="url"><meta property="og:image" content="/share.png" itemprop="image"><!--[if lt IE 9]><link rel="stylesheet" href="/assets/css/ie8.min.css">
<script src="/assets/js/ie8.min.js"></script><![endif]--><!--[if lte IE 9]><link rel="stylesheet" href="/assets/css/ie9.min.css">
<script src="/assets/js/ie9.min.js"></script><![endif]--></head><body class="subpage section"><div class="canvas-outer"><div class="canvas-inner"><header role="banner" class="scrollable sidebar" data-ref="scroll"><div class="viewport"><div class="overview js-overview"><a href="/" rel="home" class="logo"><img src="/assets/img/wee.svg" alt="Wee Framework"></a><h3><a href="/start">Start</a></h3><ul><li><a href="/start/structure">Structure</a></li><li><a href="/start/markup">Markup</a></li></ul><h3><a href="/build">Build</a></h3><ul><li><a href="/build/config">Config</a></li><li><a href="/build/validation">Validation</a></li></ul><h3><a href="/generator">Generate</a></h3><ul><li><a href="/generator/config">Config</a></li><li><a href="/generator/variables">Variables</a></li></ul><h3><a href="/style">Style</a></h3><ul><li><a href="/style/variables">Variables</a></li><li><a href="/style/mixins">Mixins</a></li><li><a href="/style/classes">Classes</a></li></ul><h3><a href="/script">Script</a></h3><ul><li><a href="/script/core">Core</a></li><li><a href="/script/chain">Chain</a></li><li><a href="/script/assets" class="is-active">Assets</a></li><li><a href="/script/data">Data</a></li><li><a href="/script/dom">DOM</a></li><li><a href="/script/events">Events</a></li><li><a href="/script/routes">Routes</a></li><li><a href="/script/screen">Screen</a></li><li><a href="/script/view">View</a></li><li><a href="/script/polyfills">Polyfills</a></li></ul></div></div></header><div class="scrollable subnav" data-ref="scroll subnav"><div class="viewport"><div class="overview js-overview"><h3>Contents</h3><ul><li><a href="#load">Load</a></li><li><a href="#ready">Ready</a></li><li><a href="#remove">Remove</a></li><li><a href="#root">Root</a></li></ul></div></div></div><div class="container primary" data-ref="primary"><div class="mobile-nav" data-ref="mobileNav">&#9776;</div><main role="main"><ol itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="breadcrumb"><li><a href="/" rel="home" itemprop="url"><span itemprop="title">Home</span></a></li><li><a href="/script" rel="prev">Script</a></li><li>Assets</li></ol><div class="intro"><h1 class="intro__title">Assets <a href="/public/assets/wee/script/wee.assets.js">→</a></h1><p class="intro__heading">Dynamic loading for JavaScript, CSS, and images</p></div><p>Don’t embed assets on requests where they aren’t needed, or needed immediately. Load what you need on demand to optimize page speed and preserve bandwidth. You can asynchronously (or synchronously) load scripts as well as CSS and images. Work with groups and callbacks to solve complex problems.</p><div class="doc"><h2 class="doc__title">Load <a href="#load" class="doc__anchor" id="load">#</a></h2><p class="doc__heading">Load specified assets with specified set of options</p><div class="table"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>conf</td><td>object</td><td>–</td><td>Object parameters below</td><td>✓</td></tr></tbody></table></div><div class="table"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>files</td><td>string, array</td><td>–</td><td>Single file path or array of file paths</td><td>✓</td></tr><tr><td>group</td><td>string</td><td>–</td><td>Optional reference for use with the <a href="#ready">ready()</a> function</td><td></td></tr><tr><td>root</td><td>string</td><td>current root</td><td>Request root path or domain</td><td></td></tr><tr><td>async</td><td>boolean</td><td>true</td><td>Load asset asynchronously, only applicable to scripts</td><td></td></tr><tr><td>success</td><td>callback</td><td>–</td><td>Success callback</td><td></td></tr><tr><td>failure</td><td>callback</td><td>–</td><td>Failure callback</td><td></td></tr></tbody></table></div><h3>Single File</h3><div class="doc"><pre><code class="language-javascript">Wee.assets.load({
    files: '/assets/js/lib/dynamic.js',
    success: function() {
        // Success logic
    }
});
</code></pre></div><h3>File Array</h3><div class="doc"><pre><code class="language-javascript">Wee.assets.load({
    root: 'https://cdn.domain.com/assets',
    files: [
        '/js/lib/dynamic.min.js',
        '/css/lib/dynamic.css',
        '/img/dynamic.img'
    ],
    success: function() {
        // Success logic
    },
    failure: function() {
        // Failure logic
    }
});
</code></pre></div><h3>Group</h3><div class="doc"><p>By providing a group name you can optionally check against the group later for completion.</p><pre><code class="language-javascript">Wee.assets.load({
    files: '/assets/js/dynamic.js',
    group: 'dynamicAssets'
});
</code></pre></div></div><div class="doc"><h2 class="doc__title">Ready <a href="#ready" class="doc__anchor" id="ready">#</a></h2><p class="doc__heading">When specified references are ready execute callback</p><div class="table"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>group</td><td>string</td><td>–</td><td>Group reference name</td><td>✓</td></tr><tr><td>opt</td><td>object</td><td>–</td><td>Override any values set on the load function</td><td></td></tr><tr><td>poll</td><td>boolean</td><td>false</td><td>Poll the queue every 20 milliseconds for completion</td><td></td></tr></tbody></table></div><div class="doc"><pre><code class="language-javascript">Wee.assets.ready('dynamicAssets', {
    success: function() {
        // Success logic
    }
});
</code></pre></div></div><div class="doc"><h2 class="doc__title">Remove <a href="#remove" class="doc__anchor" id="remove">#</a></h2><p class="doc__heading">Remove one or more files from the DOM</p><div class="table"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>files</td><td>string, array</td><td>–</td><td>Single file path or array of file paths</td><td>✓</td></tr></tbody></table></div><div class="doc"><pre><code class="language-javascript">Wee.assets.remove('/assets/js/file.js');
</code></pre></div></div><div class="doc"><h2 class="doc__title">Root <a href="#root" class="doc__anchor" id="root">#</a></h2><p class="doc__heading">Get currently bound resource root or set root with specified value</p><div class="table"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>val</td><td>string</td><td>–</td><td>Root request path</td><td></td></tr></tbody></table></div><div class="tableNotes"><p>You can override the root on individual requests. For instance, you may want to load all your static assets from a CDN but need to pull JSON or other files from the local server.</p></div><h3>Set</h3><div class="doc"><p>The value set here is prepended to every request unless it is overridden when loading.</p><pre><code class="language-javascript">Wee.assets.root('https://cdn.domain.com');
</code></pre></div><h3>Get</h3><div class="doc"><p>Retrieve the current root which defaults to an empty string, unless otherwise set.</p></div><div class="code"><pre><code class="language-javascript">Wee.assets.root();
</code></pre><pre><code class="language-html">https://cdn.domain.com
</code></pre></div><h3>Advanced</h3><div class="doc"><p>Only set the asset root to a CDN in the production <a href="https://www.weepower.com/script/core#env">environment</a>.</p><pre><code class="language-javascript">if (Wee.$env() == 'prod') {
    Wee.assets.root('https://cdn.domain.com');
}
</code></pre></div></div></main><footer role="contentinfo" class="footer"><small class="footer__license"><a href="/">Wee Powered</a> &ndash; licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2</a></small><ul class="footer__links"><li><a href="https://github.com/weepower/wee">GitHub</a></li><li><a href="https://github.com/weepower/wee/issues">Issues</a></li><li><a href="https://github.com/weepower/wee/releases">Releases</a></li><li><a href="https://twitter.com/weecss">Twitter</a></li><li><a href="/blog">Blog</a></li></ul></footer></div></div></div><script src="/assets/js/script.min.js"></script></body></html>