<!doctype html><html lang="en" itemscope itemtype="http://schema.org/WebPage"><head><title>Core Script | Wee</title><meta name="description" content="Wee includes a foundation of utilities, helpers, and module structure."><meta name="robots" content="noindex, follow"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="/assets/css/style.min.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:100,300,400"><link rel="apple-touch-icon" href="/touchicon.png"><link rel="publisher" href="https://plus.google.com/+weecss"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@weecss"><meta property="og:site_name" content="Wee"><meta property="og:title" content="Core Script" itemprop="name"><meta property="og:description" content="Wee includes a foundation of utilities, helpers, and module structure." itemprop="description"><meta property="og:url" content="http:/www.weepower.dev/script/core.html" itemprop="url"><meta property="og:image" content="/share.png" itemprop="image"><!--[if lt IE 9]><link rel="stylesheet" href="/assets/css/ie8.min.css">
<script src="/assets/js/ie8.min.js"></script><![endif]--><!--[if lte IE 9]><link rel="stylesheet" href="/assets/css/ie9.min.css">
<script src="/assets/js/ie9.min.js"></script><![endif]--></head><body class="subpage section"><div class="canvas-outer"><div class="canvas-inner"><header role="banner" class="scrollable sidebar" data-ref="scroll"><div class="viewport"><div class="overview js-overview"><a href="/" rel="home" class="logo"><img src="/assets/img/wee.svg" alt="Wee Framework"></a><h3><a href="/start">Start</a></h3><ul><li><a href="/start/structure">Structure</a></li><li><a href="/start/markup">Markup</a></li></ul><h3><a href="/build">Build</a></h3><ul><li><a href="/build/config">Config</a></li><li><a href="/build/validation">Validation</a></li></ul><h3><a href="/generator">Generate</a></h3><ul><li><a href="/generator/config">Config</a></li><li><a href="/generator/variables">Variables</a></li></ul><h3><a href="/style">Style</a></h3><ul><li><a href="/style/variables">Variables</a></li><li><a href="/style/mixins">Mixins</a></li><li><a href="/style/classes">Classes</a></li></ul><h3><a href="/script">Script</a></h3><ul><li><a href="/script/core" class="is-active">Core</a></li><li><a href="/script/chain">Chain</a></li><li><a href="/script/assets">Assets</a></li><li><a href="/script/data">Data</a></li><li><a href="/script/dom">DOM</a></li><li><a href="/script/events">Events</a></li><li><a href="/script/routes">Routes</a></li><li><a href="/script/screen">Screen</a></li><li><a href="/script/view">View</a></li><li><a href="/script/polyfills">Polyfills</a></li></ul></div></div></header><div class="scrollable subnav" data-ref="scroll subnav"><div class="viewport"><div class="overview js-overview"><h3>Contents</h3><ul><li><a href="#fnmake">fn.make</a></li><li><a href="#fnextend">fn.extend</a></li><li><a href="#sel">$</a></li><li><a href="#set">$set</a></li><li><a href="#get">$get</a></li><li><a href="#attr">$attr</a></li><li><a href="#data">$data</a></li><li><a href="#each">$each</a></li><li><a href="#env">$env</a></li><li><a href="#envsecure">$envSecure</a></li><li><a href="#eq">$eq</a></li><li><a href="#exec">$exec</a></li><li><a href="#extend">$extend</a></li><li><a href="#first">$first</a></li><li class="subnav--deprecated"><a href="#getkeys">$getKeys</a></li><li><a href="#inarray">$inArray</a></li><li><a href="#isarray">$isArray</a></li><li><a href="#isfunction">$isFunction</a></li><li><a href="#isobject">$isObject</a></li><li><a href="#isstring">$isString</a></li><li><a href="#map">$map</a></li><li><a href="#merge">$merge</a></li><li><a href="#push">$push</a></li><li><a href="#serialize">$serialize</a></li><li><a href="#setref">$setRef</a></li><li><a href="#setvars">$setVars</a></li><li><a href="#toarray">$toArray</a></li><li><a href="#unique">$unique</a></li><li><a href="#ready">Ready</a></li></ul></div></div></div><div class="container primary" data-ref="primary"><div class="mobile-nav" data-ref="mobileNav">&#9776;</div><main role="main"><div class="intro"><h1 class="intro__title">Core <a href="https://github.com/weepower/wee/tree/master/public/assets/wee/script/wee.js" class="intro__link">→</a></h1><p class="intro__heading">Foundation of utilities, helpers, and module structure</p></div><div class="doc"><h2 class="doc__title">fn.make <a href="#fnmake" id="fnmake" class="doc__anchor">#</a></h2><p class="doc__heading">Create namespaced controller</p><p>Controllers serve as the wrapper for all custom script. They can be created per page, section, or for specific reusable components. If placed in your build directory you easily create a well-organized, extensible structure.</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>name</td><td>string</td><td>–</td><td>Namespace of the controller</td><td>✓</td></tr><tr><td>pub</td><td>object</td><td>–</td><td>Public methods and variables</td><td>✓</td></tr><tr><td>priv</td><td>object</td><td>–</td><td>Private methods and variables</td><td></td></tr></tbody></table></div><h3 class="doc__code__label">Public</h3><div class="doc__code"><pre><code class="language-javascript">Wee.fn.make('controllerName', {
    init: function() {
        return 'Initialized';
    }
});
</code></pre></div><div class="doc__code doc__code--split"><pre><code class="language-javascript">Wee.controllerName.init();
</code></pre><pre><code class="language-javascript">&quot;Initialized&quot;
</code></pre></div><h3 class="doc__code__label">Private/Public</h3><div class="doc__code"><p>Private functions can be accessed from public methods by using <code>this.$private('functionName', arguments)</code> syntax. To call back into a public method from a private one use <code>this.$public.functionName(arguments)</code>.</p><p>Also note that you have access to <code>this.$get()</code>, <code>this.$set()</code>, and <code>this.$push()</code> across both public and private methods. By default stored values are namespaced to the current controller scope. If you need to control global variables use <code>Wee.$get()</code>, <code>Wee.$set()</code>, and <code>Wee.$push()</code>.</p><pre><code class="language-javascript">Wee.fn.make('controllerName', {
    init: function() {
        this.anotherPublicFunction('varName'); // Call public method

        return this.$private('privateFunction', 'varName'); // Call private method
    },
    anotherPublicFunction: function(key) {
        this.$set(key, 'Success');
    },
    finalPublicFunction: function(output) {
        console.log(output);
    }
}, {
    privateFunction: function(key) {
        return this.anotherPrivateFunction(key); // Call private method
    },
    anotherPrivateFunction: function(key) {
        var output = this.$get(key);

        this.$public.finalPublicFunction(output); // Call public method
    }
});
</code></pre></div><div class="doc__code doc__code--split"><pre><code class="language-javascript">Wee.controllerName.init();
</code></pre><pre><code class="language-javascript">&quot;Success&quot;
</code></pre></div><h3 class="doc__code__label">Constructor</h3><div class="doc__code"><p>The construct method is immediately executed on controller creation and is useful for setting variables or invoking additional methods.</p><pre><code class="language-javascript">Wee.fn.make('controllerName', {
    _construct: function() {
        this.publicVariable = 'Public Variable';

        this.init();
    }
});
</code></pre></div><h3 class="doc__code__label">Destructor</h3><div class="doc__code"><p>The destruct method is executed to perform additional clean up or other actions when the controller is destroyed using <code>this.$destroy()</code> or <code>Wee.controllerName.$destroy()</code> outside the controller.</p><pre><code class="language-javascript">Wee.fn.make('controllerName', {
    _destruct: function() {
        this.save();
    }
});
</code></pre></div><div class="doc__note"><p><strong>Note:</strong> The construct and destruct methods can be placed in the public object and/or the private object.</p></div></div><div class="doc"><h2 class="doc__title">fn.extend <a href="#fnextend" id="fnextend" class="doc__anchor">#</a></h2><p class="doc__heading">Extend existing controller with additional methods and properties</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>a</td><td>string, object</td><td>–</td><td>Controller namespace or core object</td><td>✓</td></tr><tr><td>b</td><td>object</td><td>–</td><td>Public object or private object</td><td></td></tr><tr><td>c</td><td>object</td><td>–</td><td>Private object</td><td></td></tr></tbody></table></div><h3 class="doc__code__label">Extend Controller</h3><div class="doc__code"><pre><code class="language-javascript">Wee.fn.extend('controllerName', {
    extendedPublicFunction: function() {
        this.finalPublicFunction('output');
    }
});
</code></pre></div><div class="doc__code doc__code--split"><pre><code class="language-javascript">Wee.controllerName.extendedPublicFunction();
</code></pre><pre><code class="language-javascript">&quot;Success&quot;
</code></pre></div><h3 class="doc__code__label">Extend Core</h3><div class="doc__code"><p>To extend the core simply exclude the first parameter. This can be done to add additional core methods or override default functionality.</p><pre><code class="language-javascript">Wee.fn.extend({
    addNumbers: function(num1, num2) {
        return num1 + num2;
    }
});

Wee.addNumbers(2, 4);
</code></pre></div><div class="doc__note"><p><strong>Note:</strong> When extending a controller that doesn’t exist a new controller is created.</p></div></div><div class="doc"><h2 class="doc__title">$ <a href="#sel" id="sel" class="doc__anchor">#</a></h2><p class="doc__heading">Get matches to specified selector</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>selector</td><td><a href="/script#selection">selection</a></td><td>–</td><td>Target selection</td><td>✓</td></tr><tr><td>context</td><td><a href="/script#selection">selection</a></td><td>document</td><td>Context selection</td><td></td></tr></tbody></table></div><div class="doc__code doc__code--array doc__code--split"><pre><code class="language-javascript">Wee.$('.js-element li');
</code></pre><pre><code class="language-javascript">[node, node, ...]
</code></pre></div><h3 class="doc__doc__label">Contextual</h3><div class="doc__doc"><p>The context selection subsets the query to a more specific scope. This can result in a more limited and efficient traversal of the DOM.</p></div><div class="doc__code doc__code--array doc__code--split"><pre><code class="language-javascript">Wee.$('li', '.js-element');
</code></pre><pre><code class="language-javascript">[node, node, ...]
</code></pre></div><h3 class="doc__doc__label">References</h3><div class="doc__doc"><p>Prefetched elements can be selected by using the ‘ref:name’ format.</p></div><div class="doc__code doc__code--array doc__code--split"><pre><code class="language-javascript">Wee.$('ref:element');
</code></pre><pre><code class="language-javascript">[node, node, ...]
</code></pre></div><h3 class="doc__doc__label">External selector engine</h3><div class="doc__doc"><p>To use another query engine set the WeeSelector variable. This is used by default for legacy support by falling back to Sizzle to expand IE8 selector limitations. This variable can be set anywhere at any time but before Wee instantiation is preferred.</p><pre><code class="language-javascript">var WeeSelector = Sizzle;
</code></pre></div></div><div class="doc"><h2 class="doc__title">$set <a href="#set" id="set" class="doc__anchor">#</a></h2><p class="doc__heading">Set global variable</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>key</td><td>string</td><td>–</td><td>Storage reference</td><td>✓</td></tr><tr><td>val</td><td>any</td><td>–</td><td>Stored value</td><td>✓</td></tr><tr><td>opt</td><td>object</td><td>–</td><td><a href="/script#functions">Callback options</a></td><td></td></tr></tbody></table></div><h3 class="doc__code__label">Simple</h3><div class="doc__code doc__code--split"><pre><code class="language-javascript">Wee.$set('key', 'Success');
</code></pre><pre><code class="language-javascript">&quot;Success&quot;
</code></pre></div><div class="doc__note"><p><strong>Note:</strong> Set variables are available to all scripts. By setting a key in the form of <code>controller:key</code> the variable is injected into a controller’s scope and made available to <code>this.$get('key')</code> within it.</p></div><h3 class="doc__code__label">Callbacks</h3><div class="doc__code doc__code--response doc__code--stacked"><pre><code class="language-javascript">Wee.$set('key', function() {
    return 5 * 5;
});
</code></pre><pre><code class="language-javascript">Wee.$set('key', 'controllerName:publicFunction', {
    scope: this,
    args: [
        'Hello',
        123
    ]
});
</code></pre></div></div><div class="doc"><h2 class="doc__title">$get <a href="#get" id="get" class="doc__anchor">#</a></h2><p class="doc__heading">Get global variable</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>key</td><td>string</td><td>–</td><td>Storage reference</td><td></td></tr><tr><td>fallback</td><td>any</td><td>null</td><td>Default value if not set</td><td></td></tr><tr><td>set</td><td>boolean</td><td>false</td><td>Set default permanently</td><td></td></tr><tr><td>options</td><td>object</td><td>–</td><td><a href="/script#functions">Callback options</a></td><td></td></tr></tbody></table></div><div class="doc__code doc__code--split"><pre><code class="language-javascript">Wee.$get('anotherKey');
Wee.$get('anotherKey', 'Fallback');
Wee.$get('anotherKey');
Wee.$get('anotherKey', 'Fallback', true);
Wee.$get('anotherKey');
</code></pre><pre><code class="language-javascript">null
Fallback
null
Fallback
Fallback
</code></pre></div><h3 class="doc__code__label">Get All</h3><div class="doc__code doc__code--object doc__code--split"><pre><code class="language-javascript">Wee.$get();
</code></pre><pre><code class="language-javascript">{object}
</code></pre></div></div><div class="doc"><h2 class="doc__title">$attr <a href="#attr" id="attr" class="doc__anchor">#</a></h2><p class="doc__heading">Get attribute of first matching selection or set attribute of each matching selection</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>target</td><td><a href="/script#selection">selection</a></td><td>–</td><td>Target selection</td><td>✓</td></tr><tr><td>a</td><td>string, object</td><td>–</td><td>Attribute to get or set or an object</td><td>✓</td></tr><tr><td>b</td><td><a href="/script/#functions">function</a>, string</td><td>–</td><td>Value to assign to attribute</td><td></td></tr></tbody></table></div><h3 class="doc__code__label">Get</h3><div class="doc__code doc__code--string doc__code--split"><pre><code class="language-javascript">Wee.$attr('ref:element', 'href');
</code></pre><pre><code class="language-javascript">&quot;https://www.weepower.com&quot;
</code></pre></div><h3 class="doc__code__label">Single</h3><div class="doc__code"><pre><code class="language-javascript">Wee.$attr('ref:element', 'href', 'https://www.weepower.com/start');
</code></pre></div><h3 class="doc__code__label">Multiple</h3><div class="doc__code"><pre><code class="language-javascript">Wee.$attr('ref:element', {
    href: 'https://developer.mozilla.org',
    target: '_blank'
});
</code></pre></div></div><div class="doc"><h2 class="doc__title">$data <a href="#data" id="data" class="doc__anchor">#</a></h2><p class="doc__heading">Get data of first matching selection or set data of each matching selection</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>target</td><td><a href="/script#selection">selection</a></td><td>–</td><td>Target selection</td><td>✓</td></tr><tr><td>a</td><td>string, object</td><td>–</td><td>Data attribute to get or set or an object</td><td>✓</td></tr><tr><td>b</td><td>string</td><td>–</td><td>Value to assign to data attribute</td><td></td></tr></tbody></table></div><h3 class="doc__code__label">Get</h3><div class="doc__code"><pre><code class="language-html">&lt;div data-ref=&quot;element&quot; data-id=&quot;150&quot;&gt;&lt;/div&gt;
</code></pre></div><div class="doc__code doc__code--string doc__code--split"><pre><code class="language-javascript">Wee.$data('ref:element', 'id');
</code></pre><pre><code class="language-javascript">&quot;150&quot;
</code></pre></div><h3 class="doc__code__label">Set Single</h3><div class="doc__code"><pre><code class="language-javascript">Wee.$data('ref:element', 'id', '250');
</code></pre></div><h3 class="doc__code__label">Set Multiple</h3><div class="doc__code"><pre><code class="language-javascript">Wee.$data('ref:element', {
    id: '350',
    active: 'true'
});
</code></pre></div></div><div class="doc"><h2 class="doc__title">$each <a href="#each" id="each" class="doc__anchor">#</a></h2><p class="doc__heading">Execute function for each matching selection</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>target</td><td><a href="/script#selection">selection</a></td><td>–</td><td>Target selection</td><td>✓</td></tr><tr><td>fn</td><td><a href="/script/#functions">function</a></td><td>–</td><td>Callback function</td><td>✓</td></tr><tr><td>options</td><td>object</td><td>–</td><td>Object properties below</td><td></td></tr></tbody></table></div><h3 class="doc__variables__label">Options Object</h3><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>args</td><td>array</td><td>–</td><td>Callback arguments</td><td></td></tr><tr><td>scope</td><td>object</td><td>–</td><td>Callback scope</td><td></td></tr><tr><td>reverse</td><td>boolean</td><td>false</td><td>Reverse the order of execution</td><td></td></tr></tbody></table></div><h3 class="doc__code__label">Simple</h3><div class="doc__code"><pre><code class="language-javascript">Wee.$each('ref:element', function(el, i) {
    // Callback logic
});
</code></pre></div><h3 class="doc__code__label">Advanced</h3><div class="doc__code"><pre><code class="language-javascript">Wee.$each('ref:element', function(el, i) {
    // Callback logic
}, {
    reverse: true,
    scope: this
});
</code></pre></div><div class="doc__note"><p><strong>Note:</strong> The element and index are injected as the first two callback parameters.</p></div></div><div class="doc"><h2 class="doc__title">$env <a href="#env" id="env" class="doc__anchor">#</a></h2><p class="doc__heading">Get current environment or detect current environment against specified object</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>rules</td><td>object</td><td>–</td><td>Environment rules</td><td></td></tr><tr><td>fallback</td><td>string</td><td>“local”</td><td>Default environment</td><td></td></tr></tbody></table></div><h3 class="doc__doc__label">Set</h3><div class="doc__doc"><p>The key values can either be strings for a direct match or a <a href="/script/#functions">functions</a> for more complex evaluation. If a function is provided the response should be a boolean. If no match is found the default environment value is used.</p></div><div class="doc__code doc__code--string doc__code--split"><pre><code class="language-javascript">Wee.$env({
    prod: 'www.weepower.com',
    stage: 'stage.weepower.com'
});
</code></pre><pre><code class="language-javascript">&quot;prod&quot;
</code></pre></div><h3 class="doc__code__label">Get</h3><div class="doc__code doc__code--string doc__code--split"><pre><code class="language-javascript">Wee.$env();
</code></pre><pre><code class="language-javascript">&quot;prod&quot;
</code></pre></div></div><div class="doc"><h2 class="doc__title">$envSecure <a href="#envsecure" id="envsecure" class="doc__anchor">#</a></h2><p class="doc__heading">Determine if the current environment is secured over HTTPS</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>url</td><td>string</td><td>current url</td><td>URL to evaluate</td><td></td></tr></tbody></table></div><div class="doc__code doc__code--boolean doc__code--split"><pre><code class="language-javascript">Wee.$envSecure();
</code></pre><pre><code class="language-javascript">true
</code></pre></div></div><div class="doc"><h2 class="doc__title">$eq <a href="#eq" id="eq" class="doc__anchor">#</a></h2><p class="doc__heading">Get indexed node of matching selection</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>target</td><td><a href="/script#selection">selection</a></td><td>–</td><td>Target selection</td><td>✓</td></tr><tr><td>index</td><td>number</td><td>–</td><td>Element index</td><td>✓</td></tr><tr><td>context</td><td><a href="/script#selection">selection</a></td><td>document</td><td>Context selection</td><td></td></tr></tbody></table></div><div class="doc__code"><pre><code class="language-html">&lt;ul class=&quot;js-element&quot;&gt;
    &lt;li&gt;List item 1&lt;/li&gt;
    &lt;li&gt;List item 2&lt;/li&gt;
    &lt;li&gt;List item 3&lt;/li&gt;
&lt;/ul&gt;
</code></pre></div><div class="doc__code doc__code--split"><pre><code class="language-javascript">Wee.$eq('.js-element li', 1);
</code></pre><pre><code class="language-html">&lt;li&gt;List item 2&lt;/li&gt;
</code></pre></div><h3 class="doc__code__label">Negative Index</h3><div class="doc__code doc__code--split"><pre><code class="language-javascript">Wee.$eq('.js-element li', -1);
</code></pre><pre><code class="language-html">&lt;li&gt;List item 3&lt;/li&gt;
</code></pre></div></div><div class="doc"><h2 class="doc__title">$exec <a href="#exec" id="exec" class="doc__anchor">#</a></h2><p class="doc__heading">Execute specified function or controller method</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>fn</td><td><a href="/script/#functions">function</a>, array</td><td>–</td><td>Functions to execute</td><td>✓</td></tr><tr><td>options</td><td>object</td><td>–</td><td>Function options below</td><td></td></tr></tbody></table></div><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>args</td><td>array</td><td>–</td><td>Function arguments</td><td></td></tr><tr><td>scope</td><td>object</td><td>–</td><td>Function scope</td><td></td></tr></tbody></table></div><div class="doc__code doc__code--stacked"><pre><code class="language-javascript">Wee.$exec('controllerName:methodName');
</code></pre><pre><code class="language-javascript">Wee.$exec('controllerName:methodName', {
    scope: this,
    args: [
        'Hello',
        123
    ]
});
</code></pre><pre><code class="language-javascript">Wee.$exec(function() {
    //
});
</code></pre><pre><code class="language-javascript">Wee.$exec([
    'controllerName:methodName',
    'controllerName2:methodName2'
]);
</code></pre></div><div class="doc__note"><p><strong>Note:</strong> This method is mostly intended for external use although it can be used anywhere. Controller methods are best executed in the form of <code>Wee.controllerName.methodName()</code>.</p></div></div><div class="doc"><h2 class="doc__title">$extend <a href="#extend" id="extend" class="doc__anchor">#</a></h2><p class="doc__heading">Extend target object with source object</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>target</td><td>object</td><td>–</td><td>Target object</td><td></td></tr><tr><td>source</td><td>object</td><td>–</td><td>Source object</td><td>✓</td></tr><tr><td>deep</td><td>boolean</td><td>false</td><td>Deep nesting</td><td></td></tr></tbody></table></div><h3 class="doc__doc__label">Clone Object</h3><div class="doc__doc"><p>If the first argument is an empty object literal, the second object will be cloned.</p></div><div class="doc__code doc__code--split"><pre><code class="language-javascript">var obj = {
    key1: 'val1',
    key2: 'val2'
};

Wee.$extend({}, obj, true);
</code></pre><pre><code class="language-javascript">{
    key1: &quot;val1&quot;,
    key2: &quot;val2&quot;
}
</code></pre></div><h3 class="doc__code__label">Merge Objects</h3><div class="doc__code doc__code--split"><pre><code class="language-javascript">var obj = {
        key1: 'val1',
        key2: 'val2'
    },
    obj2 = {
        key2: 'val3',
        key3: 'val4'
    };

Wee.$extend(obj, obj2);
</code></pre><pre><code class="language-javascript">{
    key1: &quot;val1&quot;,
    key2: &quot;val2&quot;,
    key3: &quot;val4&quot;
}
</code></pre></div></div><div class="doc"><h2 class="doc__title">$first <a href="#first" id="first" class="doc__anchor">#</a></h2><p class="doc__heading">Get the first element of a matching selection</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>target</td><td><a href="/script#selection">selection</a></td><td>–</td><td>Target selection</td><td>✓</td></tr><tr><td>context</td><td><a href="/script#selection">selection</a></td><td>document</td><td>Context selection</td><td></td></tr></tbody></table></div><div class="doc__code"><p>Works the same as <a href="#core">Wee.$()</a> but only returns the first result from the result set.</p><pre><code class="language-javascript">var $first = Wee.$first('ref:element');
</code></pre></div></div><div class="doc"><h2 class="doc__title">$getKeys <a href="#getkeys" id="getkeys" class="doc__anchor">#</a></h2><p class="doc__heading">Get keys from an object</p><div class="doc__notice"><p><b>Deprecated:</b> Object.keys(obj) should be used instead.</p></div></div><div class="doc"><h2 class="doc__title">$inArray <a href="#inarray" id="inarray" class="doc__anchor">#</a></h2><p class="doc__heading">Determine if value belongs to array</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>array</td><td>array</td><td>–</td><td>Source array</td><td>✓</td></tr><tr><td>value</td><td>any</td><td>–</td><td>Value to check</td><td>✓</td></tr></tbody></table></div><div class="doc__code doc__code--split"><pre><code class="language-javascript">var arr = [
    'value',
    'value2',
    'value3'
];

Wee.$inArray(arr, 'value');
Wee.$inArray(arr, 'value2');
Wee.$inArray(arr, 'value4');
</code></pre><pre><code class="language-javascript">0
1
false
</code></pre></div></div><div class="doc"><h2 class="doc__title">$isArray <a href="#isarray" id="isarray" class="doc__anchor">#</a></h2><p class="doc__heading">Determine if value is an array</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>value</td><td>any</td><td>–</td><td>Value to evaluate</td><td>✓</td></tr></tbody></table></div><div class="doc__code doc__code--boolean doc__code--split"><pre><code class="language-javascript">Wee.$isArray([
    'string',
    'string2'
]);
Wee.$isArray('string');
</code></pre><pre><code class="language-javascript">true
false
</code></pre></div></div><div class="doc"><h2 class="doc__title">$isFunction <a href="#isfunction" id="isfunction" class="doc__anchor">#</a></h2><p class="doc__heading">Determine if value is a function</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>value</td><td>any</td><td>–</td><td>Value to evaluate</td><td>✓</td></tr></tbody></table></div><div class="doc__code doc__code--boolean doc__code--split"><pre><code class="language-javascript">Wee.$isFunction({});
Wee.$isFunction('string');
Wee.$isFunction('controller:fn');
Wee.$isFunction(function() {});
</code></pre><pre><code class="language-javascript">false
false
true
true
</code></pre></div></div><div class="doc"><h2 class="doc__title">$isObject <a href="#isobject" id="isobject" class="doc__anchor">#</a></h2><p class="doc__heading">Determine if value is an object</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>value</td><td>any</td><td>–</td><td>Value to evaluate</td><td>✓</td></tr></tbody></table></div><div class="doc__code doc__code--boolean doc__code--split"><pre><code class="language-javascript">Wee.$isObject({});
Wee.$isObject('string');
</code></pre><pre><code class="language-javascript">true
false
</code></pre></div></div><div class="doc"><h2 class="doc__title">$isString <a href="#isstring" id="isstring" class="doc__anchor">#</a></h2><p class="doc__heading">Determine if value is a string</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>value</td><td>any</td><td>–</td><td>Value to evaluate</td><td>✓</td></tr></tbody></table></div><div class="doc__code doc__code--boolean doc__code--split"><pre><code class="language-javascript">Wee.$isString({});
Wee.$isString('string');
</code></pre><pre><code class="language-javascript">false
true
</code></pre></div></div><div class="doc"><h2 class="doc__title">$map <a href="#map" id="map" class="doc__anchor">#</a></h2><p class="doc__heading">Translate items in an array or selection to new array</p><div class="doc__content"><p>The callback receives the current element as well as the index.</p></div><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>target</td><td>array, selection</td><td>–</td><td>Array or <a href="/script/core#core">Wee selection</a></td><td>✓</td></tr><tr><td>fn</td><td>function</td><td>–</td><td>Callback function</td><td>✓</td></tr><tr><td>options</td><td>object</td><td>–</td><td>Callback options below</td><td></td></tr></tbody></table></div><h3 class="doc__code__label">Array</h3><div class="doc__code doc__code--array doc__code--split"><pre><code class="language-javascript">Wee.$map([1, 2, 3], function(val) {
    return val + 1;
});
</code></pre><pre><code class="language-javascript">[2, 3, 4]
</code></pre></div><h3 class="doc__code__label">Selection</h3><div class="doc__code doc__code--array doc__code--split"><pre><code class="language-javascript">Wee.$map('ref:element', function(el, i) {
    return $(el).text();
});
</code></pre><pre><code class="language-javascript">[&quot;text&quot;, &quot;text&quot;, ...]
</code></pre></div></div><div class="doc"><h2 class="doc__title">$merge <a href="#merge" id="merge" class="doc__anchor">#</a></h2><p class="doc__heading">Merge source array into target array</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>target</td><td>array</td><td>–</td><td>Target array</td><td>✓</td></tr><tr><td>source</td><td>array</td><td>–</td><td>Source array</td><td>✓</td></tr><tr><td>unique</td><td>boolean</td><td>false</td><td>Remove duplicates</td><td></td></tr></tbody></table></div><div class="doc__code doc__code--array doc__code--split"><pre><code class="language-javascript">var arr1 = [1, 2, 3],
arr2 = [4, 5, 6];

Wee.$merge(arr1, arr2);
</code></pre><pre><code class="language-javascript">[1, 2, 3, 4, 5, 6]
</code></pre></div></div><div class="doc"><h2 class="doc__title">$push <a href="#push" id="push" class="doc__anchor">#</a></h2><p class="doc__heading">Push value into global array</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>key</td><td>string</td><td>–</td><td>Reference to push the value into</td><td>✓</td></tr><tr><td>a</td><td>string, any</td><td>–</td><td>Storage value or key for value</td><td>✓</td></tr><tr><td>b</td><td>any</td><td>–</td><td>Storage value</td><td></td></tr></tbody></table></div><div class="doc__code"><pre><code class="language-javascript">Wee.$push('key', 'Success');
Wee.$push('key', 'Success 2');

Wee.$get('key');
Wee.$get('key', 0);
</code></pre><pre><code class="language-javascript">[&quot;Success&quot;, &quot;Success 2&quot;]
Success
</code></pre></div></div><div class="doc"><h2 class="doc__title">$serialize <a href="#serialize" id="serialize" class="doc__anchor">#</a></h2><p class="doc__heading">Serialize object</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>value</td><td>object</td><td>–</td><td>Object to serialize</td><td>✓</td></tr></tbody></table></div><div class="doc__code doc__code--string doc__code--split"><pre><code class="language-javascript">Wee.$serialize({
    key1: 'value1',
    key2: 'value2',
    key3: 'value3'
});
</code></pre><pre><code class="language-javascript">key1=value1&amp;key2=value2&amp;key3=value3
</code></pre></div><div class="doc__note"><p><strong>Note:</strong> Only the first level of the object and those with string values are serialized.</p></div></div><div class="doc"><h2 class="doc__title">$setRef <a href="#setref" id="setref" class="doc__anchor">#</a></h2><p class="doc__heading">Add ref elements to datastore</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>context</td><td><a href="/script#selection">selection</a></td><td>document</td><td>Context selection</td><td></td></tr></tbody></table><p>Available data-ref values are pushed into the global storage for later retrieval. This method can be called after dynamic content is injected to ensure new refs are available for selection.</p></div><div class="doc__code doc__code--stacked"><pre><code class="language-html">&lt;div data-ref=&quot;element&quot;&gt;&lt;/div&gt;
</code></pre><pre><code class="language-javascript">Wee.$setRef();
</code></pre></div><div class="doc__code doc__code--split"><pre><code class="language-javascript">$('ref:element');
</code></pre><pre><code class="language-html">&lt;div data-ref=&quot;element&quot;&gt;&lt;/div&gt;
</code></pre></div><div class="doc__note"><p><strong>Note:</strong> This function is called by default with on page load. Subsequent calls clear the cache for the provided context and reset the references.</p></div></div><div class="doc"><h2 class="doc__title">$setVars <a href="#setvars" id="setvars" class="doc__anchor">#</a></h2><p class="doc__heading">Add metadata variables to datastore</p><h3 class="doc__code__label">Single Value</h3><div class="doc__code doc__code--stacked"><p>Available data-set values are pushed into the global storage for later retrieval.</p><pre><code class="language-html">&lt;div data-set=&quot;key&quot; data-value=&quot;value&quot;&gt;&lt;/div&gt;
</code></pre><pre><code class="language-javascript">Wee.$setVars();
</code></pre></div><div class="doc__code doc__code--string doc__code--split"><pre><code class="language-javascript">Wee.$get('key');
</code></pre><pre><code class="language-javascript">&quot;value&quot;
</code></pre></div><h3 class="doc__code__label">Value Array</h3><div class="doc__code"><p>To push into an array instead of setting a single value append array brackets to the end of the key.</p><pre><code class="language-html">&lt;div data-set=&quot;key[]&quot; data-value=&quot;value1&quot;&gt;&lt;/div&gt;
&lt;div data-set=&quot;key[]&quot; data-value=&quot;value2&quot;&gt;&lt;/div&gt;
&lt;div data-set=&quot;key[]&quot; data-value=&quot;value3&quot;&gt;&lt;/div&gt;
</code></pre></div><div class="doc__code doc__code--array doc__code--split"><pre><code class="language-javascript">Wee.$get('key');
</code></pre><pre><code class="language-javascript">[&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;]
</code></pre></div><div class="doc__note"><p><strong>Note:</strong> This function is called by default with on page load.</p></div></div><div class="doc"><h2 class="doc__title">$toArray <a href="#toarray" id="toarray" class="doc__anchor">#</a></h2><p class="doc__heading">Cast object to array if it isn't one</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>value</td><td>string, array</td><td>–</td><td>Value to convert to array</td><td>✓</td></tr></tbody></table></div><div class="doc__code doc__code--split"><pre><code class="language-javascript">Wee.$toArray(['test']);
Wee.$toArray('test');
</code></pre><pre><code class="language-javascript">['test']
['test']
</code></pre></div></div><div class="doc"><h2 class="doc__title">$unique <a href="#unique" id="unique" class="doc__anchor">#</a></h2><p class="doc__heading">Create new array with only unique values from source array</p><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>array</td><td>array</td><td>–</td><td>Value array</td><td>✓</td></tr></tbody></table></div><div class="doc__code doc__code--string doc__code--split"><pre><code class="language-javascript">Wee.$unique([1, 1, 2, 3, 4, 4, 5, 6]);
</code></pre><pre><code class="language-javascript">[1, 2, 3, 4, 5, 6]
</code></pre></div></div><div class="doc"><h2 class="doc__title">Ready <a href="#ready" id="ready" class="doc__anchor">#</a></h2><p class="doc__heading">Execute specified function when document is ready</p><div class="doc__content"><p>The ready function will wait for the page to finish loading else immediately execute the function.</p></div><div class="doc__variables"><table><thead><tr><th>Variable</th><th>Type</th><th>Default</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>fn</td><td><a href="/script/#functions">function</a>, array</td><td>–</td><td>Document ready function(s)</td><td>✓</td></tr></tbody></table></div><div class="doc__code doc__code--stacked"><pre><code class="language-javascript">Wee.ready(function() {
    // Document ready logic
});
</code></pre><pre><code class="language-javascript">Wee.ready([
    'routes:run',
    'controllerName:methodName'
]);
</code></pre></div></div></main><footer role="contentinfo" class="footer"><small class="footer__license"><a href="/">Wee Powered</a> &ndash; licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2</a></small><ul class="footer__links"><li><a href="https://github.com/weepower/wee">GitHub</a></li><li><a href="https://github.com/weepower/wee/issues">Issues</a></li><li><a href="https://github.com/weepower/wee/releases">Releases</a></li><li><a href="https://twitter.com/weecss">Twitter</a></li><li><a href="/blog">Blog</a></li></ul></footer></div></div></div><script src="/assets/js/script.min.js"></script></body></html>