/*------------------------------------*\
	# Global
\*------------------------------------*/

#global {
	.-no-outline {
		outline: none;
	}
	.-is-changing {
		&,
		*,
		*:before,
		*:after {
			.transition();
		}
	}
}





/*------------------------------------*\
	# General
\*------------------------------------*/

.load-font(wee);

.breadcrumb {
	.font-size(1);
	.gray();
	.inline-list('/', 6px);
	.spaced(2.5);
	.uppercase();
}
.main {
	.relative();
}





/*------------------------------------*\
	# Dark Scheme
\*------------------------------------*/

body {
	&.-dark {
		.background(@dark);
		address,
		dt,
		figcaption,
		h1,
		h2,
		h3,
		h4,
		h5,
		h6,
		label,
		p,
		ol,
		q,
		td,
		th,
		ul {
			.lighterGray();
		}
		tr {
			&:nth-child(odd) td {
				.background(@lighter);
			}
		}
		table {
			caption {
				.background(@lighter);
				.lighterGray();
			}
		}
		.header {
			.background(@dark);
			.border-color(@darker);
			&__logo {
				&:hover {
					path {
						.fill(@gray);
					}
				}
				path {
					.fill(@white);
				}
			}
			&__title {
				.white();
			}
			&__button {
				.background(@dark);
				.border-color(@lighterGray);
				.lighterGray();
				&:hover {
					.background(@lighterGray);
					.color(@dark);
				}
			}
		}
		.footer {
			&__license {
				&:before {
					.white();
				}
			}
		}
		.switch {
			&:hover {
				&:before {
					.brightness(120%);
				}
			}
			&:before {
				.primary();
			}
			&__toggle {
				&:before {
					.background(@darkest);
				}
				&:after {
					.background(@lightest);
					.border-color(@darkest);
					.left(0);
				}
			}
		}
		.search {
			.background(@darkest);
			&__button {
				&:before {
					.gray();
				}
				&:hover {
					&:before {
						.lightGray();
					}
				}
			}
			&__results {
				.background(@darker);
				&:before {
					.background(@darker);
				}
				&__entry {
					&:hover,
					&.-is-active {
						.background(@darkest);
					}
				}
			}
		}
		.hero {
			.white();
		}
		.home-label {
			.border(top; @lightest);
		}
		.components {
			.background(@darker);
		}
		.highlights {
			&__item {
				.border(@lightest);
			}
		}

		// TODO: clean up
		.sidebar {
			a {
				.lighterGray();
			}
			a:hover {
				.white();
			}
		}
		.topnav {
			.border-color(@darker);
			a {
				&.-is-active {
					.background(@darker);
				}
			}
		}
		.subnav {
			.background(@darker);
		}

		.doc {
			code {
				.background(@lighter);
				.color(@light);
			}
			&__code {
				&.-boolean,
				&.-object,
				&.-string,
				&.-number,
				&.-array {
					pre {
						&:last-child {
							&:before {
								.lighterGray();
							}
						}
					}
				}
				&.-array {
					pre {
						&:last-child {
							&:before {
								.background(none);
								.color(@light);
							}
						}
					}
				}
			}
			&__note {
				p {
					.background(@darker);
				}
				code {
					.background(@dark);
					.color(@light);
				}
			}
			&__notice {
				p {
					.color(@darkest);
				}
			}
		}

		.token.comment,
		.token.prolog,
		.token.doctype,
		.token.cdata {
			color: slategray;
		}
		.token.punctuation {
			color: #f8f8f2;
		}
		.namespace {
			opacity: .7;
		}
		.token.property,
		.token.tag,
		.token.constant,
		.token.symbol,
		.token.deleted {
			color: #f92672;
		}
		.token.boolean,
		.token.number {
			color: #ae81ff;
		}
		.token.selector,
		.token.attr-name,
		.token.string,
		.token.char,
		.token.builtin,
		.token.inserted {
			color: #a6e22e;
		}
		.token.operator,
		.token.entity,
		.token.url,
		.language-css .token.string,
		.style .token.string,
		.token.variable {
			color: #f8f8f2;
		}
		.token.atrule,
		.token.attr-value,
		.token.function {
			color: #e6db74;
		}
		.token.keyword {
			color: #66d9ef;
		}
		.token.regex,
		.token.important {
			color: #fd971f;
		}
	}
}





/*------------------------------------*\
	# Header
\*------------------------------------*/

.header {
	.align(middle);
	.background(@bodyBackground);
	.border(bottom; @light);
	.fill();
	.fixed(0; false; false; 0);
	.height(7);
	.padded();
	.z-index(1000);
	&__root {
		.align(middle);
		.height(7);
		.inline-block(9);
		.padding(right; 1.8);
		.padding(top; 1.9);
	}
	&__logo {
		&:hover {
			path {
				.fill(@linkColorHover);
			}
		}
		path {
			.fill(@primary);
		}
	}
	&__content {
		.hide();
	}
	&__title {
		.font-size(2.1; 3);
		.font-weight(300);
		.inline();
		.spaced(0);
		.primary();
	}
	&__checkbox {
		.absolute(-10);
	}
	&__nav {
		.right();
	}
	&__button {
		.background(@bodyBackground);
		.font-weight(400);
		.margin(right; 6.4);
		.margin(top; 1.5);
		.primary();
		&:first-child {
			.margin(right; .6);
		}
	}
	&__download {
		.background(@primary);
		.hide-text();
		&,
		&:before {
			.absolute(0; 0);
			.square(7);
		}
		&:before {
			.align(center);
			.content(@iconDownload);
			.font(wee; 2; false; 7rem);
			.text-indent(0);
		}
		&,
		&:hover,
		&:active {
			.white();
		}
		&:hover {
			.background(@buttonBackgroundHover);
		}
		&:active {
			.background(@buttonBackgroundActive);
		}
	}
}
.switch {
	.absolute(2.5; 50%);
	.cursor();
	&:hover {
		&:before {
			.gray();
		}
	}
	&:before {
		.absolute(-2.5; false; false; -2.5);
		.content(@iconScheme);
		.font(wee; 2; false; 7rem);
		.lightGray();
		.text-shadow(light; 30%; 0; 0; 20px);
	}
	&__toggle {
		&:before,
		&:after {
			.absolute();
			.content();
			.rounded(1);
		}
		&:before {
			.background(@lightGray);
			.block(3.4; 2);
		}
		&:after {
			.background(@lighterGray);
			.border(@lightGray);
			.block(2; 2);
			.left(1.4);
			.shadow(dark; 15%; 1px; 2px; 2px);
		}
	}
}
.search {
	.background(@light);
	.crop();
	.cursor();
	.margin(top; 1.5);
	.margin(right; 6.4);
	.padding(left; 3.9);
	.relative();
	.rounded(5);
	.transition();
	.width(0);
	&.-is-expanded {
		.overflow(visible);
		.width(24);
		input.search__input {
			.opaque();
		}
	}
	input&__input {
		.background(none);
		.border(none);
		.padding(1; 2; 1; 0);
		.spaced(0);
		.transition(opacity; .4s);
		.transparent();
		.width(20);
	}
	&__button {
		.absolute(0; false; false; 0);
		.square(3.9);
		&:before {
			.absolute(0; false; false; 1.2);
			.content(@iconSearch);
			.font(wee; 1.6; false; 2.4);
			.gray();
		}
		&:hover {
			&:before {
				.darkGray();
			}
		}
	}
	&__results {
		.absolute(5; false; false; 0);
		.background(@light);
		.fill();
		&:before {
			.absolute(-.5; false; false; 50%);
			.background(@light);
			.block(1; 1);
			.content();
			.margin(left; -.5);
			.rotate(45);
			.z-index(-1);
		}
		&__list {
			.unstyled();
			.spaced(0);
		}
		&__entry {
			.spaced(0);
			&:hover,
			&.-is-active {
				.background(@lightDark);
			}
		}
		&__link {
			.block();
			.padding(.6; 1.4);
		}
		&__title {
			.font-size(1.6);
			.spaced(.2);
		}
		&__desc {
			.font-size(1.3; 1.4);
			.gray();
			.spaced(.2);
		}
	}
}





/*------------------------------------*\
	# Footer
\*------------------------------------*/

.footer {
	.clearfix();
	.lightGray();
	.padding(.4; @bumperPadding);
	a {
		.gray();
		&:hover {
			.darkGray();
		}
	}
	&__license {
		.font-size(1.2);
		.spaced-block(.8);
		&:before {
			.align(middle);
			.content(@iconWee);
			.font(wee; 2; false; 2);
			.margin(right; 1);
			.primary();
		}
	}
	&__links {
		.font-size(1.2);
		.inline-list(1.2);
		.uppercase();
		.margin(.8; 0);
	}
}





/*------------------------------------*\
	# Sidebar
\*------------------------------------*/

.sidebar {
	.font-size(1.4);
	.margin(top; 7);
	.size(18; calc(100% - 7rem));
	&:hover {
		.thumb {
			.opacity(10%);
		}
	}
	a {
		.block();
		.darkestGray();
		.line-height(2.4);
		&:hover {
			.black();
		}
	}
	h3 {
		.font-size(1.4; 2.4);
		.font-weight(700);
		.spaced(0);
		a {
			.padding(left; 4);
		}
	}
	ul {
		.font-weight(300);
		.padding(bottom; 2.2);
		.spaced(.8);
		.unstyled();
		li {
			.spaced(0);
		}
		a {
			.padding(left; 4);
		}
	}
	.thumb {
		.absolute(0; false; false; 0);
		.background(@black);
		.cursor(pointer);
		.transition(opacity);
		.transparent();
		.width(1.2);
		&:hover {
			.opacity(15%);
		}
		&:active {
			.opacity(25%);
		}
	}
}
.overview {
	.fill();
	.padding(vertical; 3);
}
.viewport {
	.inline-block(18; 100%);
}
.scrollbar {
	.absolute(0; 0);
	.size(1.2; 100%);
}
.disable {
	.hide();
}
.noSelect {
	.user-select();
}
.topnav {
	.absolute(0; false; false; -18);
	.border(right; @light);
	a {
		&.-is-active {
			.background(@light);
		}
	}
}
.subnav {
	.background(@light);
	.fixed(0; false; false; 0);
	.hide();
	.left(18);
	h3 {
		.darkestGray();
		.padding(left; 4);
	}
	a {
		&.-is-active {
			.relative();
			&:before {
				.absolute(11px; false; false; 22px);
				.background(@primary);
				.circle(8px);
				.content();
			}
		}
	}
	&.-deprecated {
		a {
			.lightGray();
		}
	}
}





/*------------------------------------*\
	# Homepage
\*------------------------------------*/

.hero {
	.padding(vertical; 13; 5);
	.font-size(3; 1.4);
}
.home-label {
	.border(top; @lighterGray);
	.font-size(1.2);
	.font-weight(700);
	.lightGray();
	.padding(top; .6);
	.spaced(4);
	.uppercase();
}
.blog-preview {
	.spaced(7);
	&__title {
		.font-size(2);
		.font-weight(700);
		.spaced(.6);
	}
	&__copy {
		.font-size(1.6);
	}
}
.features {
	&__list {
		.unstyled();
	}
	&__item {
		.spaced(3);
	}
	&__title {
		.font-size(2);
		.font-weight(700);
		.spaced(.6);
		a {
			.block();
			&:after {
				.align(middle);
				.content(@iconArrow);
				.font(wee; .3; false; 2);
				.margin(left; .8);
			}
		}
	}
	&__copy {
		.font-size(1.6);
		.spaced(0);
	}
}
.highlights {
	.padding(vertical; 2.4; 3);
	&__list {
		.unstyled();
	}
	&__item {
		.border(@lightGray);
		.padding(1.5; 2.5);
		.rounded(1);
		.spaced(3);
	}
	&__title {
		.font-size(4);
		.spaced(.6);
		a {
			.block();
		}
	}
	&__copy {
		.font-size(1.8);
		.spaced(1.4);
	}
}
.components {
	.background(@light);
	.padding(vertical; 5; 3);
	&__list {
		.unstyled();
	}
	&__item {
		.spaced(3);
	}
	&__title {
		.font-size(2.4);
		.font-weight(700);
		.spaced(1);
	}
	&__copy {
		.font-size(1.6);
	}
}





/*------------------------------------*\
	# Docs
\*------------------------------------*/

.souce-link {
	.hide();
}
.output {
	.max-width(800px);
	.padding(vertical; 9.8; 4);
	.relative();
	.transition(margin-left);
	.z-index(100);
	.footer {
		.margin(top; 6);
	}
}
.intro {
	.spaced(3);
	&__title {
		.spaced(0);
	}
	&__link {
		.font-size(.8em);
		.lightGray();
		.line-height(1);
		&:after {
			.align(middle);
			.content(@iconArrow);
			.font(wee; 1; false; 2);
		}
		&:hover {
			.gray();
		}
	}
	&__heading {
		.h5();
		.gray();
		.spaced(2);
	}
}
.doc {
	&__title {
		.margin(vertical; 8; 2);
		.relative();
		a {
			.lightGray();
			&:hover {
				.gray();
			}
		}
		& + .doc__heading {
			.margin(top; -2);
		}
	}
	&__heading {
		.font-size(1.8);
		.gray();
		.line-height(1.5);
		.margin(vertical; -1.5; 2);
	}
	&__anchor {
		.absolute(0; false; false; -2.8);
		.font-weight(300);
		.hidden();
	}
	&__link {
		.font-size(.8em);
		.line-height(1);
		&:after {
			.align(middle);
			.content(@iconArrow);
			.font(wee; 1; false; 2);
		}
	}
	&__label {
		.darkGray();
		.font-size(2.4);
		.spaced(.6);
	}
	&__variables {
		.responsive-table();
		+ .doc__variables__label {
			.gray();
			.font-size(1.8);
			.margin(top; -1.6);
		}
		+ .doc__note {
			.margin(top; -2);
		}
		table {
			.font-size(1.3);
			ul {
				.line-height(1.5);
				.spaced(0);
			}
		}
		th,
		td {
			.no-wrap();
			&:nth-child(5) {
				.align(center);
				.width(9);
			}
		}
		td {
			.darkGray();
			.line-height(1.5);
			&:first-child {
				.bold();
			}
		}
		&__notes {
			.font-size(1.3);
			.line-height(1.5);
			.gray();
			.padding(1.2; .8; .6; .8);
			.spaced(0);
		}
		&.-variables {
			th,
			td {
				&:nth-child(-n+3) {
					.width(12);
				}
			}
		}
		&.-response {
			th,
			td {
				&:nth-child(2) {
					.width(12);
				}
			}
		}
	}
	&__code {
		+ .doc__code {
			.clear();
			.margin(top; -2);
		}
		&.-stacked {
			pre + pre {
				.margin(top; -2);
			}
		}
		&.-boolean,
		&.-object,
		&.-string,
		&.-number,
		&.-array {
			pre {
				&:last-child {
					.relative();
					.spaced(3);
					&:before {
						.absolute(-2.4; false; false; 0);
						.content('Response');
						.fill();
						.font(@headingFont; .9);
						.uppercase();
					}
				}
			}
		}
		&.-boolean {
			.responseText('Response / Boolean');
		}
		&.-object {
			.responseText('Response / Object');
		}
		&.-string {
			.responseText('Response / String');
		}
		&.-number {
			.responseText('Response / Number');
		}
		&.-array {
			.responseText('Response / Array');
		}
		&__label {
			.font-size(2.4);
		}
	}
	&__note {
		.font-size(1.4);
		.spaced(3);
		p {
			.background(@lightestGray);
			.darkGray();
			.padding(1.4; 2);
		}
		code {
			.background(@lighterGray);
		}
	}
	&__notice {
		.font-size(1.4);
		.spaced(3);
		p {
			.background(#f5f197);
			.darkGray();
			.padding(1.4; 2);
		}
	}
	&__methods {
		.font-size(1.4);
		.spaced(2);
		ul {
			.unstyled();
		}
		&.-bordered {
			.border(bottom; @lightGray; 1px; dotted);
		}
	}
	&__related {
		.font-size(1.4);
		.gray();
	}
}





/*------------------------------------*\
	# Structure
\*------------------------------------*/

.doc__collapsible {
	ul {
		.unstyled();
	}
}
.collapsibleList {
	&Closed,
	&Open {
		.cursor();
		&:before {
			.bold();
		}
	}
	&Closed {
		.prefix('+');
	}
	&Open {
		.prefix('-');
	}
}





/*------------------------------------*\
	# Blog
\*------------------------------------*/

.blog {
	.background();
	&-comments {
		.margin(top; 6);
	}
}





/*------------------------------------*\
	# Code
\*------------------------------------*/

.namespace {
	opacity: .7;
}
.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}
.token.entity {
	cursor: help;
}
.token.comment,
.token.block-comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #7D8B99;
}
.token.punctuation {
	color: #5F6364;
}
.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.function-name,
.token.constant,
.token.symbol,
.token.deleted {
	color: #c92c2c;
}
.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.function,
.token.builtin,
.token.inserted {
	color: #2f9c0a;
}
.token.operator,
.token.entity,
.token.url,
.token.variable {
	color: #a67f59;
}
.token.atrule,
.token.attr-value,
.token.keyword,
.token.class-name {
	color: #1990b8;
}
.token.regex,
.token.important {
	color: #e90;
}